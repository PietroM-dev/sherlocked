(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},wl={};var m_;function b1(){if(m_)return wl;m_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var p_;function A1(){return p_||(p_=1,Qd.exports=b1()),Qd.exports}var A=A1(),Kd={exports:{}},be={};var g_;function w1(){if(g_)return be;g_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function L(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,G={};function ie(O,Z,oe){this.props=O,this.context=Z,this.refs=G,this.updater=oe||K}ie.prototype.isReactComponent={},ie.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},ie.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=ie.prototype;function X(O,Z,oe){this.props=O,this.context=Z,this.refs=G,this.updater=oe||K}var ae=X.prototype=new ne;ae.constructor=X,$(ae,ie.prototype),ae.isPureReactComponent=!0;var de=Array.isArray;function ye(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Z,oe){var ce=oe.ref;return{$$typeof:a,type:O,key:Z,ref:ce!==void 0?ce:null,props:oe}}function V(O,Z){return I(O.type,Z,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return Z[oe]})}var N=/\/+/g;function $e(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Z.toString(36)}function ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ye,ye):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,Z,oe,ce,Te){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case a:case e:ze=!0;break;case E:return ze=O._init,Q(ze(O._payload),Z,oe,ce,Te)}}if(ze)return Te=Te(O),ze=ce===""?"."+$e(O,0):ce,de(Te)?(oe="",ze!=null&&(oe=ze.replace(N,"$&/")+"/"),Q(Te,Z,oe,"",function(sr){return sr})):Te!=null&&(M(Te)&&(Te=V(Te,oe+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+ze)),Z.push(Te)),1;ze=0;var Dt=ce===""?".":ce+":";if(de(O))for(var rt=0;rt<O.length;rt++)ce=O[rt],Ce=Dt+$e(ce,rt),ze+=Q(ce,Z,oe,Ce,Te);else if(rt=L(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(ce=O.next()).done;)ce=ce.value,Ce=Dt+$e(ce,rt++),ze+=Q(ce,Z,oe,Ce,Te);else if(Ce==="object"){if(typeof O.then=="function")return Q(ft(O),Z,oe,ce,Te);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ze}function se(O,Z,oe){if(O==null)return O;var ce=[],Te=0;return Q(O,ce,"","",function(Ce){return Z.call(oe,Ce,Te++)}),ce}function me(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var Ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},je={map:se,forEach:function(O,Z,oe){se(O,function(){Z.apply(this,arguments)},oe)},count:function(O){var Z=0;return se(O,function(){Z++}),Z},toArray:function(O){return se(O,function(Z){return Z})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return be.Activity=S,be.Children=je,be.Component=ie,be.Fragment=n,be.Profiler=o,be.PureComponent=X,be.StrictMode=r,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(O,Z,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=$({},O.props),Te=O.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Te=""+Z.key),Z)!w.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ce[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=oe;else if(1<Ce){for(var ze=Array(Ce),Dt=0;Dt<Ce;Dt++)ze[Dt]=arguments[Dt+2];ce.children=ze}return I(O.type,Te,ce)},be.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},be.createElement=function(O,Z,oe){var ce,Te={},Ce=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ce=""+Z.key),Z)w.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Z[ce]);var ze=arguments.length-2;if(ze===1)Te.children=oe;else if(1<ze){for(var Dt=Array(ze),rt=0;rt<ze;rt++)Dt[rt]=arguments[rt+2];Te.children=Dt}if(O&&O.defaultProps)for(ce in ze=O.defaultProps,ze)Te[ce]===void 0&&(Te[ce]=ze[ce]);return I(O,Ce,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=M,be.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:me}},be.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},be.startTransition=function(O){var Z=C.T,oe={};C.T=oe;try{var ce=O(),Te=C.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ye,Ue)}catch(Ce){Ue(Ce)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),C.T=Z}},be.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},be.use=function(O){return C.H.use(O)},be.useActionState=function(O,Z,oe){return C.H.useActionState(O,Z,oe)},be.useCallback=function(O,Z){return C.H.useCallback(O,Z)},be.useContext=function(O){return C.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,Z){return C.H.useDeferredValue(O,Z)},be.useEffect=function(O,Z){return C.H.useEffect(O,Z)},be.useEffectEvent=function(O){return C.H.useEffectEvent(O)},be.useId=function(){return C.H.useId()},be.useImperativeHandle=function(O,Z,oe){return C.H.useImperativeHandle(O,Z,oe)},be.useInsertionEffect=function(O,Z){return C.H.useInsertionEffect(O,Z)},be.useLayoutEffect=function(O,Z){return C.H.useLayoutEffect(O,Z)},be.useMemo=function(O,Z){return C.H.useMemo(O,Z)},be.useOptimistic=function(O,Z){return C.H.useOptimistic(O,Z)},be.useReducer=function(O,Z,oe){return C.H.useReducer(O,Z,oe)},be.useRef=function(O){return C.H.useRef(O)},be.useState=function(O){return C.H.useState(O)},be.useSyncExternalStore=function(O,Z,oe){return C.H.useSyncExternalStore(O,Z,oe)},be.useTransition=function(){return C.H.useTransition()},be.version="19.2.4",be}var y_;function Km(){return y_||(y_=1,Kd.exports=w1()),Kd.exports}var z=Km(),Yd={exports:{}},Rl={},$d={exports:{}},Xd={};var v_;function R1(){return v_||(v_=1,(function(a){function e(Q,se){var me=Q.length;Q.push(se);e:for(;0<me;){var Ue=me-1>>>1,je=Q[Ue];if(0<o(je,se))Q[Ue]=se,Q[me]=je,me=Ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var se=Q[0],me=Q.pop();if(me!==se){Q[0]=me;e:for(var Ue=0,je=Q.length,O=je>>>1;Ue<O;){var Z=2*(Ue+1)-1,oe=Q[Z],ce=Z+1,Te=Q[ce];if(0>o(oe,me))ce<je&&0>o(Te,oe)?(Q[Ue]=Te,Q[ce]=me,Ue=ce):(Q[Ue]=oe,Q[Z]=me,Ue=Z);else if(ce<je&&0>o(Te,me))Q[Ue]=Te,Q[ce]=me,Ue=ce;else break e}}return se}function o(Q,se){var me=Q.sortIndex-se.sortIndex;return me!==0?me:Q.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,L=!1,K=!1,$=!1,G=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ae(Q){for(var se=n(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=Q)r(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function de(Q){if($=!1,ae(Q),!K)if(n(g)!==null)K=!0,ye||(ye=!0,k());else{var se=n(y);se!==null&&ft(de,se.startTime-Q)}}var ye=!1,C=-1,w=5,I=-1;function V(){return G?!0:!(a.unstable_now()-I<w)}function M(){if(G=!1,ye){var Q=a.unstable_now();I=Q;var se=!0;try{e:{K=!1,$&&($=!1,ne(C),C=-1),L=!0;var me=R;try{t:{for(ae(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&V());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,R=S.priorityLevel;var je=Ue(S.expirationTime<=Q);if(Q=a.unstable_now(),typeof je=="function"){S.callback=je,ae(Q),se=!0;break t}S===n(g)&&r(g),ae(Q)}else r(g);S=n(g)}if(S!==null)se=!0;else{var O=n(y);O!==null&&ft(de,O.startTime-Q),se=!1}}break e}finally{S=null,R=me,L=!1}se=void 0}}finally{se?k():ye=!1}}}var k;if(typeof X=="function")k=function(){X(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$e=N.port2;N.port1.onmessage=M,k=function(){$e.postMessage(null)}}else k=function(){ie(M,0)};function ft(Q,se){C=ie(function(){Q(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var me=R;R=se;try{return Q()}finally{R=me}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=R;R=Q;try{return se()}finally{R=me}},a.unstable_scheduleCallback=function(Q,se,me){var Ue=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,Q){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=me+je,Q={id:E++,callback:se,priorityLevel:Q,startTime:me,expirationTime:je,sortIndex:-1},me>Ue?(Q.sortIndex=me,e(y,Q),n(g)===null&&Q===n(y)&&($?(ne(C),C=-1):$=!0,ft(de,me-Ue))):(Q.sortIndex=je,e(g,Q),K||L||(K=!0,ye||(ye=!0,k()))),Q},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(Q){var se=R;return function(){var me=R;R=se;try{return Q.apply(this,arguments)}finally{R=me}}}})(Xd)),Xd}var __;function C1(){return __||(__=1,$d.exports=R1()),$d.exports}var Jd={exports:{}},Yt={};var E_;function I1(){if(E_)return Yt;E_=1;var a=Km();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Yt.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},Yt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Yt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Yt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:L}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Yt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Yt.requestFormReset=function(g){r.d.r(g)},Yt.unstable_batchedUpdates=function(g,y){return g(y)},Yt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.2.4",Yt}var T_;function N1(){if(T_)return Jd.exports;T_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Jd.exports=I1(),Jd.exports}var S_;function D1(){if(S_)return Rl;S_=1;var a=C1(),e=Km(),n=N1();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ie:return"Profiler";case G:return"StrictMode";case de:return"Suspense";case ye:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case X:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:$e(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return $e(t(i))}catch{}}return null}var ft=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],je=-1;function O(t){return{current:t}}function Z(t){0>je||(t.current=Ue[je],Ue[je]=null,je--)}function oe(t,i){je++,Ue[je]=t.current,t.current=i}var ce=O(null),Te=O(null),Ce=O(null),ze=O(null);function Dt(t,i){switch(oe(Ce,i),oe(Te,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=kv(i),t=zv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function rt(){Z(ce),Z(Te),Z(Ce)}function sr(t){t.memoizedState!==null&&oe(ze,t);var i=ce.current,s=zv(i,t.type);i!==s&&(oe(Te,t),oe(ce,s))}function ts(t){Te.current===t&&(Z(ce),Z(Te)),ze.current===t&&(Z(ze),Tl._currentValue=me)}var ns,is;function ii(t){if(ns===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",is=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+t+is}var To=!1;function or(t,i){if(!t||To)return"";To=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var B=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){B=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){B=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),q=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ii(s):""}function So(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return or(t.type,!1);case 11:return or(t.type.render,!1);case 1:return or(t.type,!0);case 31:return ii("Activity");default:return""}}function bo(t){try{var i="",s=null;do i+=So(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=a.unstable_scheduleCallback,ua=a.unstable_cancelCallback,Kh=a.unstable_shouldYield,hu=a.unstable_requestPaint,Wt=a.unstable_now,lr=a.unstable_getCurrentPriorityLevel,Ao=a.unstable_ImmediatePriority,wo=a.unstable_UserBlockingPriority,ca=a.unstable_NormalPriority,Yh=a.unstable_LowPriority,fu=a.unstable_IdlePriority,du=a.log,mu=a.unstable_setDisableYieldValue,kn=null,Pt=null;function Tn(t){if(typeof du=="function"&&mu(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(kn,t)}catch{}}var dt=Math.clz32?Math.clz32:gu,pu=Math.log,as=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/as|0)|0}var ai=256,ur=262144,_t=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ri(l):(v&=T,v!==0?h=ri(v):s||(s=T&~t,s!==0&&(h=ri(s))))):(T=l&~d,T!==0?h=ri(T):v!==0?h=ri(v):s||(s=l&~t,s!==0&&(h=ri(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $h(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function oi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function cr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xh(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(s=v&~s;0<s;){var Y=31-dt(s),W=1<<Y;T[Y]=0,D[Y]=-1;var B=q[Y];if(B!==null)for(q[Y]=null,Y=0;Y<B.length;Y++){var F=B[Y];F!==null&&(F.lane&=-536870913)}s&=~W}l!==0&&hr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function hr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Ro(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-dt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function Co(t,i){var s=i&-i;return s=(s&42)!==0?1:fr(s),(s&(t.suspendedLanes|i))!==0?0:s}function fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:o_(t.type))}function Pn(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var jn=Math.random().toString(36).slice(2),Et="__reactFiber$"+jn,Lt="__reactProps$"+jn,li="__reactContainer$"+jn,rs="__reactEvents$"+jn,Jh="__reactListeners$"+jn,_u="__reactHandles$"+jn,Eu="__reactResources$"+jn,ui="__reactMarker$"+jn;function ss(t){delete t[Et],delete t[Lt],delete t[rs],delete t[Jh],delete t[_u]}function ci(t){var i=t[Et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[li]||s[Et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Gv(t);t!==null;){if(s=t[Et])return s;t=Gv(t)}return i}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[Et]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function hi(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[ui]=!0}var Io=new Set,No={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(No[t]=i,t=0;t<i.length;t++)Io.add(i[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function Tu(t){return vt.call(Mo,t)?!0:vt.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function os(t,i,s){if(Tu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function dn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function St(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ha(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xo(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=ha(t)?"checked":"value";t._valueTracker=xo(t,i,""+t[i])}}function dr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=ha(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mr=/[\n"\\]/g;function nn(t){return t.replace(mr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ls(t,i,s,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Vo(t,v,Ut(i)):s!=null?Vo(t,v,Ut(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function Su(t,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}s=s!=null?""+Ut(s):"",i=i!=null?""+Ut(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function Vo(t,i,s){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fa(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ut(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function bu(t,i,s){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ut(s):""}function da(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ut(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Au.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Uo(t,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(t){return ma.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var ko=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pa=null,pi=null;function pr(t){var i=Sn(t);if(i&&(t=i.stateNode)){var s=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ls(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(r(90));ls(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&dr(l)}break e;case"textarea":bu(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&fa(t,!!s.multiple,i,!1)}}}var hs=!1;function ga(t,i,s){if(hs)return t(i,s);hs=!0;try{var l=t(i);return l}finally{if(hs=!1,(pa!==null||pi!==null)&&(vc(),pa&&(i=pa,t=pi,pi=pa=null,pr(i),t)))for(i=0;i<t.length;i++)pr(t[i])}}function Bn(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Lt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{gr=!1}var gi=null,zo=null,yr=null;function Po(){if(yr)return yr;var t,i=zo,s=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return yr=h.slice(t,1<l?1-l:void 0)}function vr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Hn(){return!1}function jt(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Hn,this.isPropagationStopped=Hn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=jt(Li),ya=S({},Li,{view:0,detail:0}),jo=jt(ya),va,fs,vi,ds=S({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(va=t.screenX-vi.screenX,fs=t.screenY-vi.screenY):fs=va=0,vi=t),va)},movementY:function(t){return"movementY"in t?t.movementY:fs}}),qo=jt(ds),_r=S({},ds,{dataTransfer:0}),Ru=jt(_r),Cu=S({},ya,{relatedTarget:0}),Er=jt(Cu),Bo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=jt(Bo),ms=S({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=jt(ms),Du=S({},Li,{data:0}),_i=jt(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function _a(){return Vu}var en=S({},ya,{key:function(t){if(t.key){var i=Ou[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=jt(en),Uu=S({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=jt(Uu),c=S({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),p=jt(c),_=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=jt(_),P=S({},ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=jt(P),re=S({},Li,{newState:0,oldState:0}),we=jt(re),mt=[9,13,27,32],He=An&&"CompositionEvent"in window,st=null;An&&"documentMode"in document&&(st=document.documentMode);var wn=An&&"TextEvent"in window&&!st,Ei=An&&(!He||st&&8<st&&11>=st),Fn=" ",Gn=!1;function Tr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function KS(t,i){switch(t){case"compositionend":return ps(i);case"keypress":return i.which!==32?null:(Gn=!0,Fn);case"textInput":return t=i.data,t===Fn&&Gn?null:t;default:return null}}function YS(t,i){if(gs)return t==="compositionend"||!He&&Tr(t,i)?(t=Po(),yr=zo=gi=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$S[t.type]:i==="textarea"}function $p(t,i,s,l){pa?pi?pi.push(l):pi=[l]:pa=l,i=wc(i,"onChange"),0<i.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Ho=null,Fo=null;function XS(t){Ov(t,0)}function ku(t){var i=fn(t);if(dr(i))return t}function Xp(t,i){if(t==="change")return i}var Jp=!1;if(An){var Zh;if(An){var Wh="oninput"in document;if(!Wh){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Wh=typeof Zp.oninput=="function"}Zh=Wh}else Zh=!1;Jp=Zh&&(!document.documentMode||9<document.documentMode)}function Wp(){Ho&&(Ho.detachEvent("onpropertychange",eg),Fo=Ho=null)}function eg(t){if(t.propertyName==="value"&&ku(Fo)){var i=[];$p(i,Fo,t,bn(t)),ga(XS,i)}}function JS(t,i,s){t==="focusin"?(Wp(),Ho=i,Fo=s,Ho.attachEvent("onpropertychange",eg)):t==="focusout"&&Wp()}function ZS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Fo)}function WS(t,i){if(t==="click")return ku(i)}function eb(t,i){if(t==="input"||t==="change")return ku(i)}function tb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:tb;function Go(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!vt.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,i){var s=tg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tg(s)}}function ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=mi(t.document)}return i}function ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var nb=An&&"documentMode"in document&&11>=document.documentMode,ys=null,tf=null,Qo=null,nf=!1;function rg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nf||ys==null||ys!==mi(l)||(l=ys,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=wc(tf,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ys)))}function Sr(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var vs={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},af={},sg={};An&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function br(t){if(af[t])return af[t];if(!vs[t])return t;var i=vs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in sg)return af[t]=i[s];return t}var og=br("animationend"),lg=br("animationiteration"),ug=br("animationstart"),ib=br("transitionrun"),ab=br("transitionstart"),rb=br("transitioncancel"),cg=br("transitionend"),hg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Qn(t,i){hg.set(t,i),fi(i,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],_s=0,sf=0;function Pu(){for(var t=_s,i=sf=_s=0;i<t;){var s=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&fg(s,h,d)}}function ju(t,i,s,l){Rn[_s++]=t,Rn[_s++]=i,Rn[_s++]=s,Rn[_s++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,s,l){return ju(t,i,s,l),qu(t)}function Ar(t,i){return ju(t,null,null,i),qu(t)}function fg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function qu(t){if(50<ml)throw ml=0,gd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Es={};function sb(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,s,l){return new sb(t,i,s,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var s=t.alternate;return s===null?(s=pn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function dg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")lf(t)&&(v=1);else if(typeof t=="string")v=h1(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=pn(31,s,i,h),t.elementType=I,t.lanes=d,t;case $:return wr(s.children,h,d,i);case G:v=8,h|=24;break;case ie:return t=pn(12,s,i,h|2),t.elementType=ie,t.lanes=d,t;case de:return t=pn(13,s,i,h),t.elementType=de,t.lanes=d,t;case ye:return t=pn(19,s,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:v=10;break e;case ne:v=9;break e;case ae:v=11;break e;case C:v=14;break e;case w:v=16,l=null;break e}v=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=pn(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function wr(t,i,s,l){return t=pn(7,t,l,i),t.lanes=s,t}function uf(t,i,s){return t=pn(6,t,null,i),t.lanes=s,t}function mg(t){var i=pn(18,null,null,0);return i.stateNode=t,i}function cf(t,i,s){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var pg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var s=pg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:bo(i)},pg.set(t,i),i)}return{value:t,source:i,stack:bo(i)}}var Ts=[],Ss=0,Hu=null,Ko=0,In=[],Nn=0,Ea=null,Ti=1,Si="";function zi(t,i){Ts[Ss++]=Ko,Ts[Ss++]=Hu,Hu=t,Ko=i}function gg(t,i,s){In[Nn++]=Ti,In[Nn++]=Si,In[Nn++]=Ea,Ea=t;var l=Ti;t=Si;var h=32-dt(l)-1;l&=~(1<<h),s+=1;var d=32-dt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ti=1<<32-dt(i)+h|s<<h|l,Si=d+t}else Ti=1<<d|s<<h|l,Si=t}function hf(t){t.return!==null&&(zi(t,1),gg(t,1,0))}function ff(t){for(;t===Hu;)Hu=Ts[--Ss],Ts[Ss]=null,Ko=Ts[--Ss],Ts[Ss]=null;for(;t===Ea;)Ea=In[--Nn],In[Nn]=null,Si=In[--Nn],In[Nn]=null,Ti=In[--Nn],In[Nn]=null}function yg(t,i){In[Nn++]=Ti,In[Nn++]=Si,In[Nn++]=Ea,Ti=i.id,Si=i.overflow,Ea=t}var qt=null,nt=null,ke=!1,Ta=null,Dn=!1,df=Error(r(519));function Sa(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Cn(i,t)),df}function vg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Lt]=l,s){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(s=0;s<gl.length;s++)De(gl[s],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),da(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Lv(i.textContent,s)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Sa(t,!0)}function _g(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:qt=qt.return}}function bs(t){if(t!==qt)return!1;if(!ke)return _g(t),ke=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Od(t.type,t.memoizedProps)),s=!s),s&&nt&&Sa(t),_g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=Fv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=Fv(t)}else i===27?(i=nt,Ua(t.type)?(t=Ud,Ud=null,nt=t):nt=i):nt=qt?Mn(t.stateNode.nextSibling):null;return!0}function Rr(){nt=qt=null,ke=!1}function mf(){var t=Ta;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ta=null),t}function Yo(t){Ta===null?Ta=[t]:Ta.push(t)}var pf=O(null),Cr=null,Pi=null;function ba(t,i,s){oe(pf,i._currentValue),i._currentValue=s}function ji(t){t._currentValue=pf.current,Z(pf)}function gf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function yf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),gf(d.return,s,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),gf(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function As(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&yf(i,t,s,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Cr=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return Eg(Cr,t)}function Gu(t,i){return Cr===null&&Ir(t),Eg(t,i)}function Eg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(r(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return s}var ob=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},lb=a.unstable_scheduleCallback,ub=a.unstable_NormalPriority,bt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new ob,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&lb(ub,function(){t.controller.abort()})}var Xo=null,_f=0,ws=0,Rs=null;function cb(t,i){if(Xo===null){var s=Xo=[];_f=0,ws=Sd(),Rs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return _f++,i.then(Tg,Tg),i}function Tg(){if(--_f===0&&Xo!==null){Rs!==null&&(Rs.status="fulfilled");var t=Xo;Xo=null,ws=0,Rs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hb(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Sg=Q.S;Q.S=function(t,i){rv=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&cb(t,i),Sg!==null&&Sg(t,i)};var Nr=O(null);function Ef(){var t=Nr.current;return t!==null?t:et.pooledCache}function Qu(t,i){i===null?oe(Nr,Nr.current):oe(Nr,i.pool)}function bg(){var t=Ef();return t===null?null:{parent:bt._currentValue,pool:t}}var Cs=Error(r(460)),Tf=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(qn,qn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t;default:if(typeof i.status=="string")i.then(qn,qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t}throw Or=i,Cs}}function Dr(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Cs):s}}var Or=null;function Rg(){if(Or===null)throw Error(r(459));var t=Or;return Or=null,t}function Cg(t){if(t===Cs||t===Ku)throw Error(r(483))}var Is=null,Jo=0;function $u(t){var i=Jo;return Jo+=1,Is===null&&(Is=[]),wg(Is,t,i)}function Zo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){function i(U,x){if(t){var j=U.deletions;j===null?(U.deletions=[x],U.flags|=16):j.push(x)}}function s(U,x){if(!t)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=ki(U,x),U.index=0,U.sibling=null,U}function d(U,x,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<x?(U.flags|=67108866,x):j):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,j,J){return x===null||x.tag!==6?(x=uf(j,U.mode,J),x.return=U,x):(x=h(x,j),x.return=U,x)}function D(U,x,j,J){var pe=j.type;return pe===$?Y(U,x,j.props.children,J,j.key):x!==null&&(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Dr(pe)===x.type)?(x=h(x,j.props),Zo(x,j),x.return=U,x):(x=Bu(j.type,j.key,j.props,null,U.mode,J),Zo(x,j),x.return=U,x)}function q(U,x,j,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=cf(j,U.mode,J),x.return=U,x):(x=h(x,j.children||[]),x.return=U,x)}function Y(U,x,j,J,pe){return x===null||x.tag!==7?(x=wr(j,U.mode,J,pe),x.return=U,x):(x=h(x,j),x.return=U,x)}function W(U,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=uf(""+x,U.mode,j),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L:return j=Bu(x.type,x.key,x.props,null,U.mode,j),Zo(j,x),j.return=U,j;case K:return x=cf(x,U.mode,j),x.return=U,x;case w:return x=Dr(x),W(U,x,j)}if(ft(x)||k(x))return x=wr(x,U.mode,j,null),x.return=U,x;if(typeof x.then=="function")return W(U,$u(x),j);if(x.$$typeof===X)return W(U,Gu(U,x),j);Xu(U,x)}return null}function B(U,x,j,J){var pe=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:T(U,x,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===pe?D(U,x,j,J):null;case K:return j.key===pe?q(U,x,j,J):null;case w:return j=Dr(j),B(U,x,j,J)}if(ft(j)||k(j))return pe!==null?null:Y(U,x,j,J,null);if(typeof j.then=="function")return B(U,x,$u(j),J);if(j.$$typeof===X)return B(U,x,Gu(U,j),J);Xu(U,j)}return null}function F(U,x,j,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(j)||null,T(x,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return U=U.get(J.key===null?j:J.key)||null,D(x,U,J,pe);case K:return U=U.get(J.key===null?j:J.key)||null,q(x,U,J,pe);case w:return J=Dr(J),F(U,x,j,J,pe)}if(ft(J)||k(J))return U=U.get(j)||null,Y(x,U,J,pe,null);if(typeof J.then=="function")return F(U,x,j,$u(J),pe);if(J.$$typeof===X)return F(U,x,j,Gu(x,J),pe);Xu(x,J)}return null}function he(U,x,j,J){for(var pe=null,qe=null,fe=x,Ie=x=0,Me=null;fe!==null&&Ie<j.length;Ie++){fe.index>Ie?(Me=fe,fe=null):Me=fe.sibling;var Be=B(U,fe,j[Ie],J);if(Be===null){fe===null&&(fe=Me);break}t&&fe&&Be.alternate===null&&i(U,fe),x=d(Be,x,Ie),qe===null?pe=Be:qe.sibling=Be,qe=Be,fe=Me}if(Ie===j.length)return s(U,fe),ke&&zi(U,Ie),pe;if(fe===null){for(;Ie<j.length;Ie++)fe=W(U,j[Ie],J),fe!==null&&(x=d(fe,x,Ie),qe===null?pe=fe:qe.sibling=fe,qe=fe);return ke&&zi(U,Ie),pe}for(fe=l(fe);Ie<j.length;Ie++)Me=F(fe,U,Ie,j[Ie],J),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?Ie:Me.key),x=d(Me,x,Ie),qe===null?pe=Me:qe.sibling=Me,qe=Me);return t&&fe.forEach(function(qa){return i(U,qa)}),ke&&zi(U,Ie),pe}function ve(U,x,j,J){if(j==null)throw Error(r(151));for(var pe=null,qe=null,fe=x,Ie=x=0,Me=null,Be=j.next();fe!==null&&!Be.done;Ie++,Be=j.next()){fe.index>Ie?(Me=fe,fe=null):Me=fe.sibling;var qa=B(U,fe,Be.value,J);if(qa===null){fe===null&&(fe=Me);break}t&&fe&&qa.alternate===null&&i(U,fe),x=d(qa,x,Ie),qe===null?pe=qa:qe.sibling=qa,qe=qa,fe=Me}if(Be.done)return s(U,fe),ke&&zi(U,Ie),pe;if(fe===null){for(;!Be.done;Ie++,Be=j.next())Be=W(U,Be.value,J),Be!==null&&(x=d(Be,x,Ie),qe===null?pe=Be:qe.sibling=Be,qe=Be);return ke&&zi(U,Ie),pe}for(fe=l(fe);!Be.done;Ie++,Be=j.next())Be=F(fe,U,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),qe===null?pe=Be:qe.sibling=Be,qe=Be);return t&&fe.forEach(function(S1){return i(U,S1)}),ke&&zi(U,Ie),pe}function We(U,x,j,J){if(typeof j=="object"&&j!==null&&j.type===$&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:e:{for(var pe=j.key;x!==null;){if(x.key===pe){if(pe=j.type,pe===$){if(x.tag===7){s(U,x.sibling),J=h(x,j.props.children),J.return=U,U=J;break e}}else if(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Dr(pe)===x.type){s(U,x.sibling),J=h(x,j.props),Zo(J,j),J.return=U,U=J;break e}s(U,x);break}else i(U,x);x=x.sibling}j.type===$?(J=wr(j.props.children,U.mode,J,j.key),J.return=U,U=J):(J=Bu(j.type,j.key,j.props,null,U.mode,J),Zo(J,j),J.return=U,U=J)}return v(U);case K:e:{for(pe=j.key;x!==null;){if(x.key===pe)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){s(U,x.sibling),J=h(x,j.children||[]),J.return=U,U=J;break e}else{s(U,x);break}else i(U,x);x=x.sibling}J=cf(j,U.mode,J),J.return=U,U=J}return v(U);case w:return j=Dr(j),We(U,x,j,J)}if(ft(j))return he(U,x,j,J);if(k(j)){if(pe=k(j),typeof pe!="function")throw Error(r(150));return j=pe.call(j),ve(U,x,j,J)}if(typeof j.then=="function")return We(U,x,$u(j),J);if(j.$$typeof===X)return We(U,x,Gu(U,j),J);Xu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(s(U,x.sibling),J=h(x,j),J.return=U,U=J):(s(U,x),J=uf(j,U.mode,J),J.return=U,U=J),v(U)):s(U,x)}return function(U,x,j,J){try{Jo=0;var pe=We(U,x,j,J);return Is=null,pe}catch(fe){if(fe===Cs||fe===Ku)throw fe;var qe=pn(29,fe,null,U.mode);return qe.lanes=J,qe.return=U,qe}}}var Mr=Ig(!0),Ng=Ig(!1),Aa=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(t),fg(t,null,s),i}return ju(t,l,i,s),qu(t)}function Wo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ro(t,s)}}function Af(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var wf=!1;function el(){if(wf){var t=Rs;if(t!==null)throw t}}function tl(t,i,s,l){wf=!1;var h=t.updateQueue;Aa=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,q=D.next;D.next=null,v===null?d=q:v.next=q,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=q:T.next=q,Y.lastBaseUpdate=D))}if(d!==null){var W=h.baseState;v=0,Y=q=D=null,T=d;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(Oe&B)===B:(l&B)===B){B!==0&&B===ws&&(wf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ve=T;B=i;var We=s;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){W=he.call(We,W,B);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,B=typeof he=="function"?he.call(We,W,B):he,B==null)break e;W=S({},W,B);break e;case 2:Aa=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(q=Y=F,D=W):Y=Y.next=F,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(D=W),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Oa|=v,t.lanes=v,t.memoizedState=W}}function Dg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Og(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Dg(s[t],i)}var Ns=O(null),Ju=O(0);function Mg(t,i){t=$i,oe(Ju,t),oe(Ns,i),$i=t|i.baseLanes}function Rf(){oe(Ju,$i),oe(Ns,Ns.current)}function Cf(){$i=Ju.current,Z(Ns),Z(Ju)}var gn=O(null),On=null;function Ca(t){var i=t.alternate;oe(pt,pt.current&1),oe(gn,t),On===null&&(i===null||Ns.current!==null||i.memoizedState!==null)&&(On=t)}function If(t){oe(pt,pt.current),oe(gn,t),On===null&&(On=t)}function xg(t){t.tag===22?(oe(pt,pt.current),oe(gn,t),On===null&&(On=t)):Ia()}function Ia(){oe(pt,pt.current),oe(gn,gn.current)}function yn(t){Z(gn),On===t&&(On=null),Z(pt)}var pt=O(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Vd(s)||Ld(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Re=null,Je=null,At=null,Wu=!1,Ds=!1,xr=!1,ec=0,nl=0,Os=null,fb=0;function ct(){throw Error(r(321))}function Nf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!mn(t[s],i[s]))return!1;return!0}function Df(t,i,s,l,h,d){return qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?gy:Gf,xr=!1,d=s(l,h),xr=!1,Ds&&(d=Lg(i,s,l,h)),Vg(t),d}function Vg(t){Q.H=rl;var i=Je!==null&&Je.next!==null;if(qi=0,At=Je=Re=null,Wu=!1,nl=0,Os=null,i)throw Error(r(300));t===null||wt||(t=t.dependencies,t!==null&&Fu(t)&&(wt=!0))}function Lg(t,i,s,l){Re=t;var h=0;do{if(Ds&&(Os=null),nl=0,Ds=!1,25<=h)throw Error(r(301));if(h+=1,At=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=yy,d=i(s,l)}while(Ds);return d}function db(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function Of(){var t=ec!==0;return ec=0,t}function Mf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function xf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}qi=0,At=Je=Re=null,Ds=!1,nl=ec=0,Os=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function gt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Os===null&&(Os=[]),t=wg(Os,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?gy:Gf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===X)return Bt(t)}throw Error(r(438,String(t)))}function Vf(t){var i=null,s=Re.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=tc(),Re.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=V;return i.index++,s}function Bi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=gt();return Lf(i,Je,t)}function Lf(t,i,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,D=null,q=i,Y=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Oe&W)===W:(qi&W)===W){var B=q.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===ws&&(Y=!0);else if((qi&B)===B){q=q.next,B===ws&&(Y=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=W,v=d):D=D.next=W,Re.lanes|=B,Oa|=B;W=q.action,xr&&s(d,W),d=q.hasEagerState?q.eagerState:s(d,W)}else B={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=B,v=d):D=D.next=B,Re.lanes|=W,Oa|=W;q=q.next}while(q!==null&&q!==i);if(D===null?v=d:D.next=T,!mn(d,t.memoizedState)&&(wt=!0,Y&&(s=Rs,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uf(t){var i=gt(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Ug(t,i,s){var l=Re,h=gt(),d=ke;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var v=!mn((Je||h).memoizedState,s);if(v&&(h.memoizedState=s,wt=!0),h=h.queue,Pf(Pg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ms(9,{destroy:void 0},zg.bind(null,l,h,s,i),null),et===null)throw Error(r(349));d||(qi&127)!==0||kg(l,i,s)}return s}function kg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Re.updateQueue,i===null?(i=tc(),Re.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function zg(t,i,s,l){i.value=s,i.getSnapshot=l,jg(i)&&qg(t)}function Pg(t,i,s){return s(function(){jg(i)&&qg(t)})}function jg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!mn(t,s)}catch{return!0}}function qg(t){var i=Ar(t,2);i!==null&&un(i,t,2)}function kf(t){var i=tn();if(typeof t=="function"){var s=t;if(t=s(),xr){Tn(!0);try{s()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Bg(t,i,s,l){return t.baseState=s,Lf(t,Je,typeof l=="function"?l:Bi)}function mb(t,i,s,l,h){if(sc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Hg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Hg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=s(h,l),D=Q.S;D!==null&&D(v,T),Fg(t,i,T)}catch(q){zf(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=s(h,l),Fg(t,i,d)}catch(q){zf(t,i,q)}}function Fg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Gg(t,i,l)},function(l){return zf(t,i,l)}):Gg(t,i,s)}function Gg(t,i,s){i.status="fulfilled",i.value=s,Qg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Hg(t,s)))}function zf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Qg(i),i=i.next;while(i!==l)}t.action=null}function Qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kg(t,i){return i}function Yg(t,i){if(ke){var s=et.formState;if(s!==null){e:{var l=Re;if(ke){if(nt){t:{for(var h=nt,d=Dn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Mn(h.nextSibling),l=h.data==="F!";break e}}Sa(l)}l=!1}l&&(i=s[0])}}return s=tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},s.queue=l,s=dy.bind(null,Re,l),l.dispatch=s,l=kf(!1),d=Ff.bind(null,Re,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=mb.bind(null,Re,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function $g(t){var i=gt();return Xg(i,Je,t)}function Xg(t,i,s){if(i=Lf(t,i,Kg)[0],t=ic(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(v){throw v===Cs?Ku:v}else l=i;i=gt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Re.flags|=2048,Ms(9,{destroy:void 0},pb.bind(null,h,s),null)),[l,d,t]}function pb(t,i){t.action=i}function Jg(t){var i=gt(),s=Je;if(s!==null)return Xg(i,s,t);gt(),i=i.memoizedState,s=gt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Ms(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=tc(),Re.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Zg(){return gt().memoizedState}function ac(t,i,s,l){var h=tn();Re.flags|=t,h.memoizedState=Ms(1|i,{destroy:void 0},s,l===void 0?null:l)}function rc(t,i,s,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Nf(l,Je.memoizedState.deps)?h.memoizedState=Ms(i,d,s,l):(Re.flags|=t,h.memoizedState=Ms(1|i,d,s,l))}function Wg(t,i){ac(8390656,8,t,i)}function Pf(t,i){rc(2048,8,t,i)}function gb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=tc(),Re.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function ey(t){var i=gt().memoizedState;return gb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function ty(t,i){return rc(4,2,t,i)}function ny(t,i){return rc(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,s){s=s!=null?s.concat([t]):null,rc(4,4,iy.bind(null,i,t),s)}function jf(){}function ry(t,i){var s=gt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Nf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function sy(t,i){var s=gt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Nf(i,l[1]))return l[0];if(l=t(),xr){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l}function qf(t,i,s){return s===void 0||(qi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=ov(),Re.lanes|=t,Oa|=t,s)}function oy(t,i,s,l){return mn(s,i)?s:Ns.current!==null?(t=qf(t,s,l),mn(t,i)||(wt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Oe&261930)===0?(wt=!0,t.memoizedState=s):(t=ov(),Re.lanes|=t,Oa|=t,i)}function ly(t,i,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Ff(t,!1,i,s);try{var D=h(),q=Q.S;if(q!==null&&q(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=hb(D,l);al(t,i,Y,En(t))}else al(t,i,l,En(t))}catch(W){al(t,i,{then:function(){},status:"rejected",reason:W},En())}finally{se.p=d,v!==null&&T.types!==null&&(v.types=T.types),Q.T=v}}function yb(){}function Bf(t,i,s,l){if(t.tag!==5)throw Error(r(476));var h=uy(t).queue;ly(t,h,i,me,s===null?yb:function(){return cy(t),s(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:me},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t);i.next===null&&(i=t.alternate.memoizedState),al(t,i.next.queue,{},En())}function Hf(){return Bt(Tl)}function hy(){return gt().memoizedState}function fy(){return gt().memoizedState}function vb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=En();t=wa(s);var l=Ra(i,t,s);l!==null&&(un(l,i,s),Wo(l,i,s)),i={cache:vf()},t.payload=i;return}i=i.return}}function _b(t,i,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sc(t)?my(i,s):(s=of(t,i,s,l),s!==null&&(un(s,t,l),py(s,i,l)))}function dy(t,i,s){var l=En();al(t,i,s,l)}function al(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(t))my(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return ju(t,i,h,0),et===null&&Pu(),!1}catch{}if(s=of(t,i,h,l),s!==null)return un(s,t,l),py(s,i,l),!0}return!1}function Ff(t,i,s,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(r(479))}else i=of(t,s,l,2),i!==null&&un(i,t,2)}function sc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function my(t,i){Ds=Wu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function py(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ro(t,s)}}var rl={readContext:Bt,use:nc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};rl.useEffectEvent=ct;var gy={readContext:Bt,use:nc,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Bt,useEffect:Wg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,ac(4194308,4,iy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var s=tn();i=i===void 0?null:i;var l=t();if(xr){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=tn();if(s!==void 0){var h=s(i);if(xr){Tn(!0);try{s(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_b.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,s=dy.bind(null,Re,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:jf,useDeferredValue:function(t,i){var s=tn();return qf(s,t,i)},useTransition:function(){var t=kf(!1);return t=ly.bind(null,Re,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Re,h=tn();if(ke){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),et===null)throw Error(r(349));(Oe&127)!==0||kg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Wg(Pg.bind(null,l,d,t),[t]),l.flags|=2048,Ms(9,{destroy:void 0},zg.bind(null,l,d,s,i),null),s},useId:function(){var t=tn(),i=et.identifierPrefix;if(ke){var s=Si,l=Ti;s=(l&~(1<<32-dt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=ec++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=fb++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ff.bind(null,Re,!0,s),s.dispatch=i,[t,i]},useMemoCache:Vf,useCacheRefresh:function(){return tn().memoizedState=vb.bind(null,Re)},useEffectEvent:function(t){var i=tn(),s={impl:t};return i.memoizedState=s,function(){if((Fe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Gf={readContext:Bt,use:nc,useCallback:ry,useContext:Bt,useEffect:Pf,useImperativeHandle:ay,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:ic,useRef:Zg,useState:function(){return ic(Bi)},useDebugValue:jf,useDeferredValue:function(t,i){var s=gt();return oy(s,Je.memoizedState,t,i)},useTransition:function(){var t=ic(Bi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Ug,useId:hy,useHostTransitionStatus:Hf,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var s=gt();return Bg(s,Je,t,i)},useMemoCache:Vf,useCacheRefresh:fy};Gf.useEffectEvent=ey;var yy={readContext:Bt,use:nc,useCallback:ry,useContext:Bt,useEffect:Pf,useImperativeHandle:ay,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Uf,useRef:Zg,useState:function(){return Uf(Bi)},useDebugValue:jf,useDeferredValue:function(t,i){var s=gt();return Je===null?qf(s,t,i):oy(s,Je.memoizedState,t,i)},useTransition:function(){var t=Uf(Bi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Ug,useId:hy,useHostTransitionStatus:Hf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var s=gt();return Je!==null?Bg(s,Je,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:fy};yy.useEffectEvent=ey;function Qf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:S({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Kf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=En(),h=wa(l);h.payload=i,s!=null&&(h.callback=s),i=Ra(t,h,l),i!==null&&(un(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=En(),h=wa(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Ra(t,h,l),i!==null&&(un(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=En(),l=wa(s);l.tag=2,i!=null&&(l.callback=i),i=Ra(t,l,s),i!==null&&(un(i,t,s),Wo(i,t,s))}};function vy(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Go(s,l)||!Go(h,d):!0}function _y(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Kf.enqueueReplaceState(i,i.state,null)}function Vr(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Ey(t){zu(t)}function Ty(t){console.error(t)}function Sy(t){zu(t)}function oc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function by(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,i,s){return s=wa(s),s.tag=3,s.payload={element:null},s.callback=function(){oc(t,i)},s}function Ay(t){return t=wa(t),t.tag=3,t}function wy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){by(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){by(i,s,l),typeof h!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Eb(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&As(i,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?_c():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Yu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),_d(t,l,h)),!1;case 22:return s.flags|=65536,l===Yu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),_d(t,l,h)),!1}throw Error(r(435,s.tag))}return _d(t,l,h),_c(),!1}if(ke)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(t=Error(r(422),{cause:l}),Yo(Cn(t,s)))):(l!==df&&(i=Error(r(423),{cause:l}),Yo(Cn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,s),h=Yf(t.stateNode,l,h),Af(t,h),ht!==4&&(ht=2)),!1;var d=Error(r(520),{cause:l});if(d=Cn(d,s),dl===null?dl=[d]:dl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Cn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Yf(s.stateNode,l,t),Af(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ma===null||!Ma.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ay(h),wy(h,t,s,l),Af(s,h),!1}s=s.return}while(s!==null);return!1}var $f=Error(r(461)),wt=!1;function Ht(t,i,s,l){i.child=t===null?Ng(i,null,s,l):Mr(i,t.child,s,l)}function Ry(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ir(i),l=Df(t,i,s,v,d,h),T=Of(),t!==null&&!wt?(Mf(t,i,h),Hi(t,i,h)):(ke&&T&&hf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Cy(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=Bu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!id(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(v,l)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return Xf(t,i,s,l,h)}function Ny(t,i,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Dy(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?Mg(i,d):Rf(),xg(i);else return l=i.lanes=536870912,Dy(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Qu(i,d.cachePool),Mg(i,d),Ia(),i.memoizedState=null):(t!==null&&Qu(i,null),Rf(),Ia());return Ht(t,i,h,s),i.child}function sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(t,i,s,l,h){var d=Ef();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Qu(i,null),Rf(),xg(i),t!==null&&As(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Oy(t,i,s){return Mr(i,t.child,null,s),t=lc(i,i.pendingProps),t.flags|=2,yn(i),i.memoizedState=null,t}function Tb(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,sl(null,t);if(If(i),(t=nt)?(t=Hv(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=mg(t),s.return=i,i.child=s,qt=i,nt=null)):t=null,t===null)throw Sa(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(If(i),h)if(i.flags&256)i.flags&=-257,i=Oy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(wt||As(t,i,s,!1),h=(s&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(v=Co(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ar(t,v),un(l,t,v),$f;_c(),i=Oy(t,i,s)}else t=d.treeContext,nt=Mn(v.nextSibling),qt=i,ke=!0,Ta=null,Dn=!1,t!==null&&yg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Xf(t,i,s,l,h){return Ir(i),s=Df(t,i,s,l,void 0,h),l=Of(),t!==null&&!wt?(Mf(t,i,h),Hi(t,i,h)):(ke&&l&&hf(i),i.flags|=1,Ht(t,i,s,h),i.child)}function My(t,i,s,l,h,d){return Ir(i),i.updateQueue=null,s=Lg(i,l,s,h),Vg(t),l=Of(),t!==null&&!wt?(Mf(t,i,d),Hi(t,i,d)):(ke&&l&&hf(i),i.flags|=1,Ht(t,i,s,d),i.child)}function xy(t,i,s,l,h){if(Ir(i),i.stateNode===null){var d=Es,v=s.contextType;typeof v=="object"&&v!==null&&(d=Bt(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sf(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Bt(v):Es,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Qf(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Kf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Vr(s,T);d.props=D;var q=d.context,Y=s.contextType;v=Es,typeof Y=="object"&&Y!==null&&(v=Bt(Y));var W=s.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&_y(i,d,l,v),Aa=!1;var B=i.memoizedState;d.state=B,tl(i,l,d,h),el(),q=i.memoizedState,T||B!==q||Aa?(typeof W=="function"&&(Qf(i,s,W,l),q=i.memoizedState),(D=Aa||vy(i,s,D,l,B,q,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(t,i),v=i.memoizedProps,Y=Vr(s,v),d.props=Y,W=i.pendingProps,B=d.context,q=s.contextType,D=Es,typeof q=="object"&&q!==null&&(D=Bt(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||B!==D)&&_y(i,d,l,D),Aa=!1,B=i.memoizedState,d.state=B,tl(i,l,d,h),el();var F=i.memoizedState;v!==W||B!==F||Aa||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(Qf(i,s,T,l),F=i.memoizedState),(Y=Aa||vy(i,s,Y,l,B,F,D)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Mr(i,t.child,null,h),i.child=Mr(i,null,s,h)):Ht(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Hi(t,i,h),t}function Vy(t,i,s,l){return Rr(),i.flags|=256,Ht(t,i,s,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:bg()}}function Wf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=_n),t}function Ly(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Ca(i):Ia(),(t=nt)?(t=Hv(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=mg(t),s.return=i,i.child=s,qt=i,nt=null)):t=null,t===null)throw Sa(i);return Ld(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ia(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=wr(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Zf(s),l.childLanes=Wf(t,v,s),i.memoizedState=Jf,sl(null,l)):(Ca(i),ed(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Ca(i),i.flags&=-257,i=td(t,i,s)):i.memoizedState!==null?(Ia(),i.child=t.child,i.flags|=128,i=null):(Ia(),T=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),T=wr(T,h,s,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Mr(i,t.child,null,s),l=i.child,l.memoizedState=Zf(s),l.childLanes=Wf(t,v,s),i.memoizedState=Jf,i=sl(null,l));else if(Ca(i),Ld(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(r(419)),l.stack="",l.digest=v,Yo({value:l,source:null,stack:null}),i=td(t,i,s)}else if(wt||As(t,i,s,!1),v=(s&t.childLanes)!==0,wt||v){if(v=et,v!==null&&(l=Co(v,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ar(t,l),un(v,t,l),$f;Vd(T)||_c(),i=td(t,i,s)}else Vd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,nt=Mn(T.nextSibling),qt=i,ke=!0,Ta=null,Dn=!1,t!==null&&yg(i,t),i=ed(i,l.children),i.flags|=4096);return i}return h?(Ia(),T=l.fallback,h=i.mode,D=t.child,q=D.sibling,l=ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?T=ki(q,T):(T=wr(T,h,s,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,sl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Zf(s):(h=T.cachePool,h!==null?(D=bt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=bg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Wf(t,v,s),i.memoizedState=Jf,sl(t.child,l)):(Ca(i),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function ed(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=pn(22,t,null,i),t.lanes=0,t}function td(t,i,s){return Mr(i,t.child,null,s),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Uy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gf(t.return,i,s)}function nd(t,i,s,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=h,v.treeForkCount=d)}function ky(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=pt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,oe(pt,v),Ht(t,i,l,s),l=ke?Ko:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,s,i);else if(t.tag===19)Uy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),nd(i,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}nd(i,!0,s,null,d,l);break;case"together":nd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Oa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(As(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,s=ki(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Sb(t,i,s){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),ba(i,bt,t.memoizedState.cache),Rr();break;case 27:case 5:sr(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:ba(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,If(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Ly(t,i,s):(Ca(i),t=Hi(t,i,s),t!==null?t.sibling:null);Ca(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(As(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return ky(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Ny(t,i,s,i.pendingProps);case 24:ba(i,bt,t.memoizedState.cache)}return Hi(t,i,s)}function zy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!id(t,s)&&(i.flags&128)===0)return wt=!1,Sb(t,i,s);wt=(t.flags&131072)!==0}else wt=!1,ke&&(i.flags&1048576)!==0&&gg(i,Ko,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Dr(i.elementType),i.type=t,typeof t=="function")lf(t)?(l=Vr(t,l),i.tag=1,i=xy(null,i,t,l,s)):(i.tag=0,i=Xf(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ae){i.tag=11,i=Ry(null,i,t,l,s);break e}else if(h===C){i.tag=14,i=Cy(null,i,t,l,s);break e}}throw i=$e(t)||t,Error(r(306,i,""))}}return i;case 0:return Xf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Vr(l,i.pendingProps),xy(t,i,l,h,s);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bf(t,i),tl(i,l,null,s);var v=i.memoizedState;if(l=v.cache,ba(i,bt,l),l!==d.cache&&yf(i,[bt],s,!0),el(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vy(t,i,l,s);break e}else if(l!==h){h=Cn(Error(r(424)),i),Yo(h),i=Vy(t,i,l,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Mn(t.firstChild),qt=i,ke=!0,Ta=null,Dn=!0,s=Ng(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),l===h){i=Hi(t,i,s);break e}Ht(t,i,l,s)}i=i.child}return i;case 26:return uc(t,i),t===null?(s=$v(i.type,null,i.pendingProps,null))?i.memoizedState=s:ke||(s=i.type,t=i.pendingProps,l=Rc(Ce.current).createElement(s),l[Et]=i,l[Lt]=t,Ft(l,s,t),Tt(l),i.stateNode=l):i.memoizedState=$v(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return sr(i),t===null&&ke&&(l=i.stateNode=Qv(i.type,i.pendingProps,Ce.current),qt=i,Dn=!0,h=nt,Ua(i.type)?(Ud=h,nt=Mn(l.firstChild)):nt=h),Ht(t,i,i.pendingProps.children,s),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=nt)&&(l=Zb(l,i.type,i.pendingProps,Dn),l!==null?(i.stateNode=l,qt=i,nt=Mn(l.firstChild),Dn=!1,h=!0):h=!1),h||Sa(i)),sr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Od(h,d)?l=null:v!==null&&Od(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(t,i,db,null,null,s),Tl._currentValue=h),uc(t,i),Ht(t,i,l,s),i.child;case 6:return t===null&&ke&&((t=s=nt)&&(s=Wb(s,i.pendingProps,Dn),s!==null?(i.stateNode=s,qt=i,nt=null,t=!0):t=!1),t||Sa(i)),null;case 13:return Ly(t,i,s);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Mr(i,null,l,s):Ht(t,i,l,s),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,s);case 7:return Ht(t,i,i.pendingProps,s),i.child;case 8:return Ht(t,i,i.pendingProps.children,s),i.child;case 12:return Ht(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ba(i,i.type,l.value),Ht(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ir(i),h=Bt(h),l=l(h),i.flags|=1,Ht(t,i,l,s),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,s);case 15:return Iy(t,i,i.type,i.pendingProps,s);case 19:return ky(t,i,s);case 31:return Tb(t,i,s);case 22:return Ny(t,i,s,i.pendingProps);case 24:return Ir(i),l=Bt(bt),t===null?(h=Ef(),h===null&&(h=et,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Sf(i),ba(i,bt,h)):((t.lanes&s)!==0&&(bf(t,i),tl(i,null,null,s),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ba(i,bt,l)):(l=d.cache,ba(i,bt,l),l!==h.cache&&yf(i,[bt],s,!0))),Ht(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Fi(t){t.flags|=4}function ad(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(hv())t.flags|=8192;else throw Or=Yu,Tf}else t.flags&=-16777217}function Py(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!e_(i))if(hv())t.flags|=8192;else throw Or=Yu,Tf}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Us|=i)}function ol(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function bb(t,i,s){var l=i.pendingProps;switch(ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(bt),rt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(bs(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Fi(i),d!==null?(it(i),Py(i,d)):(it(i),ad(i,h,null,l,s))):d?d!==t.memoizedState?(Fi(i),it(i),Py(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(i),it(i),ad(i,h,t,l,s)),null;case 27:if(ts(i),s=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return it(i),null}t=ce.current,bs(i)?vg(i):(t=Qv(h,l,s),i.stateNode=t,Fi(i))}return it(i),null;case 5:if(ts(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(d=ce.current,bs(i))vg(i);else{var v=Rc(Ce.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Et]=i,d[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fi(i)}}return it(i),ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ce.current,bs(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Lv(t.nodeValue,s)),t||Sa(i,!0)}else t=Rc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return it(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=bs(i),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=i}else Rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else s=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=bs(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=i}else Rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),hc(i,i.updateQueue),it(i),null);case 4:return rt(),t===null&&Rd(i.stateNode.containerInfo),it(i),null;case 10:return ji(i.type),it(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ol(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,ol(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)dg(s,t),s=s.sibling;return oe(pt,pt.current&1|2),ke&&zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Wt()>gc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return it(i),null}else 2*Wt()-l.renderingStartTime>gc&&s!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,s=pt.current,oe(pt,h?s&1|2:s&1),ke&&zi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return yn(i),Cf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),s=i.updateQueue,s!==null&&hc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&Z(Nr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ji(bt),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Ab(t,i){switch(ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(bt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ts(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(r(340));Rr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(yn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Rr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return rt(),null;case 10:return ji(i.type),null;case 22:case 23:return yn(i),Cf(),t!==null&&Z(Nr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function jy(t,i){switch(ff(i),i.tag){case 3:ji(bt),rt();break;case 26:case 27:case 5:ts(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:Z(pt);break;case 10:ji(i.type);break;case 22:case 23:yn(i),Cf(),t!==null&&Z(Nr);break;case 24:ji(bt)}}function ll(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Ye(i,i.return,T)}}function Na(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var D=s,q=T;try{q()}catch(Y){Ye(h,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(i,i.return,Y)}}function qy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Og(i,s)}catch(l){Ye(t,t.return,l)}}}function By(t,i,s){s.props=Vr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(t,i,l)}}function ul(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ye(t,i,h)}}function bi(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,i,h)}else s.current=null}function Hy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function rd(t,i,s){try{var l=t.stateNode;Qb(l,t.type,s,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ua(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Ua(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,s),t=t.sibling;t!==null;)od(t,i,s),t=t.sibling}function fc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Ua(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(fc(t,i,s),t=t.sibling;t!==null;)fc(t,i,s),t=t.sibling}function Gy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,s),i[Et]=t,i[Lt]=s}catch(d){Ye(t,t.return,d)}}var Gi=!1,Rt=!1,ld=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function wb(t,i){if(t=t.containerInfo,Nd=xc,t=ag(t),ef(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,D=-1,q=0,Y=0,W=t,B=null;t:for(;;){for(var F;W!==s||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(D=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)B=W,W=F;for(;;){if(W===t)break t;if(B===s&&++q===h&&(T=v),B===d&&++Y===l&&(D=v),(F=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=F}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dd={focusedElem:t,selectionRange:s},xc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var he=Vr(s.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ye(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)xd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function Ky(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(t,s),l&4&&ll(5,s);break;case 1:if(Ki(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){Ye(s,s.return,v)}else{var h=Vr(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(s,s.return,v)}}l&64&&qy(s),l&512&&ul(s,s.return);break;case 3:if(Ki(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Og(t,i)}catch(v){Ye(s,s.return,v)}}break;case 27:i===null&&l&4&&Gy(s);case 26:case 5:Ki(t,s),i===null&&l&4&&Hy(s),l&512&&ul(s,s.return);break;case 12:Ki(t,s);break;case 31:Ki(t,s),l&4&&Xy(t,s);break;case 13:Ki(t,s),l&4&&Jy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Vb.bind(null,s),e1(t,s))));break;case 22:if(l=s.memoizedState!==null||Gi,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Gi;var d=Rt;Gi=l,(Rt=i)&&!d?Yi(t,s,(s.subtreeFlags&8772)!==0):Ki(t,s),Gi=h,Rt=d}break;case 30:break;default:Ki(t,s)}}function Yy(t){var i=t.alternate;i!==null&&(t.alternate=null,Yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ss(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,rn=!1;function Qi(t,i,s){for(s=s.child;s!==null;)$y(t,i,s),s=s.sibling}function $y(t,i,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Rt||bi(s,i),Qi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||bi(s,i);var l=ot,h=rn;Ua(s.type)&&(ot=s.stateNode,rn=!1),Qi(t,i,s),vl(s.stateNode),ot=l,rn=h;break;case 5:Rt||bi(s,i);case 6:if(l=ot,h=rn,ot=null,Qi(t,i,s),ot=l,rn=h,ot!==null)if(rn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(d){Ye(s,i,d)}else try{ot.removeChild(s.stateNode)}catch(d){Ye(s,i,d)}break;case 18:ot!==null&&(rn?(t=ot,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Fs(t)):qv(ot,s.stateNode));break;case 4:l=ot,h=rn,ot=s.stateNode.containerInfo,rn=!0,Qi(t,i,s),ot=l,rn=h;break;case 0:case 11:case 14:case 15:Na(2,s,i),Rt||Na(4,s,i),Qi(t,i,s);break;case 1:Rt||(bi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&By(s,i,l)),Qi(t,i,s);break;case 21:Qi(t,i,s);break;case 22:Rt=(l=Rt)||s.memoizedState!==null,Qi(t,i,s),Rt=l;break;default:Qi(t,i,s)}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fs(t)}catch(s){Ye(i,i.return,s)}}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fs(t)}catch(s){Ye(i,i.return,s)}}function Rb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Qy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Qy),i;default:throw Error(r(435,t.tag))}}function dc(t,i){var s=Rb(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=Lb.bind(null,t,l);l.then(h,h)}})}function sn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ua(T.type)){ot=T.stateNode,rn=!1;break e}break;case 5:ot=T.stateNode,rn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,rn=!0;break e}T=T.return}if(ot===null)throw Error(r(160));$y(d,v,h),ot=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var Kn=null;function Zy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(i,t),on(t),l&4&&(Na(3,t,t.return),ll(3,t),Na(5,t,t.return));break;case 1:sn(i,t),on(t),l&512&&(Rt||s===null||bi(s,s.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Kn;if(sn(i,t),on(t),l&512&&(Rt||s===null||bi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,s),d[Et]=t,Tt(d),l=d;break e;case"link":var v=Zv("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,s),h.head.appendChild(d);break;case"meta":if(v=Zv("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,s),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Wv(h,t.type,t.stateNode);else t.stateNode=Jv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Wv(h,t.type,t.stateNode):Jv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,s.memoizedProps)}break;case 27:sn(i,t),on(t),l&512&&(Rt||s===null||bi(s,s.return)),s!==null&&l&4&&rd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(sn(i,t),on(t),l&512&&(Rt||s===null||bi(s,s.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(sn(i,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Nc=null,h=Kn,Kn=Cc(i.containerInfo),sn(i,t),Kn=h,on(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Fs(i.containerInfo)}catch(he){Ye(t,t.return,he)}ld&&(ld=!1,Wy(t));break;case 4:l=Kn,Kn=Cc(t.stateNode.containerInfo),sn(i,t),on(t),Kn=l;break;case 12:sn(i,t),on(t);break;case 31:sn(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:sn(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pc=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=Gi,Y=Rt;if(Gi=q||h,Rt=Y||D,sn(i,t),Rt=Y,Gi=q,on(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||D||Gi||Rt||Lr(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var W=D.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){Ye(D,D.return,he)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(he){Ye(D,D.return,he)}}}else if(i.tag===18){if(s===null){D=i;try{var F=D.stateNode;h?Bv(F,!0):Bv(D.stateNode,!1)}catch(he){Ye(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,dc(t,s))));break;case 19:sn(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:sn(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Fy(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,d=sd(t);fc(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(an(v,""),s.flags&=-33);var T=sd(t);fc(t,T,v);break;case 3:case 4:var D=s.stateNode.containerInfo,q=sd(t);od(t,q,D);break;default:throw Error(r(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(t,i.alternate,i),i=i.sibling}function Lr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Na(4,i,i.return),Lr(i);break;case 1:bi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&By(i,i.return,s),Lr(i);break;case 27:vl(i.stateNode);case 26:case 5:bi(i,i.return),Lr(i);break;case 22:i.memoizedState===null&&Lr(i);break;case 30:Lr(i);break;default:Lr(i)}t=t.sibling}}function Yi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,s),ll(4,d);break;case 1:if(Yi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ye(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Dg(D[h],T)}catch(q){Ye(l,l.return,q)}}s&&v&64&&qy(d),ul(d,d.return);break;case 27:Gy(d);case 26:case 5:Yi(h,d,s),s&&l===null&&v&4&&Hy(d),ul(d,d.return);break;case 12:Yi(h,d,s);break;case 31:Yi(h,d,s),s&&v&4&&Xy(h,d);break;case 13:Yi(h,d,s),s&&v&4&&Jy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,s),ul(d,d.return);break;case 30:break;default:Yi(h,d,s)}i=i.sibling}}function ud(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&$o(s))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function Yn(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ev(t,i,s,l),i=i.sibling}function ev(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(t,i,s,l),h&2048&&ll(9,i);break;case 1:Yn(t,i,s,l);break;case 3:Yn(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){Yn(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else Yn(t,i,s,l);break;case 31:Yn(t,i,s,l);break;case 13:Yn(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Yn(t,i,s,l):cl(t,i):d._visibility&2?Yn(t,i,s,l):(d._visibility|=2,xs(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ud(v,i);break;case 24:Yn(t,i,s,l),h&2048&&cd(i.alternate,i);break;default:Yn(t,i,s,l)}}function xs(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=s,D=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:xs(d,v,T,D,h),ll(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?xs(d,v,T,D,h):cl(d,v):(Y._visibility|=2,xs(d,v,T,D,h)),h&&q&2048&&ud(v.alternate,v);break;case 24:xs(d,v,T,D,h),h&&q&2048&&cd(v.alternate,v);break;default:xs(d,v,T,D,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:cl(s,l),h&2048&&ud(l.alternate,l);break;case 24:cl(s,l),h&2048&&cd(l.alternate,l);break;default:cl(s,l)}i=i.sibling}}var hl=8192;function Vs(t,i,s){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)tv(t,i,s),t=t.sibling}function tv(t,i,s){switch(t.tag){case 26:Vs(t,i,s),t.flags&hl&&t.memoizedState!==null&&f1(s,Kn,t.memoizedState,t.memoizedProps);break;case 5:Vs(t,i,s);break;case 3:case 4:var l=Kn;Kn=Cc(t.stateNode.containerInfo),Vs(t,i,s),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,Vs(t,i,s),hl=l):Vs(t,i,s));break;default:Vs(t,i,s)}}function nv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];kt=l,av(l,t)}nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Na(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):fl(t);break;default:fl(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];kt=l,av(l,t)}nv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Na(8,i,i.return),mc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function av(t,i){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:Na(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,kt=l;else e:for(s=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Yy(l),l===s){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var Cb={getCacheForType:function(t){var i=Bt(bt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Bt(bt).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ne=null,Oe=0,Ke=0,vn=null,Da=!1,Ls=!1,hd=!1,$i=0,ht=0,Oa=0,Ur=0,fd=0,_n=0,Us=0,dl=null,ln=null,dd=!1,pc=0,rv=0,gc=1/0,yc=null,Ma=null,Mt=0,xa=null,ks=null,Xi=0,md=0,pd=null,sv=null,ml=0,gd=null;function En(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:Q.T!==null?Sd():vu()}function ov(){if(_n===0)if((Oe&536870912)===0||ke){var t=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function un(t,i,s){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(zs(t,0),Va(t,Oe,_n,!1)),cr(t,s),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Ur|=s),ht===4&&Va(t,Oe,_n,!1)),Ai(t))}function lv(t,i,s){if((Fe&6)!==0)throw Error(r(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||zn(t,i),h=l?Ob(t,i):vd(t,i,!0),d=l;do{if(h===0){Ls&&!l&&Va(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!Nb(s)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=dl;var D=T.current.memoizedState.isDehydrated;if(D&&(zs(T,v).flags|=256),v=vd(T,v,!1),v!==2){if(hd&&!D){T.errorRecoveryDisabledLanes|=d,Ur|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){zs(t,0),Va(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Va(l,i,_n,!Da);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=pc+300-Wt(),10<h)){if(Va(l,i,_n,!Da),si(l,0,!0)!==0)break e;Xi=i,l.timeoutHandle=Pv(uv.bind(null,l,s,ln,yc,dd,i,_n,Ur,Us,Da,d,"Throttled",-0,0),h);break e}uv(l,s,ln,yc,dd,i,_n,Ur,Us,Da,d,null,-0,0)}}break}while(!0);Ai(t)}function uv(t,i,s,l,h,d,v,T,D,q,Y,W,B,F){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},tv(i,d,W);var he=(d&62914560)===d?pc-Wt():(d&4194048)===d?rv-Wt():0;if(he=d1(W,he),he!==null){Xi=d,t.cancelPendingCommit=he(yv.bind(null,t,i,d,s,l,h,v,T,D,Y,W,null,B,F)),Va(t,d,v,!q);return}}yv(t,i,d,s,l,h,v,T,D)}function Nb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Va(t,i,s,l){i&=~fd,i&=~Ur,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&hr(t,s,i)}function vc(){return(Fe&6)===0?(pl(0),!1):!0}function yd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Pi=Cr=null,xf(t),Is=null,Jo=0,t=Ne;for(;t!==null;)jy(t.alternate,t),t=t.return;Ne=null}}function zs(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,$b(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Xi=0,yd(),et=t,Ne=s=ki(t.current,null),Oe=i,Ke=0,vn=null,Da=!1,Ls=zn(t,i),hd=!1,Us=_n=fd=Ur=Oa=ht=0,ln=dl=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return $i=i,Pu(),s}function cv(t,i){Re=null,Q.H=rl,i===Cs||i===Ku?(i=Rg(),Ke=3):i===Tf?(i=Rg(),Ke=4):Ke=i===$f?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ne===null&&(ht=1,oc(t,Cn(i,t.current)))}function hv(){var t=gn.current;return t===null?!0:(Oe&4194048)===Oe?On===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===On:!1}function fv(){var t=Q.H;return Q.H=rl,t===null?rl:t}function dv(){var t=Q.A;return Q.A=Cb,t}function _c(){ht=4,Da||(Oe&4194048)!==Oe&&gn.current!==null||(Ls=!0),(Oa&134217727)===0&&(Ur&134217727)===0||et===null||Va(et,Oe,_n,!1)}function vd(t,i,s){var l=Fe;Fe|=2;var h=fv(),d=dv();(et!==t||Oe!==i)&&(yc=null,zs(t,i)),i=!1;var v=ht;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,D=vn;switch(Ke){case 8:yd(),v=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var q=Ke;if(Ke=0,vn=null,Ps(t,T,D,q),s&&Ls){v=0;break e}break;default:q=Ke,Ke=0,vn=null,Ps(t,T,D,q)}}Db(),v=ht;break}catch(Y){cv(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Pi=Cr=null,Fe=l,Q.H=h,Q.A=d,Ne===null&&(et=null,Oe=0,Pu()),v}function Db(){for(;Ne!==null;)mv(Ne)}function Ob(t,i){var s=Fe;Fe|=2;var l=fv(),h=dv();et!==t||Oe!==i?(yc=null,gc=Wt()+500,zs(t,i)):Ls=zn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,Ps(t,i,d,1);break;case 2:case 9:if(Ag(d)){Ke=0,vn=null,pv(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ai(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ag(d)?(Ke=0,vn=null,pv(i)):(Ke=0,vn=null,Ps(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(v?e_(v):T.stateNode.complete){Ke=0,vn=null;var D=T.sibling;if(D!==null)Ne=D;else{var q=T.return;q!==null?(Ne=q,Ec(q)):Ne=null}break t}}Ke=0,vn=null,Ps(t,i,d,5);break;case 6:Ke=0,vn=null,Ps(t,i,d,6);break;case 8:yd(),ht=6;break e;default:throw Error(r(462))}}Mb();break}catch(Y){cv(t,Y)}while(!0);return Pi=Cr=null,Q.H=l,Q.A=h,Fe=s,Ne!==null?0:(et=null,Oe=0,Pu(),ht)}function Mb(){for(;Ne!==null&&!Kh();)mv(Ne)}function mv(t){var i=zy(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function pv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=My(s,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=My(s,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:xf(i);default:jy(s,i),i=Ne=dg(i,$i),i=zy(s,i,$i)}t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function Ps(t,i,s,l){Pi=Cr=null,xf(i),Is=null,Jo=0;var h=i.return;try{if(Eb(t,h,i,s,Oe)){ht=1,oc(t,Cn(s,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,oc(t,Cn(s,t.current)),Ne=null;return}i.flags&32768?(ke||l===1?t=!0:Ls||(Oe&536870912)!==0?t=!1:(Da=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){gv(i,Da);return}t=i.return;var s=bb(i.alternate,i,$i);if(s!==null){Ne=s;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function gv(t,i){do{var s=Ab(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ht=6,Ne=null}function yv(t,i,s,l,h,d,v,T,D){t.cancelPendingCommit=null;do Tc();while(Mt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=sf,Xh(t,s,d,v,T,D),t===et&&(Ne=et=null,Oe=0),ks=i,xa=t,Xi=s,md=d,pd=h,sv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ub(ca,function(){return Sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,v=Fe,Fe|=4;try{wb(t,i,s)}finally{Fe=v,se.p=h,Q.T=l}}Mt=1,vv(),_v(),Ev()}}function vv(){if(Mt===1){Mt=0;var t=xa,i=ks,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{Zy(i,t);var d=Dd,v=ag(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ig(T.ownerDocument.documentElement,T)){if(D!==null&&ef(T)){var q=D.start,Y=D.end;if(Y===void 0&&(Y=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Y,T.value.length);else{var W=T.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var F=B.getSelection(),he=T.textContent.length,ve=Math.min(D.start,he),We=D.end===void 0?ve:Math.min(D.end,he);!F.extend&&ve>We&&(v=We,We=ve,ve=v);var U=ng(T,ve),x=ng(T,We);if(U&&x&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var j=W.createRange();j.setStart(U.node,U.offset),F.removeAllRanges(),ve>We?(F.addRange(j),F.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),F.addRange(j))}}}}for(W=[],F=T;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}xc=!!Nd,Dd=Nd=null}finally{Fe=h,se.p=l,Q.T=s}}t.current=i,Mt=2}}function _v(){if(Mt===2){Mt=0;var t=xa,i=ks,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Fe;Fe|=4;try{Ky(t,i.alternate,i)}finally{Fe=h,se.p=l,Q.T=s}}Mt=3}}function Ev(){if(Mt===4||Mt===3){Mt=0,hu();var t=xa,i=ks,s=Xi,l=sv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,ks=xa=null,Tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ma=null),xi(s),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,se.p=h}}(Xi&3)!==0&&Tc(),Ai(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===gd?ml++:(ml=0,gd=t):ml=0,pl(0)}}function Tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function Tc(){return vv(),_v(),Ev(),Sv()}function Sv(){if(Mt!==5)return!1;var t=xa,i=md;md=0;var s=xi(Xi),l=Q.T,h=se.p;try{se.p=32>s?32:s,Q.T=null,s=pd,pd=null;var d=xa,v=Xi;if(Mt=0,ks=xa=null,Xi=0,(Fe&6)!==0)throw Error(r(331));var T=Fe;if(Fe|=4,iv(d.current),ev(d,d.current,v,s),Fe=T,pl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(kn,d)}catch{}return!0}finally{se.p=h,Q.T=l,Tv(t,i)}}function bv(t,i,s){i=Cn(s,i),i=Yf(t.stateNode,i,2),t=Ra(t,i,2),t!==null&&(cr(t,2),Ai(t))}function Ye(t,i,s){if(t.tag===3)bv(t,t,s);else for(;i!==null;){if(i.tag===3){bv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ma===null||!Ma.has(l))){t=Cn(s,t),s=Ay(2),l=Ra(i,s,2),l!==null&&(wy(s,l,i,t),cr(l,2),Ai(l));break}}i=i.return}}function _d(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Ib;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(hd=!0,h.add(s),t=xb.bind(null,t,i,s),i.then(t,t))}function xb(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(Oe&s)===s&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>Wt()-pc?(Fe&2)===0&&zs(t,0):fd|=s,Us===Oe&&(Us=0)),Ai(t)}function Av(t,i){i===0&&(i=yu()),t=Ar(t,i),t!==null&&(cr(t,i),Ai(t))}function Vb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Av(t,s)}function Lb(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Av(t,s)}function Ub(t,i){return Ot(t,i)}var Sc=null,js=null,Ed=!1,bc=!1,Td=!1,La=0;function Ai(t){t!==js&&t.next===null&&(js===null?Sc=js=t:js=js.next=t),bc=!0,Ed||(Ed=!0,zb())}function pl(t,i){if(!Td&&bc){Td=!0;do for(var s=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Iv(l,d))}else d=Oe,d=si(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(s=!0,Iv(l,d));l=l.next}while(s);Td=!1}}function kb(){wv()}function wv(){bc=Ed=!1;var t=0;La!==0&&Yb()&&(t=La);for(var i=Wt(),s=null,l=Sc;l!==null;){var h=l.next,d=Rv(l,i);d===0?(l.next=null,s===null?Sc=h:s.next=h,h===null&&(js=s)):(s=l,(t!==0||(d&3)!==0)&&(bc=!0)),l=h}Mt!==0&&Mt!==5||pl(t),La!==0&&(La=0)}function Rv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),T=1<<v,D=h[v];D===-1?((T&s)===0||(T&l)!==0)&&(h[v]=$h(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,s=Oe,s=si(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ua(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&ua(l),xi(s)){case 2:case 8:s=wo;break;case 32:s=ca;break;case 268435456:s=fu;break;default:s=ca}return l=Cv.bind(null,t),s=Ot(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&ua(l),t.callbackPriority=2,t.callbackNode=null,2}function Cv(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Tc()&&t.callbackNode!==s)return null;var l=Oe;return l=si(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(lv(t,l,i),Rv(t,Wt()),t.callbackNode!=null&&t.callbackNode===s?Cv.bind(null,t):null)}function Iv(t,i){if(Tc())return null;lv(t,i,!0)}function zb(){Xb(function(){(Fe&6)!==0?Ot(Ao,kb):wv()})}function Sd(){if(La===0){var t=ws;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),La=t}return La}function Nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cs(""+t)}function Dv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Pb(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Nv((h[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?Nv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new yi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(La!==0){var D=v?Dv(h,v):new FormData(h);Bf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?Dv(h,v):new FormData(h),Bf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var bd=0;bd<rf.length;bd++){var Ad=rf[bd],jb=Ad.toLowerCase(),qb=Ad[0].toUpperCase()+Ad.slice(1);Qn(jb,"on"+qb)}Qn(og,"onAnimationEnd"),Qn(lg,"onAnimationIteration"),Qn(ug,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(ib,"onTransitionRun"),Qn(ab,"onTransitionStart"),Qn(rb,"onTransitionCancel"),Qn(cg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function Ov(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,q=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Y){zu(Y)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,q=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Y){zu(Y)}h.currentTarget=null,d=D}}}}function De(t,i){var s=i[rs];s===void 0&&(s=i[rs]=new Set);var l=t+"__bubble";s.has(l)||(Mv(i,t,2,!1),s.add(l))}function wd(t,i,s){var l=0;i&&(l|=4),Mv(s,t,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Ac]){t[Ac]=!0,Io.forEach(function(s){s!=="selectionchange"&&(Bb.has(s)||wd(s,!1,t),wd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,wd("selectionchange",!1,i))}}function Mv(t,i,s,l){switch(o_(i)){case 2:var h=g1;break;case 8:h=y1;break;default:h=qd}s=h.bind(null,i,s,t),h=void 0,!gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Cd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ci(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ga(function(){var q=d,Y=bn(s),W=[];e:{var B=hg.get(t);if(B!==void 0){var F=yi,he=t;switch(t){case"keypress":if(vr(s)===0)break e;case"keydown":case"keyup":F=Lu;break;case"focusin":he="focus",F=Er;break;case"focusout":he="blur",F=Er;break;case"beforeblur":case"afterblur":F=Er;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case og:case lg:case ug:F=Iu;break;case cg:F=b;break;case"scroll":case"scrollend":F=jo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=we}var ve=(i&4)!==0,We=!ve&&(t==="scroll"||t==="scrollend"),U=ve?B!==null?B+"Capture":null:B;ve=[];for(var x=q,j;x!==null;){var J=x;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||U===null||(J=Bn(x,U),J!=null&&ve.push(yl(x,J,j))),We)break;x=x.return}0<ve.length&&(B=new F(B,he,null,s,Y),W.push({event:B,listeners:ve}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&s!==ko&&(he=s.relatedTarget||s.fromElement)&&(ci(he)||he[li]))break e;if((F||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,F?(he=s.relatedTarget||s.toElement,F=q,he=he?ci(he):null,he!==null&&(We=u(he),ve=he.tag,he!==We||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(F=null,he=q),F!==he)){if(ve=qo,J="onMouseLeave",U="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ui,J="onPointerLeave",U="onPointerEnter",x="pointer"),We=F==null?B:fn(F),j=he==null?B:fn(he),B=new ve(J,x+"leave",F,s,Y),B.target=We,B.relatedTarget=j,J=null,ci(Y)===q&&(ve=new ve(U,x+"enter",he,s,Y),ve.target=j,ve.relatedTarget=We,J=ve),We=J,F&&he)t:{for(ve=Hb,U=F,x=he,j=0,J=U;J;J=ve(J))j++;J=0;for(var pe=x;pe;pe=ve(pe))J++;for(;0<j-J;)U=ve(U),j--;for(;0<J-j;)x=ve(x),J--;for(;j--;){if(U===x||x!==null&&U===x.alternate){ve=U;break t}U=ve(U),x=ve(x)}ve=null}else ve=null;F!==null&&xv(W,B,F,ve,!1),he!==null&&We!==null&&xv(W,We,he,ve,!0)}}e:{if(B=q?fn(q):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var qe=Xp;else if(Yp(B))if(Jp)qe=eb;else{qe=ZS;var fe=JS}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?q&&us(q.elementType)&&(qe=Xp):qe=WS;if(qe&&(qe=qe(t,q))){$p(W,qe,s,Y);break e}fe&&fe(t,B,q),t==="focusout"&&q&&B.type==="number"&&q.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(fe=q?fn(q):window,t){case"focusin":(Yp(fe)||fe.contentEditable==="true")&&(ys=fe,tf=q,Qo=null);break;case"focusout":Qo=tf=ys=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,rg(W,s,Y);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":rg(W,s,Y)}var Ie;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else gs?Tr(t,s)&&(Me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(Ei&&s.locale!=="ko"&&(gs||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&gs&&(Ie=Po()):(gi=Y,zo="value"in gi?gi.value:gi.textContent,gs=!0)),fe=wc(q,Me),0<fe.length&&(Me=new _i(Me,t,null,s,Y),W.push({event:Me,listeners:fe}),Ie?Me.data=Ie:(Ie=ps(s),Ie!==null&&(Me.data=Ie)))),(Ie=wn?KS(t,s):YS(t,s))&&(Me=wc(q,"onBeforeInput"),0<Me.length&&(fe=new _i("onBeforeInput","beforeinput",null,s,Y),W.push({event:fe,listeners:Me}),fe.data=Ie)),Pb(W,t,q,s,Y)}Ov(W,i)})}function yl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function wc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Bn(t,s),h!=null&&l.unshift(yl(t,h,d)),h=Bn(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Hb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xv(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,D=T.alternate,q=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||q===null||(D=q,h?(q=Bn(s,d),q!=null&&v.unshift(yl(s,q,D))):h||(q=Bn(s,d),q!=null&&v.push(yl(s,q,D)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var Fb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(Fb,`
`).replace(Gb,"")}function Lv(t,i){return i=Vv(i),Vv(t)===i}function Ze(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,s,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=cs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=cs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=cs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":De("beforetoggle",t),De("toggle",t),os(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wu.get(s)||s,os(t,s,l))}}function Id(t,i,s,l,h,d){switch(s){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Lt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):os(t,s,l)}}}function Ft(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ze(t,i,d,v,s,null)}}h&&Ze(t,i,"srcSet",s.srcSet,s,null),l&&Ze(t,i,"src",s.src,s,null);return;case"input":De("invalid",t);var T=d=v=h=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Ze(t,i,l,Y,s,null)}}Su(t,d,T,D,q,v,h,!1);return;case"select":De("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,i,h,T,s,null)}i=d,s=v,t.multiple=!!l,i!=null?fa(t,!!l,i,!1):s!=null&&fa(t,!!l,s,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Ze(t,i,v,T,s,null)}da(t,l,h,d);return;case"option":for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,i,D,l,s,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)De(gl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ze(t,i,q,l,s,null)}return;default:if(us(i)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&Id(t,i,Y,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ze(t,i,T,l,s,null))}function Qb(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,q=null,Y=null;for(F in s){var W=s[F];if(s.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(F)||Ze(t,i,F,null,l,W)}}for(var B in l){var F=l[B];if(W=s[B],l.hasOwnProperty(B)&&(F!=null||W!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":Y=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==W&&Ze(t,i,B,F,l,W)}}ls(t,v,T,D,q,Y,d,h);return;case"select":F=v=T=B=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&Ze(t,i,h,d,l,D)}i=T,s=v,l=F,B!=null?fa(t,!!s,B,!1):!!l!=!!s&&(i!=null?fa(t,!!s,i,!0):fa(t,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ze(t,i,v,h,l,d)}bu(t,B,F);return;case"option":for(var he in s)B=s[he],s.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:Ze(t,i,he,null,l,B));for(D in l)B=l[D],F=s[D],l.hasOwnProperty(D)&&B!==F&&(B!=null||F!=null)&&(D==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Ze(t,i,D,B,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)B=s[ve],s.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,B);for(q in l)if(B=l[q],F=s[q],l.hasOwnProperty(q)&&B!==F&&(B!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Ze(t,i,q,B,l,F)}return;default:if(us(i)){for(var We in s)B=s[We],s.hasOwnProperty(We)&&B!==void 0&&!l.hasOwnProperty(We)&&Id(t,i,We,void 0,l,B);for(Y in l)B=l[Y],F=s[Y],!l.hasOwnProperty(Y)||B===F||B===void 0&&F===void 0||Id(t,i,Y,B,l,F);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,B);for(W in l)B=l[W],F=s[W],!l.hasOwnProperty(W)||B===F||B==null&&F==null||Ze(t,i,W,B,l,F)}function Uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&Uv(v)){for(v=0,T=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],q=D.startTime;if(q>T)break;var Y=D.transferSize,W=D.initiatorType;Y&&Uv(W)&&(D=D.responseEnd,v+=Y*(D<T?1:(T-q)/(D-q)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Od(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function Yb(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,$b=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(Jb)}:Pv;function Jb(t){setTimeout(function(){throw t})}function Ua(t){return t==="head"}function qv(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Fs(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,vl(s);for(var d=s.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&vl(t.ownerDocument.body);s=h}while(s);Fs(i)}function Bv(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xd(s),ss(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Zb(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function Wb(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mn(t.nextSibling),t===null))return null;return t}function Hv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Mn(t.nextSibling),t===null))return null;return t}function Vd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function e1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ud=null;function Fv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Mn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Gv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Qv(t,i,s){switch(i=Rc(s),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ss(t)}var xn=new Map,Kv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=se.d;se.d={f:t1,r:n1,D:i1,C:a1,L:r1,m:s1,X:l1,S:o1,M:u1};function t1(){var t=Ji.f(),i=vc();return t||i}function n1(t){var i=Sn(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):Ji.r(t)}var qs=typeof document>"u"?null:document;function Yv(t,i,s){var l=qs;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Kv.has(h)||(Kv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Tt(i),l.head.appendChild(i)))}}function i1(t){Ji.D(t),Yv("dns-prefetch",t,null)}function a1(t,i){Ji.C(t,i),Yv("preconnect",t,i)}function r1(t,i,s){Ji.L(t,i,s);var l=qs;if(l&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var d=h;switch(i){case"style":d=Bs(t);break;case"script":d=Hs(t)}xn.has(d)||(t=S({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Ft(i,"link",t),Tt(i),l.head.appendChild(i)))}}function s1(t,i){Ji.m(t,i);var s=qs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Hs(t)}if(!xn.has(d)&&(t=S({rel:"modulepreload",href:t},i),xn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(El(d)))return}l=s.createElement("link"),Ft(l,"link",t),Tt(l),s.head.appendChild(l)}}}function o1(t,i,s){Ji.S(t,i,s);var l=qs;if(l&&t){var h=hi(l).hoistableStyles,d=Bs(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(_l(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},s),(s=xn.get(d))&&kd(t,s);var D=v=l.createElement("link");Tt(D),Ft(D,"link",t),D._p=new Promise(function(q,Y){D.onload=q,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function l1(t,i){Ji.X(t,i);var s=qs;if(s&&t){var l=hi(s).hoistableScripts,h=Hs(t),d=l.get(h);d||(d=s.querySelector(El(h)),d||(t=S({src:t,async:!0},i),(i=xn.get(h))&&zd(t,i),d=s.createElement("script"),Tt(d),Ft(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function u1(t,i){Ji.M(t,i);var s=qs;if(s&&t){var l=hi(s).hoistableScripts,h=Hs(t),d=l.get(h);d||(d=s.querySelector(El(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&zd(t,i),d=s.createElement("script"),Tt(d),Ft(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $v(t,i,s,l){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Bs(s.href),s=hi(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Bs(s.href);var d=hi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(_l(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(t,s),d||c1(h,t,s,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Hs(s),s=hi(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Bs(t){return'href="'+nn(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function Xv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function c1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",s),Tt(i),t.head.appendChild(i))}function Hs(t){return'[src="'+nn(t)+'"]'}function El(t){return"script[async]"+t}function Jv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),Ic(l,s.precedence,t),i.instance=l;case"stylesheet":h=Bs(s.href);var d=t.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=Xv(s),(h=xn.get(h))&&kd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Ft(d,"link",l),i.state.loading|=4,Ic(d,s.precedence,t),i.instance=d;case"script":return d=Hs(s.src),(h=t.querySelector(El(d)))?(i.instance=h,Tt(h),h):(l=s,(h=xn.get(d))&&(l=S({},s),zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,s.precedence,t));return i.instance}function Ic(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nc=null;function Zv(t,i,s){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(s,l)}else h=Nc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ui]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Wv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function h1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function f1(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Bs(l.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Dc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,Tt(d);return}d=i.ownerDocument||i,l=Xv(l),(h=xn.get(h))&&kd(l,h),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Ft(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Dc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Pd=0;function d1(t,i){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Pd===0&&(Pd=62500*Kb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Pd?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,i.forEach(m1,t),Oc=null,Dc.call(t))}function m1(t,i){if(!(i.state.loading&4)){var s=Oc.get(t);if(s)var l=s.get(null);else{s=new Map,Oc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:X,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function p1(t,i,s,l,h,d,v,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function t_(t,i,s,l,h,d,v,T,D,q,Y,W){return t=new p1(t,i,s,v,D,q,Y,W,T),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Sf(d),t}function n_(t){return t?(t=Es,t):Es}function i_(t,i,s,l,h,d){h=n_(h),l.context===null?l.context=h:l.pendingContext=h,l=wa(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ra(t,l,i),s!==null&&(un(s,t,i),Wo(s,t,i))}function a_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function jd(t,i){a_(t,i),(t=t.alternate)&&a_(t,i)}function r_(t){if(t.tag===13||t.tag===31){var i=Ar(t,67108864);i!==null&&un(i,t,67108864),jd(t,67108864)}}function s_(t){if(t.tag===13||t.tag===31){var i=En();i=fr(i);var s=Ar(t,i);s!==null&&un(s,t,i),jd(t,i)}}var xc=!0;function g1(t,i,s,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,qd(t,i,s,l)}finally{se.p=d,Q.T=h}}function y1(t,i,s,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,qd(t,i,s,l)}finally{se.p=d,Q.T=h}}function qd(t,i,s,l){if(xc){var h=Bd(l);if(h===null)Cd(t,i,l,Vc,s),l_(t,l);else if(_1(h,t,i,s,l))l.stopPropagation();else if(l_(t,l),i&4&&-1<v1.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ri(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-dt(v);T.entanglements[1]|=D,v&=~D}Ai(d),(Fe&6)===0&&(gc=Wt()+500,pl(0))}}break;case 31:case 13:T=Ar(d,2),T!==null&&un(T,d,2),vc(),jd(d,2)}if(d=Bd(l),d===null&&Cd(t,i,l,Vc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(t,i,l,null,s)}}function Bd(t){return t=bn(t),Hd(t)}var Vc=null;function Hd(t){if(Vc=null,t=ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function o_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case Ao:return 2;case wo:return 8;case ca:case Yh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Fd=!1,ka=null,za=null,Pa=null,Sl=new Map,bl=new Map,ja=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,i){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Al(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&r_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function _1(t,i,s,l,h){switch(i){case"focusin":return ka=Al(ka,t,i,s,l,h),!0;case"dragenter":return za=Al(za,t,i,s,l,h),!0;case"mouseover":return Pa=Al(Pa,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Al(Sl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Al(bl.get(d)||null,t,i,s,l,h)),!0}return!1}function u_(t){var i=ci(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){s_(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){s_(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Bd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ko=l,s.target.dispatchEvent(l),ko=null}else return i=Sn(s),i!==null&&r_(i),t.blockedOn=s,!1;i.shift()}return!0}function c_(t,i,s){Lc(t)&&s.delete(i)}function E1(){Fd=!1,ka!==null&&Lc(ka)&&(ka=null),za!==null&&Lc(za)&&(za=null),Pa!==null&&Lc(Pa)&&(Pa=null),Sl.forEach(c_),bl.forEach(c_)}function Uc(t,i){t.blockedOn===i&&(t.blockedOn=null,Fd||(Fd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,E1)))}var kc=null;function h_(t){kc!==t&&(kc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||s)===null)continue;break}var d=Sn(s);d!==null&&(t.splice(i,3),i-=3,Bf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Fs(t){function i(D){return Uc(D,t)}ka!==null&&Uc(ka,t),za!==null&&Uc(za,t),Pa!==null&&Uc(Pa,t),Sl.forEach(i),bl.forEach(i);for(var s=0;s<ja.length;s++){var l=ja[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ja.length&&(s=ja[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&ja.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Lt]||null;if(typeof d=="function")v||h_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)T=v.formAction;else if(Hd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),h_(s)}}}function f_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}zc.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=En();i_(s,l,t,i,null,null)},zc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;i_(t.current,2,null,t,null,null),vc(),i[li]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vu();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ja.length&&i!==0&&i<ja[s].priority;s++);ja.splice(s,0,t),s===0&&u_(t)}};var d_=e.version;if(d_!=="19.2.4")throw Error(r(527,d_,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var T1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{kn=Pc.inject(T1),Pt=Pc}catch{}}return Rl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var s=!1,l="",h=Ey,d=Ty,v=Sy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=t_(t,1,!1,null,null,s,l,null,h,d,v,f_),t[li]=i.current,Rd(t),new Gd(i)},Rl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(r(299));var l=!1,h="",d=Ey,v=Ty,T=Sy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=t_(t,1,!0,i,s??null,l,h,D,d,v,T,f_),i.context=n_(null),s=i.current,l=En(),l=fr(l),h=wa(l),h.callback=null,Ra(s,h,l),s=l,i.current.lanes=s,cr(i,s),Ai(i),t[li]=i.current,Rd(t),new zc(i)},Rl.version="19.2.4",Rl}var b_;function O1(){if(b_)return Yd.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Yd.exports=D1(),Yd.exports}var M1=O1();var A_="popstate";function x1(a={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=$r(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),ym("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:zl(u))}function r(o,u){ti(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return L1(e,n,r,a)}function lt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ti(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V1(){return Math.random().toString(36).substring(2,10)}function w_(a,e){return{usr:a.state,key:a.key,idx:e}}function ym(a,e,n=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?$r(e):e,state:n,key:e&&e.key||r||V1()}}function zl({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function $r(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let r=a.indexOf("?");r>=0&&(e.search=a.substring(r),a=a.substring(0,r)),a&&(e.pathname=a)}return e}function L1(a,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let G=E(),ie=G==null?null:G-y;y=G,g&&g({action:m,location:$.location,delta:ie})}function R(G,ie){m="PUSH";let ne=ym($.location,G,ie);n&&n(ne,G),y=E()+1;let X=w_(ne,y),ae=$.createHref(ne);try{f.pushState(X,"",ae)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ae)}u&&g&&g({action:m,location:$.location,delta:1})}function L(G,ie){m="REPLACE";let ne=ym($.location,G,ie);n&&n(ne,G),y=E();let X=w_(ne,y),ae=$.createHref(ne);f.replaceState(X,"",ae),u&&g&&g({action:m,location:$.location,delta:0})}function K(G){return U1(G)}let $={get action(){return m},get location(){return a(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(A_,S),g=G,()=>{o.removeEventListener(A_,S),g=null}},createHref(G){return e(o,G)},createURL:K,encodeLocation(G){let ie=K(G);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:R,replace:L,go(G){return f.go(G)}};return $}function U1(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:zl(a);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function sT(a,e,n="/"){return k1(a,e,n,!1)}function k1(a,e,n,r){let o=typeof e=="string"?$r(e):e,u=ia(o.pathname||"/",n);if(u==null)return null;let f=oT(a);z1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=$1(u);m=K1(f[g],y,r)}return m}function oT(a,e=[],n=[],r="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&g)return;lt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let S=ta([r,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),oT(f.children,e,R,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:G1(S,f.index),routesMeta:R})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of lT(f.path))u(f,m,!0,g)}),e}function lT(a){let e=a.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=lT(r.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function z1(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:Q1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var P1=/^:[\w-]+$/,j1=3,q1=2,B1=1,H1=10,F1=-2,R_=a=>a==="*";function G1(a,e){let n=a.split("/"),r=n.length;return n.some(R_)&&(r+=F1),e&&(r+=q1),n.filter(o=>!R_(o)).reduce((o,u)=>o+(P1.test(u)?j1:u===""?B1:H1),r)}function Q1(a,e){return a.length===e.length&&a.slice(0,-1).every((r,o)=>r===e[o])?a[a.length-1]-e[e.length-1]:0}function K1(a,e,n=!1){let{routesMeta:r}=a,o={},u="/",f=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&n&&!r[r.length-1].route.index&&(S=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ta([u,S.pathname]),pathnameBase:W1(ta([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=ta([u,S.pathnameBase]))}return f}function sh(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,r]=Y1(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let K=m[R]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const L=m[R];return S&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function Y1(a,e=!1,n=!0){ti(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function $1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ia(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=a.charAt(n);return r&&r!=="/"?null:a.slice(n)||"/"}var X1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function J1(a,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof a=="string"?$r(a):a,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=C_(n.substring(1),"/"):u=C_(n,e)):u=e,{pathname:u,search:eA(r),hash:tA(o)}}function C_(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zd(a,e,n,r){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z1(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uT(a){let e=Z1(a);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function cT(a,e,n,r=!1){let o;typeof a=="string"?o=$r(a):(o={...a},lt(!o.pathname||!o.pathname.includes("?"),Zd("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Zd("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Zd("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!r&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let g=J1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ta=a=>a.join("/").replace(/\/\/+/g,"/"),W1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,tA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,nA=class{constructor(a,e,n,r=!1){this.status=a,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function aA(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fT(a,e){let n=a;if(typeof n!="string"||!X1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(hT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ia(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ti(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var rA=["GET",...dT];new Set(rA);var co=z.createContext(null);co.displayName="DataRouter";var Rh=z.createContext(null);Rh.displayName="DataRouterState";var sA=z.createContext(!1),mT=z.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var oA=z.createContext(new Map);oA.displayName="Fetchers";var lA=z.createContext(null);lA.displayName="Await";var Un=z.createContext(null);Un.displayName="Navigation";var Jl=z.createContext(null);Jl.displayName="Location";var Mi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Ym=z.createContext(null);Ym.displayName="RouteError";var pT="REACT_ROUTER_ERROR",uA="REDIRECT",cA="ROUTE_ERROR_RESPONSE";function hA(a){if(a.startsWith(`${pT}:${uA}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fA(a){if(a.startsWith(`${pT}:${cA}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nA(e.status,e.statusText,e.data)}catch{}}function dA(a,{relative:e}={}){lt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Un),{hash:o,pathname:u,search:f}=Wl(a,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ta([n,u])),r.createHref({pathname:m,search:f,hash:o})}function Zl(){return z.useContext(Jl)!=null}function Xr(){return lt(Zl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Jl).location}var gT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(a){z.useContext(Un).static||z.useLayoutEffect(a)}function ho(){let{isDataRoute:a}=z.useContext(Mi);return a?CA():mA()}function mA(){lt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let a=z.useContext(co),{basename:e,navigator:n}=z.useContext(Un),{matches:r}=z.useContext(Mi),{pathname:o}=Xr(),u=JSON.stringify(uT(r)),f=z.useRef(!1);return yT(()=>{f.current=!0}),z.useCallback((g,y={})=>{if(ti(f.current,gT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=cT(g,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ta([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,a])}z.createContext(null);function pA(){let{matches:a}=z.useContext(Mi),e=a[a.length-1];return e?e.params:{}}function Wl(a,{relative:e}={}){let{matches:n}=z.useContext(Mi),{pathname:r}=Xr(),o=JSON.stringify(uT(n));return z.useMemo(()=>cT(a,JSON.parse(o),r,e==="path"),[a,o,r,e])}function gA(a,e){return vT(a,e)}function vT(a,e,n,r,o){lt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Un),{matches:f}=z.useContext(Mi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";ET(y,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=Xr(),L;if(e){let ne=typeof e=="string"?$r(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),L=ne}else L=R;let K=L.pathname||"/",$=K;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+K.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=sT(a,{pathname:$});ti(S||G!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ti(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=TA(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:ta([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:ta([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,r,o);return e&&ie?z.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ie):ie}function yA(){let a=RA(),e=iA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var vA=z.createElement(yA,null),_T=class extends z.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const n=fA(a.digest);n&&(a=n)}let e=a!==void 0?z.createElement(Mi.Provider,{value:this.props.routeContext},z.createElement(Ym.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?z.createElement(_A,{error:a},e):e}};_T.contextType=sA;var Wd=new WeakMap;function _A({children:a,error:e}){let{basename:n}=z.useContext(Un);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hA(e.digest);if(r){let o=Wd.get(e);if(o)throw o;let u=fT(r.location,n);if(hT&&!Wd.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Wd.set(e,f),f}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function EA({routeContext:a,match:e,children:n}){let r=z.useContext(co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Mi.Provider,{value:a},n)}function TA(a,e=[],n=null,r=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let u=a,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:R,errors:L}=n,K=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||K){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&r?(E,S)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:aA(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,R)=>{let L,K=!1,$=null,G=null;n&&(L=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||vA,m&&(g<0&&R===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,G=null):g===R&&(K=!0,G=S.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,R+1)),ne=()=>{let X;return L?X=$:K?X=G:S.route.Component?X=z.createElement(S.route.Component,null):S.route.element?X=S.route.element:X=E,z.createElement(EA,{match:S,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:X})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?z.createElement(_T,{location:n.location,revalidation:n.revalidation,component:$,error:L,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):ne()},null)}function $m(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(a){let e=z.useContext(co);return lt(e,$m(a)),e}function bA(a){let e=z.useContext(Rh);return lt(e,$m(a)),e}function AA(a){let e=z.useContext(Mi);return lt(e,$m(a)),e}function Xm(a){let e=AA(a),n=e.matches[e.matches.length-1];return lt(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function wA(){return Xm("useRouteId")}function RA(){let a=z.useContext(Ym),e=bA("useRouteError"),n=Xm("useRouteError");return a!==void 0?a:e.errors?.[n]}function CA(){let{router:a}=SA("useNavigate"),e=Xm("useNavigate"),n=z.useRef(!1);return yT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{ti(n.current,gT),n.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var I_={};function ET(a,e,n){!e&&!I_[a]&&(I_[a]=!0,ti(!1,n))}z.memo(IA);function IA({routes:a,future:e,state:n,onError:r}){return vT(a,void 0,n,r,e)}function Gs(a){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NA({basename:a="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=$r(n));let{pathname:y="/",search:E="",hash:S="",state:R=null,key:L="default"}=n,K=z.useMemo(()=>{let $=ia(y,m);return $==null?null:{location:{pathname:$,search:E,hash:S,state:R,key:L},navigationType:r}},[m,y,E,S,R,L,r]);return ti(K!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:z.createElement(Un.Provider,{value:g},z.createElement(Jl.Provider,{children:e,value:K}))}function DA({children:a,location:e}){return gA(vm(a),e)}function vm(a,e=[]){let n=[];return z.Children.forEach(a,(r,o)=>{if(!z.isValidElement(r))return;let u=[...e,o];if(r.type===z.Fragment){n.push.apply(n,vm(r.props.children,u));return}lt(r.type===Gs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=vm(r.props.children,u)),n.push(f)}),n}var Yc="get",$c="application/x-www-form-urlencoded";function Ch(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function OA(a){return Ch(a)&&a.tagName.toLowerCase()==="button"}function MA(a){return Ch(a)&&a.tagName.toLowerCase()==="form"}function xA(a){return Ch(a)&&a.tagName.toLowerCase()==="input"}function VA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function LA(a,e){return a.button===0&&(!e||e==="_self")&&!VA(a)}var jc=null;function UA(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var kA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(a){return a!=null&&!kA.has(a)?(ti(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):a}function zA(a,e){let n,r,o,u,f;if(MA(a)){let m=a.getAttribute("action");r=m?ia(m,e):null,n=a.getAttribute("method")||Yc,o=em(a.getAttribute("enctype"))||$c,u=new FormData(a)}else if(OA(a)||xA(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(r=g?ia(g,e):null,n=a.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=em(a.getAttribute("formenctype"))||em(m.getAttribute("enctype"))||$c,u=new FormData(m,a),!UA()){let{name:y,type:E,value:S}=a;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(Ch(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,r=null,o=$c,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function PA(a,e,n,r){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&ia(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function jA(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function BA(a,e,n){let r=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jA(u,n);return f.links?f.links():[]}return[]}));return QA(r.flat(1).filter(qA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N_(a,e,n,r,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function HA(a,e,{includeHydrateFallback:n}={}){return FA(a.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FA(a){return[...new Set(a)]}function GA(a){let e={},n=Object.keys(a).sort();for(let r of n)e[r]=a[r];return e}function QA(a,e){let n=new Set;return new Set(e),a.reduce((r,o)=>{let u=JSON.stringify(GA(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function TT(){let a=z.useContext(co);return Jm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function KA(){let a=z.useContext(Rh);return Jm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Zm=z.createContext(void 0);Zm.displayName="FrameworkContext";function ST(){let a=z.useContext(Zm);return Jm(a,"You must render this element inside a <HydratedRouter> element"),a}function YA(a,e){let n=z.useContext(Zm),[r,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,R=z.useRef(null);z.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let $=ie=>{ie.forEach(ne=>{f(ne.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return R.current&&G.observe(R.current),()=>{G.disconnect()}}},[a]),z.useEffect(()=>{if(r){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[r]);let L=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?a!=="intent"?[u,R,{}]:[u,R,{onFocus:Cl(m,L),onBlur:Cl(g,K),onMouseEnter:Cl(y,L),onMouseLeave:Cl(E,K),onTouchStart:Cl(S,L)}]:[!1,R,{}]}function Cl(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function $A({page:a,...e}){let{router:n}=TT(),r=z.useMemo(()=>sT(n.routes,a,n.basename),[n.routes,a,n.basename]);return r?z.createElement(JA,{page:a,matches:r,...e}):null}function XA(a){let{manifest:e,routeModules:n}=ST(),[r,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return BA(a,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,n]),r}function JA({page:a,matches:e,...n}){let r=Xr(),{future:o,manifest:u,routeModules:f}=ST(),{basename:m}=TT(),{loaderData:g,matches:y}=KA(),E=z.useMemo(()=>N_(a,e,y,u,r,"data"),[a,e,y,u,r]),S=z.useMemo(()=>N_(a,e,y,u,r,"assets"),[a,e,y,u,r]),R=z.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let $=new Set,G=!1;if(e.forEach(ne=>{let X=u.routes[ne.route.id];!X||!X.hasLoader||(!E.some(ae=>ae.route.id===ne.route.id)&&ne.route.id in g&&f[ne.route.id]?.shouldRevalidate||X.hasClientLoader?G=!0:$.add(ne.route.id))}),$.size===0)return[];let ie=PA(a,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&$.size>0&&ie.searchParams.set("_routes",e.filter(ne=>$.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,u,E,e,a,f]),L=z.useMemo(()=>HA(S,u),[S,u]),K=XA(S);return z.createElement(z.Fragment,null,R.map($=>z.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),L.map($=>z.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),K.map(({key:$,link:G})=>z.createElement("link",{key:$,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function ZA(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WA&&(window.__reactRouterVersion="7.13.0")}catch{}function ew({basename:a,children:e,unstable_useTransitions:n,window:r}){let o=z.useRef();o.current==null&&(o.current=x1({window:r,v5Compat:!0}));let u=o.current,[f,m]=z.useState({action:u.action,location:u.location}),g=z.useCallback(y=>{n===!1?m(y):z.startTransition(()=>m(y))},[n]);return z.useLayoutEffect(()=>u.listen(g),[u,g]),z.createElement(NA,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AT=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...L},K){let{basename:$,unstable_useTransitions:G}=z.useContext(Un),ie=typeof y=="string"&&bT.test(y),ne=fT(y,$);y=ne.to;let X=dA(y,{relative:o}),[ae,de,ye]=YA(r,L),C=aw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:G});function w(V){e&&e(V),V.defaultPrevented||C(V)}let I=z.createElement("a",{...L,...ye,href:ne.absoluteURL||X,onClick:ne.isExternal||u?e:w,ref:ZA(K,de),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return ae&&!ie?z.createElement(z.Fragment,null,I,z.createElement($A,{page:X})):I});AT.displayName="Link";var tw=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Wl(f,{relative:y.relative}),R=Xr(),L=z.useContext(Rh),{navigator:K,basename:$}=z.useContext(Un),G=L!=null&&uw(S)&&m===!0,ie=K.encodeLocation?K.encodeLocation(S).pathname:S.pathname,ne=R.pathname,X=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),X=X?X.toLowerCase():null,ie=ie.toLowerCase()),X&&$&&(X=ia(X,$)||X);const ae=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let de=ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(ae)==="/",ye=X!=null&&(X===ie||!o&&X.startsWith(ie)&&X.charAt(ie.length)==="/"),C={isActive:de,isPending:ye,isTransitioning:G},w=de?e:void 0,I;typeof r=="function"?I=r(C):I=[r,de?"active":null,ye?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return z.createElement(AT,{...y,"aria-current":w,className:I,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(C):g)});tw.displayName="NavLink";var nw=z.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:f=Yc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...L},K)=>{let{unstable_useTransitions:$}=z.useContext(Un),G=ow(),ie=lw(m,{relative:y}),ne=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&bT.test(m),ae=de=>{if(g&&g(de),de.defaultPrevented)return;de.preventDefault();let ye=de.nativeEvent.submitter,C=ye?.getAttribute("formmethod")||f,w=()=>G(ye||de.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R});$&&n!==!1?z.startTransition(()=>w()):w()};return z.createElement("form",{ref:K,method:ne,action:ie,onSubmit:r?g:ae,...L,"data-discover":!X&&a==="render"?"true":void 0})});nw.displayName="Form";function iw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(a){let e=z.useContext(co);return lt(e,iw(a)),e}function aw(a,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=ho(),E=Xr(),S=Wl(a,{relative:u});return z.useCallback(R=>{if(LA(R,e)){R.preventDefault();let L=n!==void 0?n:zl(E)===zl(S),K=()=>y(a,{replace:L,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?z.startTransition(()=>K()):K()}},[E,y,S,n,r,e,a,o,u,f,m,g])}var rw=0,sw=()=>`__${String(++rw)}__`;function ow(){let{router:a}=wT("useSubmit"),{basename:e}=z.useContext(Un),n=wA(),r=a.fetch,o=a.navigate;return z.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=zA(u,e);if(f.navigate===!1){let R=f.fetcherKey||sw();await r(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,n])}function lw(a,{relative:e}={}){let{basename:n}=z.useContext(Un),r=z.useContext(Mi);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Wl(a||".",{relative:e})},f=Xr();if(a==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ta([n,u.pathname])),zl(u)}function uw(a,{relative:e}={}){let n=z.useContext(mT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wT("useViewTransitionState"),o=Wl(a,{relative:e});if(!n.isTransitioning)return!1;let u=ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}const cw=()=>{};var D_={};const RT=function(a){const e=[];let n=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hw=function(a){const e=[];let n=0,r=0;for(;n<a.length;){const o=a[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],f=a[n++],m=a[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],f=a[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,m=f?a[o+1]:0,g=o+2<a.length,y=g?a[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(R=64)),r.push(n[E],n[S],n[R],n[L])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(RT(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):hw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],m=o<a.length?n[a.charAt(o)]:0;++o;const y=o<a.length?n[a.charAt(o)]:64;++o;const S=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new fw;const R=u<<2|m>>4;if(r.push(R),y!==64){const L=m<<4&240|y>>2;if(r.push(L),S!==64){const K=y<<6&192|S;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dw=function(a){const e=RT(a);return CT.encodeByteArray(e,!0)},oh=function(a){return dw(a).replace(/\./g,"")},IT=function(a){try{return CT.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pw=()=>mw().__FIREBASE_DEFAULTS__,gw=()=>{if(typeof process>"u"||typeof D_>"u")return;const a=D_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},yw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&IT(a[1]);return e&&JSON.parse(e)},Ih=()=>{try{return cw()||pw()||gw()||yw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},NT=a=>Ih()?.emulatorHosts?.[a],vw=a=>{const e=NT(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DT=()=>Ih()?.config,OT=a=>Ih()?.[`_${a}`];class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function fo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(a){return(await fetch(a,{credentials:"include"})).ok}function Ew(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}const Ml={};function Tw(){const a={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?a.emulator.push(e):a.prod.push(e);return a}function Sw(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let O_=!1;function xT(a,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ml[a]===e||Ml[a]||O_)return;Ml[a]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=Tw().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{O_=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=Sw(r),L=n("text"),K=document.getElementById(L)||document.createElement("span"),$=n("learnmore"),G=document.getElementById($)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const X=R.element;m(X),E(G,$);const ae=y();g(ne,ie),X.append(ne,K,G,ae),document.body.appendChild(X)}u?(K.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Aw(){const a=Ih()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rw(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Cw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iw(){const a=Zt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Nw(){return!Aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ow(){return new Promise((a,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Mw="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Mw,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?xw(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new la(o,m,r)}}function xw(a,e){return a.replace(Vw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Vw=/\{\$([^}]+)}/g;function Lw(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Hr(a,e){if(a===e)return!0;const n=Object.keys(a),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=a[o],f=e[o];if(M_(u)&&M_(f)){if(!Hr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function M_(a){return a!==null&&typeof a=="object"}function tu(a){const e=[];for(const[n,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uw(a,e){const n=new kw(a,e);return n.subscribe.bind(n)}class kw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zw(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function tm(){}function hn(a){return a&&a._delegate?a._delegate:a}class Fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kr="[DEFAULT]";class Pw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _w;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qw(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jw(a){return a===kr?void 0:a}function qw(a){return a.instantiationMode==="EAGER"}class Bw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var xe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xe||(xe={}));const Hw={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Fw=xe.INFO,Gw={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Qw=(a,e,...n)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=Gw[e];if(o)console[o](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=Fw,this._logHandler=Qw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Kw=(a,e)=>e.some(n=>a instanceof n);let x_,V_;function Yw(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $w(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,_m=new WeakMap,LT=new WeakMap,nm=new WeakMap,ep=new WeakMap;function Xw(a){const e=new Promise((n,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(Ka(a.result)),o()},f=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&VT.set(n,a)}).catch(()=>{}),ep.set(e,a),e}function Jw(a){if(_m.has(a))return;const e=new Promise((n,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});_m.set(a,e)}let Em={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return _m.get(a);if(e==="objectStoreNames")return a.objectStoreNames||LT.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ka(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Zw(a){Em=a(Em)}function Ww(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=a.call(im(this),e,...n);return LT.set(r,e.sort?e.sort():[e]),Ka(r)}:$w().includes(a)?function(...e){return a.apply(im(this),e),Ka(VT.get(this))}:function(...e){return Ka(a.apply(im(this),e))}}function eR(a){return typeof a=="function"?Ww(a):(a instanceof IDBTransaction&&Jw(a),Kw(a,Yw())?new Proxy(a,Em):a)}function Ka(a){if(a instanceof IDBRequest)return Xw(a);if(nm.has(a))return nm.get(a);const e=eR(a);return e!==a&&(nm.set(a,e),ep.set(e,a)),e}const im=a=>ep.get(a);function tR(a,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),m=Ka(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Ka(f.result),g.oldVersion,g.newVersion,Ka(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const nR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],am=new Map;function L_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=iR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||nR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return am.set(e,u),u}Zw(a=>({...a,get:(e,n,r)=>L_(e,n)||a.get(e,n,r),has:(e,n)=>!!L_(e,n)||a.has(e,n)}));class aR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rR(a){return a.getComponent()?.type==="VERSION"}const Tm="@firebase/app",U_="0.14.8";const aa=new Wm("@firebase/app"),sR="@firebase/app-compat",oR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",hR="@firebase/auth",fR="@firebase/auth-compat",dR="@firebase/database",mR="@firebase/data-connect",pR="@firebase/database-compat",gR="@firebase/functions",yR="@firebase/functions-compat",vR="@firebase/installations",_R="@firebase/installations-compat",ER="@firebase/messaging",TR="@firebase/messaging-compat",SR="@firebase/performance",bR="@firebase/performance-compat",AR="@firebase/remote-config",wR="@firebase/remote-config-compat",RR="@firebase/storage",CR="@firebase/storage-compat",IR="@firebase/firestore",NR="@firebase/ai",DR="@firebase/firestore-compat",OR="firebase",MR="12.9.0";const Sm="[DEFAULT]",xR={[Tm]:"fire-core",[sR]:"fire-core-compat",[lR]:"fire-analytics",[oR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[fR]:"fire-auth-compat",[dR]:"fire-rtdb",[mR]:"fire-data-connect",[pR]:"fire-rtdb-compat",[gR]:"fire-fn",[yR]:"fire-fn-compat",[vR]:"fire-iid",[_R]:"fire-iid-compat",[ER]:"fire-fcm",[TR]:"fire-fcm-compat",[SR]:"fire-perf",[bR]:"fire-perf-compat",[AR]:"fire-rc",[wR]:"fire-rc-compat",[RR]:"fire-gcs",[CR]:"fire-gcs-compat",[IR]:"fire-fst",[DR]:"fire-fst-compat",[NR]:"fire-vertex","fire-js":"fire-js",[OR]:"fire-js-all"};const lh=new Map,VR=new Map,bm=new Map;function k_(a,e){try{a.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function io(a){const e=a.name;if(bm.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,a);for(const n of lh.values())k_(n,a);for(const n of VR.values())k_(n,a);return!0}function tp(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function $n(a){return a==null?!1:a.settings!==void 0}const LR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new eu("app","Firebase",LR);class UR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}const mo=MR;function UT(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const r={name:Sm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ya.create("bad-app-name",{appName:String(o)});if(n||(n=DT()),!n)throw Ya.create("no-options");const u=lh.get(o);if(u){if(Hr(n,u.options)&&Hr(r,u.config))return u;throw Ya.create("duplicate-app",{appName:o})}const f=new Bw(o);for(const g of bm.values())f.addComponent(g);const m=new UR(n,r,f);return lh.set(o,m),m}function kT(a=Sm){const e=lh.get(a);if(!e&&a===Sm&&DT())return UT();if(!e)throw Ya.create("no-app",{appName:a});return e}function $a(a,e,n){let r=xR[a]??a;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(f.join(" "));return}io(new Fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const kR="firebase-heartbeat-database",zR=1,Pl="firebase-heartbeat-store";let rm=null;function zT(){return rm||(rm=tR(kR,zR,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(a=>{throw Ya.create("idb-open",{originalErrorMessage:a.message})})),rm}async function PR(a){try{const n=(await zT()).transaction(Pl),r=await n.objectStore(Pl).get(PT(a));return await n.done,r}catch(e){if(e instanceof la)aa.warn(e.message);else{const n=Ya.create("idb-get",{originalErrorMessage:e?.message});aa.warn(n.message)}}}async function z_(a,e){try{const r=(await zT()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,PT(a)),await r.done}catch(n){if(n instanceof la)aa.warn(n.message);else{const r=Ya.create("idb-set",{originalErrorMessage:n?.message});aa.warn(r.message)}}}function PT(a){return`${a.name}!${a.options.appId}`}const jR=1024,qR=30;class BR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qR){const o=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){aa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P_(),{heartbeatsToSend:n,unsentEntries:r}=HR(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return aa.warn(e),""}}}function P_(){return new Date().toISOString().substring(0,10)}function HR(a,e=jR){const n=[];let r=a.slice();for(const o of a){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),j_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dw()?Ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function j_(a){return oh(JSON.stringify({version:2,heartbeats:a})).length}function GR(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,e=r);return e}function QR(a){io(new Fr("platform-logger",e=>new aR(e),"PRIVATE")),io(new Fr("heartbeat",e=>new BR(e),"PRIVATE")),$a(Tm,U_,a),$a(Tm,U_,"esm2020"),$a("fire-js","")}QR("");function jT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KR=jT,qT=new eu("auth","Firebase",jT());const uh=new Wm("@firebase/auth");function YR(a,...e){uh.logLevel<=xe.WARN&&uh.warn(`Auth (${mo}): ${a}`,...e)}function Xc(a,...e){uh.logLevel<=xe.ERROR&&uh.error(`Auth (${mo}): ${a}`,...e)}function Di(a,...e){throw ip(a,...e)}function Wn(a,...e){return ip(a,...e)}function np(a,e,n){const r={...KR(),[e]:n};return new eu("auth","Firebase",r).create(e,{appName:a.name})}function qr(a){return np(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $R(a,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Di(a,"argument-error"),np(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ip(a,...e){if(typeof a!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(n,...r)}return qT.create(a,...e)}function Ee(a,e,...n){if(!a)throw ip(e,...n)}function Wi(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Xc(e),new Error(e)}function ra(a,e){a||Wi(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function XR(){return q_()==="http:"||q_()==="https:"}function q_(){return typeof self<"u"&&self.location?.protocol||null}function JR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||Rw()||"connection"in navigator)?navigator.onLine:!0}function ZR(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ra(n>e,"Short delay should be less than long delay!"),this.isMobile=bw()||Cw()}get(){return JR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ap(a,e){ra(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class BT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new nu(3e4,6e4);function rp(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function po(a,e,n,r,o={}){return HT(a,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=tu({key:a.config.apiKey,...f}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:g,...u};return ww()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&fo(a.emulatorConfig.host)&&(y.credentials="include"),BT.fetch()(await FT(a,a.config.apiHost,n,m),y)})}async function HT(a,e,n){a._canInitEmulator=!1;const r={...WR,...e};try{const o=new iC(a),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(a,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw qc(a,"email-already-in-use",f);if(g==="USER_DISABLED")throw qc(a,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw np(a,E,y);Di(a,E)}}catch(o){if(o instanceof la)throw o;Di(a,"network-request-failed",{message:String(o)})}}async function nC(a,e,n,r,o={}){const u=await po(a,e,n,r,o);return"mfaPendingCredential"in u&&Di(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function FT(a,e,n,r){const o=`${e}${n}?${r}`,u=a,f=u.config.emulator?ap(a.config,o):`${a.config.apiScheme}://${o}`;return eC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),tC.get())})}}function qc(a,e,n){const r={appName:a.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Wn(a,e,r);return o.customData._tokenResponse=n,o}async function aC(a,e){return po(a,"POST","/v1/accounts:delete",e)}async function ch(a,e){return po(a,"POST","/v1/accounts:lookup",e)}function xl(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(a,e=!1){const n=hn(a),r=await n.getIdToken(e),o=sp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:xl(sm(o.auth_time)),issuedAtTime:xl(sm(o.iat)),expirationTime:xl(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(a){return Number(a)*1e3}function sp(a){const[e,n,r]=a.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B_(a){const e=sp(a);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jl(a,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof la&&sC(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function sC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(a){const e=a.auth,n=await a.getIdToken(),r=await jl(a,ch(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const u=o.providerUserInfo?.length?GT(o.providerUserInfo):[],f=uC(a.providerData,u),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(a,E)}async function lC(a){const e=hn(a);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uC(a,e){return[...a.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function GT(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cC(a,e){const n=await HT(a,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,f=await FT(a,o,"/v1/token",`key=${u}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return a.emulatorConfig&&fo(a.emulatorConfig.host)&&(g.credentials="include"),BT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hC(a,e){return po(a,"POST","/v2/accounts:revokeToken",rp(a,e))}class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=B_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await cC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new Xs;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Ba(a,e){Ee(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await jl(this,aC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:L,providerData:K,stsTokenManager:$}=n;Ee(S&&$,e,"internal-error");const G=Xs.fromJSON(this.name,$);Ee(typeof S=="string",e,"internal-error"),Ba(r,e.name),Ba(o,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),Ba(u,e.name),Ba(f,e.name),Ba(m,e.name),Ba(g,e.name),Ba(y,e.name),Ba(E,e.name);const ie=new Xn({uid:S,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(ie.providerData=K.map(ne=>({...ne}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,r=!1){const o=new Xs;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Xs;m.updateFromIdToken(r);const g=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const H_=new Map;function ea(a){ra(a instanceof Function,"Expected a class definition");let e=H_.get(a);return e?(ra(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,H_.set(a,e),e)}class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QT.type="NONE";const F_=QT;function Jc(a,e,n){return`firebase:${a}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(ea(F_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ea(F_);const f=Jc(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await ch(e,{idToken:E}).catch(()=>{});if(!R)break;S=await Xn._fromGetAccountInfoResponse(e,R,E)}else S=Xn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Js(u,e,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Js(u,e,r))}}function G_(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(WT(e))return"Webos";if(YT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(n);if(r?.length===2)return r[1]}return"Other"}function KT(a=Zt()){return/firefox\//i.test(a)}function YT(a=Zt()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(a=Zt()){return/crios\//i.test(a)}function XT(a=Zt()){return/iemobile/i.test(a)}function JT(a=Zt()){return/android/i.test(a)}function ZT(a=Zt()){return/blackberry/i.test(a)}function WT(a=Zt()){return/webos/i.test(a)}function op(a=Zt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function fC(a=Zt()){return op(a)&&!!window.navigator?.standalone}function dC(){return Iw()&&document.documentMode===10}function e0(a=Zt()){return op(a)||JT(a)||WT(a)||ZT(a)||/windows phone/i.test(a)||XT(a)}function t0(a,e=[]){let n;switch(a){case"Browser":n=G_(Zt());break;case"Worker":n=`${G_(Zt())}-${a}`;break;default:n=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}class mC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pC(a,e={}){return po(a,"GET","/v2/passwordPolicy",rp(a,e))}const gC=6;class yC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class vC{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ea(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(qr(this));const n=e?hn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pC(this),n=new yC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ea(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nh(a){return hn(a)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Uw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _C(a){lp=a}function EC(a){return lp.loadJS(a)}function TC(){return lp.gapiScript}function SC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function bC(a,e){const n=tp(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hr(u,e??{}))return o;Di(o,"already-initialized")}return n.initialize({options:e})}function AC(a,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ea);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e?.popupRedirectResolver)}function wC(a,e,n){const r=Nh(a);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=n0(e),{host:f,port:m}=RC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Hr(y,r.config.emulator)&&Hr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,fo(f)?(MT(`${u}//${f}${g}`),xT("Auth",!0)):CC()}function n0(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function RC(a){const e=n0(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:K_(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:K_(f)}}}function K_(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function CC(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class i0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function Zs(a,e){return nC(a,"POST","/v1/accounts:signInWithIdp",rp(a,e))}const IC="http://localhost";class Gr extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Gr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}class up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ha extends iu{constructor(){super("facebook.com")}static credential(e){return Gr._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";class Zi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";class Fa extends iu{constructor(){super("github.com")}static credential(e){return Gr._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fa.credential(e.oauthAccessToken)}catch{return null}}}Fa.GITHUB_SIGN_IN_METHOD="github.com";Fa.PROVIDER_ID="github.com";class Ga extends iu{constructor(){super("twitter.com")}static credential(e,n){return Gr._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ga.credential(n,r)}catch{return null}}}Ga.TWITTER_SIGN_IN_METHOD="twitter.com";Ga.PROVIDER_ID="twitter.com";class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Xn._fromIdTokenResponse(e,r,o),f=Y_(r);return new ao({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Y_(r);return new ao({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Y_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class fh extends la{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new fh(e,n,r,o)}}function a0(a,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(a,u,e,r):u})}async function NC(a,e,n=!1){const r=await jl(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return ao._forOperation(a,"link",r)}async function DC(a,e,n=!1){const{auth:r}=a;if($n(r.app))return Promise.reject(qr(r));const o="reauthenticate";try{const u=await jl(a,a0(r,o,e,a),n);Ee(u.idToken,r,"internal-error");const f=sp(u.idToken);Ee(f,r,"internal-error");const{sub:m}=f;return Ee(a.uid===m,r,"user-mismatch"),ao._forOperation(a,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Di(r,"user-mismatch"),u}}async function OC(a,e,n=!1){if($n(a.app))return Promise.reject(qr(a));const r="signIn",o=await a0(a,r,e),u=await ao._fromIdTokenResponse(a,r,o);return n||await a._updateCurrentUser(u.user),u}function MC(a,e,n,r){return hn(a).onIdTokenChanged(e,n,r)}function xC(a,e,n){return hn(a).beforeAuthStateChanged(e,n)}function VC(a,e,n,r){return hn(a).onAuthStateChanged(e,n,r)}function LC(a){return hn(a).signOut()}const dh="__sak";class r0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UC=1e3,kC=10;class s0 extends r0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);dC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s0.type="LOCAL";const zC=s0;class o0 extends r0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o0.type="SESSION";const l0=o0;function PC(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await PC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function cp(a="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return a+n}class jC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=cp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ri(){return window}function qC(a){Ri().location.href=a}function u0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function BC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function FC(){return u0()?self:null}const c0="firebaseLocalStorageDb",GC=1,mh="firebaseLocalStorage",h0="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(a,e){return a.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function QC(){const a=indexedDB.deleteDatabase(c0);return new au(a).toPromise()}function Rm(){const a=indexedDB.open(c0,GC);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(mh,{keyPath:h0})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await QC(),e(await Rm()))})})}async function $_(a,e,n){const r=Oh(a,!0).put({[h0]:e,value:n});return new au(r).toPromise()}async function KC(a,e){const n=Oh(a,!1).get(e),r=await new au(n).toPromise();return r===void 0?null:r.value}function X_(a,e){const n=Oh(a,!0).delete(e);return new au(n).toPromise()}const YC=800,$C=3;class f0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$C)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(FC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BC(),!this.activeServiceWorker)return;this.sender=new jC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await $_(e,dh,"1"),await X_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Oh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f0.type="LOCAL";const XC=f0;new nu(3e4,6e4);function d0(a,e){return e?ea(e):(Ee(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class hp extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JC(a){return OC(a.auth,new hp(a),a.bypassAuthState)}function ZC(a){const{auth:e,user:n}=a;return Ee(n,e,"internal-error"),DC(n,new hp(a),a.bypassAuthState)}async function WC(a){const{auth:e,user:n}=a;return Ee(n,e,"internal-error"),NC(n,new hp(a),a.bypassAuthState)}class m0{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JC;case"linkViaPopup":case"linkViaRedirect":return WC;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:Di(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eI=new nu(2e3,1e4);async function tI(a,e,n){if($n(a.app))return Promise.reject(Wn(a,"operation-not-supported-in-this-environment"));const r=Nh(a);$R(a,e,up);const o=d0(r,n);return new Pr(r,"signInViaPopup",e,o).executeNotNull()}class Pr extends m0{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Pr.currentPopupAction&&Pr.currentPopupAction.cancel(),Pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eI.get())};e()}}Pr.currentPopupAction=null;const nI="pendingRedirect",Zc=new Map;class iI extends m0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await aI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aI(a,e){const n=oI(e),r=sI(a);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function rI(a,e){Zc.set(a._key(),e)}function sI(a){return ea(a._redirectPersistence)}function oI(a){return Jc(nI,a.config.apiKey,a.name)}async function lI(a,e,n=!1){if($n(a.app))return Promise.reject(qr(a));const r=Nh(a),o=d0(r,e),f=await new iI(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const uI=600*1e3;class cI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!p0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uI&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(e))}saveEventToCache(e){this.cachedEventUids.add(J_(e)),this.lastProcessedEventTime=Date.now()}}function J_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function p0({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function hI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p0(a);default:return!1}}async function fI(a,e={}){return po(a,"GET","/v1/projects",e)}const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mI=/^https?/;async function pI(a){if(a.config.emulator)return;const{authorizedDomains:e}=await fI(a);for(const n of e)try{if(gI(n))return}catch{}Di(a,"unauthorized-domain")}function gI(a){const e=Am(),{protocol:n,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&r===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!mI.test(n))return!1;if(dI.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const yI=new nu(3e4,6e4);function Z_(){const a=Ri().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function vI(a){return new Promise((e,n)=>{function r(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(Wn(a,"network-request-failed"))},timeout:yI.get()})}if(Ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ri().gapi?.load)r();else{const o=SC("iframefcb");return Ri()[o]=()=>{gapi.load?r():n(Wn(a,"network-request-failed"))},EC(`${TC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function _I(a){return Wc=Wc||vI(a),Wc}const EI=new nu(5e3,15e3),TI="__/auth/iframe",SI="emulator/auth/iframe",bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wI(a){const e=a.config;Ee(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?ap(e,SI):`https://${a.config.authDomain}/${TI}`,r={apiKey:e.apiKey,appName:a.name,v:mo},o=AI.get(a.config.apiHost);o&&(r.eid=o);const u=a._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${tu(r).slice(1)}`}async function RI(a){const e=await _I(a),n=Ri().gapi;return Ee(n,a,"internal-error"),e.open({where:document.body,url:wI(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Wn(a,"network-request-failed"),m=Ri().setTimeout(()=>{u(f)},EI.get());function g(){Ri().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}const CI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},II=500,NI=600,DI="_blank",OI="http://localhost";class W_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MI(a,e,n,r=II,o=NI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...CI,width:r.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=$T(y)?DI:n),KT(y)&&(e=e||OI,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[L,K])=>`${R}${L}=${K},`,"");if(fC(y)&&m!=="_self")return xI(e||"",m),new W_(null);const S=window.open(e||"",m,E);Ee(S,a,"popup-blocked");try{S.focus()}catch{}return new W_(S)}function xI(a,e){const n=document.createElement("a");n.href=a,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const VI="__/auth/handler",LI="emulator/auth/handler",UI=encodeURIComponent("fac");async function eE(a,e,n,r,o,u){Ee(a.config.authDomain,a,"auth-domain-config-required"),Ee(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:r,v:mo,eventId:o};if(e instanceof up){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",Lw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof iu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}a.tenantId&&(f.tid=a.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await a._getAppCheckToken(),y=g?`#${UI}=${encodeURIComponent(g)}`:"";return`${kI(a)}?${tu(m).slice(1)}${y}`}function kI({config:a}){return a.emulator?ap(a,LI):`https://${a.authDomain}/${VI}`}const om="webStorageSupport";class zI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l0,this._completeRedirectFn=lI,this._overrideRedirectResult=rI}async _openPopup(e,n,r,o){ra(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await eE(e,n,r,Am(),o);return MI(e,u,cp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await eE(e,n,r,Am(),o);return qC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ra(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RI(e),r=new cI(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{const u=o?.[0]?.[om];u!==void 0&&n(!!u),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e0()||YT()||op()}}const PI=zI;var tE="@firebase/auth",nE="1.12.0";class jI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BI(a){io(new Fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t0(a)},y=new vC(r,o,u,g);return AC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),io(new Fr("auth-internal",e=>{const n=Nh(e.getProvider("auth").getImmediate());return(r=>new jI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(tE,nE,qI(a)),$a(tE,nE,"esm2020")}const HI=300,FI=OT("authIdTokenMaxAge")||HI;let iE=null;const GI=a=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FI)return;const o=n?.token;iE!==o&&(iE=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QI(a=kT()){const e=tp(a,"auth");if(e.isInitialized())return e.getImmediate();const n=bC(a,{popupRedirectResolver:PI,persistence:[XC,zC,l0]}),r=OT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=GI(u.toString());xC(n,f,()=>f(n.currentUser)),MC(n,m=>f(m))}}const o=NT("auth");return o&&wC(n,`http://${o}`),n}function KI(){return document.getElementsByTagName("head")?.[0]??document}_C({loadJS(a){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=o=>{const u=Wn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",KI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BI("Browser");var YI="firebase",$I="12.9.0";$a(YI,$I,"app");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xa,g0;(function(){var a;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,M,k){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return w.prototype[M].apply(V,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],M=C.g[2];let k=C.g[3],N;N=w+(k^I&(M^k))+V[0]+3614090360&4294967295,w=I+(N<<7&4294967295|N>>>25),N=k+(M^w&(I^M))+V[1]+3905402710&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(I^k&(w^I))+V[2]+606105819&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(w^M&(k^w))+V[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=w+(k^I&(M^k))+V[4]+4118548399&4294967295,w=I+(N<<7&4294967295|N>>>25),N=k+(M^w&(I^M))+V[5]+1200080426&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(I^k&(w^I))+V[6]+2821735955&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(w^M&(k^w))+V[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=w+(k^I&(M^k))+V[8]+1770035416&4294967295,w=I+(N<<7&4294967295|N>>>25),N=k+(M^w&(I^M))+V[9]+2336552879&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(I^k&(w^I))+V[10]+4294925233&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(w^M&(k^w))+V[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=w+(k^I&(M^k))+V[12]+1804603682&4294967295,w=I+(N<<7&4294967295|N>>>25),N=k+(M^w&(I^M))+V[13]+4254626195&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(I^k&(w^I))+V[14]+2792965006&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(w^M&(k^w))+V[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=w+(M^k&(I^M))+V[1]+4129170786&4294967295,w=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(w^I))+V[6]+3225465664&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^I&(k^w))+V[11]+643717713&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^w&(M^k))+V[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=w+(M^k&(I^M))+V[5]+3593408605&4294967295,w=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(w^I))+V[10]+38016083&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^I&(k^w))+V[15]+3634488961&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^w&(M^k))+V[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=w+(M^k&(I^M))+V[9]+568446438&4294967295,w=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(w^I))+V[14]+3275163606&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^I&(k^w))+V[3]+4107603335&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^w&(M^k))+V[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=w+(M^k&(I^M))+V[13]+2850285829&4294967295,w=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(w^I))+V[2]+4243563512&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^I&(k^w))+V[7]+1735328473&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^w&(M^k))+V[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=w+(I^M^k)+V[5]+4294588738&4294967295,w=I+(N<<4&4294967295|N>>>28),N=k+(w^I^M)+V[8]+2272392833&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^I)+V[11]+1839030562&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^w)+V[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=w+(I^M^k)+V[1]+2763975236&4294967295,w=I+(N<<4&4294967295|N>>>28),N=k+(w^I^M)+V[4]+1272893353&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^I)+V[7]+4139469664&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^w)+V[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=w+(I^M^k)+V[13]+681279174&4294967295,w=I+(N<<4&4294967295|N>>>28),N=k+(w^I^M)+V[0]+3936430074&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^I)+V[3]+3572445317&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^w)+V[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=w+(I^M^k)+V[9]+3654602809&4294967295,w=I+(N<<4&4294967295|N>>>28),N=k+(w^I^M)+V[12]+3873151461&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^I)+V[15]+530742520&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^w)+V[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=w+(M^(I|~k))+V[0]+4096336452&4294967295,w=I+(N<<6&4294967295|N>>>26),N=k+(I^(w|~M))+V[7]+1126891415&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~I))+V[14]+2878612391&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~w))+V[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=w+(M^(I|~k))+V[12]+1700485571&4294967295,w=I+(N<<6&4294967295|N>>>26),N=k+(I^(w|~M))+V[3]+2399980690&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~I))+V[10]+4293915773&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~w))+V[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=w+(M^(I|~k))+V[8]+1873313359&4294967295,w=I+(N<<6&4294967295|N>>>26),N=k+(I^(w|~M))+V[15]+4264355552&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~I))+V[6]+2734768916&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~w))+V[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=w+(M^(I|~k))+V[4]+4149444226&4294967295,w=I+(N<<6&4294967295|N>>>26),N=k+(I^(w|~M))+V[11]+3174756917&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~I))+V[2]+718787259&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=I;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(V[M++]=C.charCodeAt(k++),M==this.blockSize){o(this,V),M=0;break}}else for(;k<w;)if(V[M++]=C[k++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function u(C,w){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function f(C,w){this.h=w;const I=[];let V=!0;for(let M=C.length-1;M>=0;M--){const k=C[M]|0;V&&k==w||(I[M]=k,V=!1)}this.g=I}var m={};function g(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return G(y(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return G(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let V=S;for(let k=0;k<C.length;k+=8){var M=Math.min(8,C.length-k);const N=parseInt(C.substring(k,k+M),w);M<8?(M=y(Math.pow(w,M)),V=V.j(M).add(y(N))):(V=V.j(I),V=V.add(y(N)))}return V}var S=g(0),R=g(1),L=g(16777216);a=f.prototype,a.m=function(){if($(this))return-G(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(K(this))return"0";if($(this))return"-"+G(this).toString(C);const w=y(Math.pow(C,6));var I=this;let V="";for(;;){const M=ae(I,w).g;I=ie(I,M.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,K(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function K(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function $(C){return C.h==-1}a.l=function(C){return C=ie(this,C),$(C)?-1:K(C)?0:1};function G(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new f(I,~C.h).add(R)}a.abs=function(){return $(this)?G(this):this},a.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let M=0;M<=w;M++){let k=V+(this.i(M)&65535)+(C.i(M)&65535),N=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=N>>>16,k&=65535,N&=65535,I[M]=N<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ie(C,w){return C.add(G(w))}a.j=function(C){if(K(this)||K(C))return S;if($(this))return $(C)?G(this).j(G(C)):G(G(this).j(C));if($(C))return G(this.j(G(C)));if(this.l(L)<0&&C.l(L)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const k=this.i(V)>>>16,N=this.i(V)&65535,$e=C.i(M)>>>16,ft=C.i(M)&65535;I[2*V+2*M]+=N*ft,ne(I,2*V+2*M),I[2*V+2*M+1]+=k*ft,ne(I,2*V+2*M+1),I[2*V+2*M+1]+=N*$e,ne(I,2*V+2*M+1),I[2*V+2*M+2]+=k*$e,ne(I,2*V+2*M+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new f(I,0)};function ne(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function X(C,w){this.g=C,this.h=w}function ae(C,w){if(K(w))throw Error("division by zero");if(K(C))return new X(S,S);if($(C))return w=ae(G(C),w),new X(G(w.g),G(w.h));if($(w))return w=ae(C,G(w)),new X(G(w.g),w.h);if(C.g.length>30){if($(C)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,V=w;V.l(C)<=0;)I=de(I),V=de(V);var M=ye(I,1),k=ye(V,1);for(V=ye(V,2),I=ye(I,2);!K(V);){var N=k.add(V);N.l(C)<=0&&(M=M.add(I),k=N),V=ye(V,1),I=ye(I,1)}return w=ie(C,M.j(w)),new X(M,w)}for(M=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),N=k.j(w);$(N)||N.l(C)>0;)I-=V,k=y(I),N=k.j(w);K(k)&&(k=R),M=M.add(k),C=ie(C,N)}return new X(M,C)}a.B=function(C){return ae(this,C).h},a.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new f(I,this.h&C.h)},a.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new f(I,this.h|C.h)},a.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new f(I,this.h^C.h)};function de(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(I,C.h)}function ye(C,w){const I=w>>5;w%=32;const V=C.g.length-I,M=[];for(let k=0;k<V;k++)M[k]=w>0?C.i(k+I)>>>w|C.i(k+I+1)<<32-w:C.i(k+I);return new f(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,g0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xa=f}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y0,Nl,v0,eh,Cm,_0,E0,T0;(function(){var a,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)e:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in _))break e;_=_[P]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var _=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&_.push([b,p[b]]);return _}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,_){return c.call.apply(c.bind,arguments)}function y(c,p,_){return y=g,y.apply(null,arguments)}function E(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(b,P,H){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return p.prototype[P].apply(b,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const p=c.length;if(p>0){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function K(c,p){for(let b=1;b<arguments.length;b++){const P=arguments[b];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=c.length||0;const H=P.length||0;c.length=_+H;for(let re=0;re<H;re++)c[_+re]=P[re]}else c.push(P)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,_){const b=X.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var X=new $(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ye=!1,C=new ne,w=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(I)}};function I(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){G(_)}var p=X;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ye=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function $e(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S($e,M),$e.prototype.init=function(c,p){const _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,p,_,b,P){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=P,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function je(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function O(c){const p={};for(const _ in c)p[_]=c[_];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,p){let _,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(_ in b)c[_]=b[_];for(let H=0;H<Z.length;H++)_=Z[H],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,p,_,b,P){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const re=Ce(c,p,b,P);return re>-1?(p=c[re],_||(p.fa=!1)):(p=new se(p,this.src,H,!!b,P),p.fa=_,c.push(p)),p};function Te(c,p){const _=p.type;if(_ in c.g){var b=c.g[_],P=Array.prototype.indexOf.call(b,p,void 0),H;(H=P>=0)&&Array.prototype.splice.call(b,P,1),H&&(me(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ce(c,p,_,b){for(let P=0;P<c.length;++P){const H=c[P];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==b)return P}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Dt={};function rt(c,p,_,b,P){if(Array.isArray(p)){for(let H=0;H<p.length;H++)rt(c,p[H],_,b,P);return null}return _=bo(_),c&&c[ft]?c.J(p,_,m(b)?!!b.capture:!1,P):sr(c,p,_,!1,b,P)}function sr(c,p,_,b,P,H){if(!p)throw Error("Invalid event type");const re=m(P)?!!P.capture:!!P;let we=or(c);if(we||(c[ze]=we=new ce(c)),_=we.add(p,_,b,re,H),_.proxy)return _;if(b=ts(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)k||(P=re),P===void 0&&(P=!1),c.addEventListener(p.toString(),b,P);else if(c.attachEvent)c.attachEvent(ii(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ts(){function c(_){return p.call(c.src,c.listener,_)}const p=To;return c}function ns(c,p,_,b,P){if(Array.isArray(p))for(var H=0;H<p.length;H++)ns(c,p[H],_,b,P);else b=m(b)?!!b.capture:!!b,_=bo(_),c&&c[ft]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],_=Ce(p,_,b,P),_>-1&&(me(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=or(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,_,b,P)),(_=c>-1?p[c]:null)&&is(_))}function is(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ft])Te(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent(ii(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=or(p))?(Te(_,c),_.h==0&&(_.src=null,p[ze]=null)):me(c)}}}function ii(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function To(c,p){if(c.da)c=!0;else{p=new $e(p,this);const _=c.listener,b=c.ha||c.src;c.fa&&is(c),c=_.call(b,p)}return c}function or(c){return c=c[ze],c instanceof ce?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[So]||(c[So]=function(p){return c.handleEvent(p)}),c[So])}function vt(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}S(vt,V),vt.prototype[ft]=!0,vt.prototype.removeEventListener=function(c,p,_,b){ns(this,c,p,_,b)};function Ot(c,p){var _,b=c.G;if(b)for(_=[];b;b=b.G)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var P=p;p=new M(b,c),oe(p,P)}P=!0;let H,re;if(_)for(re=_.length-1;re>=0;re--)H=p.g=_[re],P=ua(H,b,!0,p)&&P;if(H=p.g=c,P=ua(H,b,!0,p)&&P,P=ua(H,b,!1,p)&&P,_)for(re=0;re<_.length;re++)H=p.g=_[re],P=ua(H,b,!1,p)&&P}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let b=0;b<_.length;b++)me(_[b]);delete c.g[p],c.h--}}this.G=null},vt.prototype.J=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},vt.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function ua(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let H=0;H<p.length;++H){const re=p[H];if(re&&!re.da&&re.capture==_){const we=re.listener,mt=re.ha||re.src;re.fa&&Te(c.i,re),P=we.call(mt,b)!==!1&&P}}return P&&!b.defaultPrevented}function Kh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function hu(c){c.g=Kh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Wt extends V{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(c){V.call(this),this.h=c,this.g={}}S(lr,V);var Ao=[];function wo(c){Ue(c.g,function(p,_){this.g.hasOwnProperty(_)&&is(p)},c),c.g={}}lr.prototype.N=function(){lr.Z.N.call(this),wo(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=f.JSON.stringify,Yh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){M.call(this,"d")}S(Pt,M);function Tn(){M.call(this,"c")}S(Tn,M);var dt={},pu=null;function as(){return pu=pu||new vt}dt.Ia="serverreachability";function gu(c){M.call(this,dt.Ia,c)}S(gu,M);function ai(c){const p=as();Ot(p,new gu(p))}dt.STAT_EVENT="statevent";function ur(c,p){M.call(this,dt.STAT_EVENT,c),this.stat=p}S(ur,M);function _t(c){const p=as();Ot(p,new ur(p,c))}dt.Ja="timingevent";function ri(c,p){M.call(this,dt.Ja,c),this.size=p}S(ri,M);function si(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function $h(c,p,_,b,P,H){c.info(function(){if(c.g)if(H){var re="",we=H.split("&");for(let He=0;He<we.length;He++){var mt=we[He].split("=");if(mt.length>1){const st=mt[0];mt=mt[1];const wn=st.split("_");re=wn.length>=2&&wn[1]=="type"?re+(st+"="+mt+"&"):re+(st+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+p+`
`+_+`
`+re})}function yu(c,p,_,b,P,H,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+p+`
`+_+`
`+H+" "+re})}function oi(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Xh(c,_)+(b?" "+b:"")})}function cr(c,p){c.info(function(){return"TIMEOUT: "+p})}zn.prototype.info=function(){};function Xh(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var _=H[c];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return ca(H)}catch{return p}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function fr(){}S(fr,du),fr.prototype.g=function(){return new XMLHttpRequest},Co=new fr;function xi(c){return encodeURIComponent(String(c))}function vu(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function Pn(c,p,_,b){this.j=c,this.i=p,this.l=_,this.S=b||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function li(c,p,_){c.M=1,c.A=dr(St(p)),c.u=_,c.R=!0,rs(c,null)}function rs(c,p){c.F=Date.now(),ui(c),c.B=St(c.A);var _=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),us(_.i,"t",b),c.C=0,_=c.j.L,c.h=new jn,c.g=xu(c.j,_?p:null,!c.u),c.P>0&&(c.O=new Wt(y(c.Y,c,c.g),c.P)),p=c.V,_=c.g,b=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ao[0]=P.toString()),P=Ao);for(let H=0;H<P.length;H++){const re=rt(_,P[H],b||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ai(),$h(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Hn(c)==3?p.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Hn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||we!=4||mt==7||(mt==8||He<=0?ai(3):ai(2)),ci(this);var p=this.g.ca();this.X=p;var _=Jh(this);if(this.o=p==200,yu(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var H=b;break t}}H=null}if(c=H)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,_t(12),fn(this),Sn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<_.length;)if(st=Eu(this,_),st==Lt){we==4&&(this.m=4,_t(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Et){this.m=4,_t(15),oi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,st,null),hi(this,st);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||_.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Bo(re),re.P=!0,_t(11))}}else oi(this.i,this.l,_,null),hi(this,_);we==4&&fn(this),this.o&&!this.K&&(we==4?Nu(this.j,this):(this.o=!1,ui(this)))}else Li(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),fn(this),Sn(this)}}}catch{}};function Jh(c){if(!_u(c))return c.g.la();const p=jt(c.g);if(p==="")return"";let _="";const b=p.length,P=Hn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<b;H++)c.h.h=!0,_+=c.h.i.decode(p[H],{stream:!(P&&H==b-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?Lt:(_=Number(p.substring(_,b)),isNaN(_)?Et:(b+=1,b+_>p.length?Lt:(p=p.slice(b,b+_),c.C=b+_,p)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ui(c){c.T=Date.now()+c.H,ss(c,c.H)}function ss(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),p)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ai(),_t(17)),fn(this),this.m=2,Sn(this)):ss(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Nu(c.j,c)}function fn(c){ci(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,wo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function hi(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||di(_.h,c))){if(!c.L&&di(_.h,c)&&_.I==3){try{var b=_.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ms(_),va(_);else break e;Er(_),_t(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=si(y(_.Va,_),6e3));fi(_.h)<=1&&_.ta&&(_.ta=void 0)}else _i(_,11)}else if((c.L||_.g==c)&&ms(_),!N(p))for(P=_.Ba.g.parse(p),p=0;p<P.length;p++){let He=P[p];const st=He[0];if(!(st<=_.K))if(_.K=st,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const wn=He[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const Ei=He[4];Ei!=null&&(_.za=Ei,_.j.info("SVER="+_.za));const Fn=He[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(b=1.5*Fn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Gn=c.g;if(Gn){const Tr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var H=b.h;H.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(b.G){const ps=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(b.wa=ps,Qe(b.J,b.G,ps))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var re=c;if(b.na=Mu(b,b.L?b.ba:null,b.W),re.L){Oo(b.h,re);var we=re,mt=b.O;mt&&(we.H=mt),we.D&&(ci(we),ui(we)),b.g=re}else Cu(b);_.i.length>0&&vi(_)}else He[0]!="stop"&&He[0]!="close"||_i(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?_i(_,7):jo(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}ai(4)}catch{}}var Tt=class{constructor(c,p){this.g=c,this.map=p}};function Io(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Do(c,p){c.g?c.g.add(p):c.h=p}function Oo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Io.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return L(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const b=c[_].indexOf("=");let P,H=null;b>=0?(P=c[_].substring(0,b),H=c[_].substring(b+1)):P=c[_],p(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof dn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ha(this,c.u),this.h=c.h,xo(this,wu(c.i)),this.m=c.m):c&&(p=String(c).match(Tu))?(this.l=!1,Ut(this,p[1]||"",!0),this.o=mi(p[2]||""),this.g=mi(p[3]||"",!0),ha(this,p[4]),this.h=mi(p[5]||"",!0),xo(this,p[6]||"",!0),this.m=mi(p[7]||"")):(this.l=!1,this.i=new da(null,this.l))}dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(mr(p,ls,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(mr(p,ls,!0),"@"),c.push(xi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(mr(_,_.charAt(0)=="/"?Vo:Su,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",mr(_,bu)),c.join("")},dn.prototype.resolve=function(c){const p=St(this);let _=!!c.j;_?Ut(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var b=c.h;if(_)ha(p,c.u);else if(_=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=p.h.lastIndexOf("/");P!=-1&&(b=p.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let re=0;re<P.length;){const we=P[re++];we=="."?b&&re==P.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&re==P.length&&H.push("")):(H.push(we),b=!0)}b=H.join("/")}else b=P}return _?p.h=b:_=c.i.toString()!=="",_?xo(p,wu(c.i)):_=!!c.m,_&&(p.m=c.m),p};function St(c){return new dn(c)}function Ut(c,p,_){c.j=_?mi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ha(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function xo(c,p,_){p instanceof da?(c.i=p,cs(c.i,c.l)):(_||(p=mr(p,fa)),c.i=new da(p,c.l))}function Qe(c,p,_){c.i.set(p,_)}function dr(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,nn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ls=/[#\/\?@]/g,Su=/[#\?:]/g,Vo=/[#\?]/g,fa=/[#\?@]/g,bu=/#/g;function da(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&os(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}a=da.prototype,a.add=function(c,p){an(this),this.i=null,c=ma(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Au(c,p){an(c),p=ma(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Lo(c,p){return an(c),p=ma(c,p),c.g.has(p)}a.forEach=function(c,p){an(this),this.g.forEach(function(_,b){_.forEach(function(P){c.call(p,P,b,this)},this)},this)};function Uo(c,p){an(c);let _=[];if(typeof p=="string")Lo(c,p)&&(_=_.concat(c.g.get(ma(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}a.set=function(c,p){return an(this),this.i=null,c=ma(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=Uo(this,c),c.length>0?String(c[0]):p):p};function us(c,p,_){Au(c,p),_.length>0&&(c.i=null,c.g.set(ma(c,p),L(_)),c.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var _=p[b];const P=xi(_);_=Uo(this,_);for(let H=0;H<_.length;H++){let re=P;_[H]!==""&&(re+="="+xi(_[H])),c.push(re)}}return this.i=c.join("&")};function wu(c){const p=new da;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ma(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function cs(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(_,b){const P=b.toLowerCase();b!=P&&(Au(this,b),us(this,P,_))},c)),c.j=p}function qn(c,p){const _=new zn;if(f.Image){const b=new Image;b.onload=E(bn,_,"TestLoadImage: loaded",!0,p,b),b.onerror=E(bn,_,"TestLoadImage: error",!1,p,b),b.onabort=E(bn,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=E(bn,_,"TestLoadImage: timeout",!1,p,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function ko(c,p){const _=new zn,b=new AbortController,P=setTimeout(()=>{b.abort(),bn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(H=>{clearTimeout(P),H.ok?bn(_,"TestPingServer: ok",!0,p):bn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),bn(_,"TestPingServer: error",!1,p)})}function bn(c,p,_,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(_)}catch{}}function pa(){this.g=new fu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(pi,du),pi.prototype.g=function(){return new pr(this.i,this.h)};function pr(c,p){vt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,vt),a=pr.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Bn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function hs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ga(this):Bn(this),this.readyState==3&&hs(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,ga(this))},a.Na=function(c){this.g&&(this.response=c,ga(this))},a.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Bn(c)}a.setRequestHeader=function(c,p){this.A.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let p="";return Ue(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function gr(c,p,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=An(_),typeof c=="string"?_!=null&&xi(_):Qe(c,p,_))}function Xe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xe,vt);var gi=/^https?$/i,zo=["POST","PUT"];a=Xe.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){yr(this,H);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)_.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())_.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(zo,p,void 0)>=0)||b||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){yr(this,H)}};function yr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Po(c),Vi(c)}function Po(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Vi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xe.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},a.Xa=function(){vr(this)};function vr(c){if(c.h&&typeof u<"u"){if(c.v&&Hn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var b;if(b=H===0){let re=String(c.D).match(Tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!gi.test(re?re.toLowerCase():"")}_=b}if(_)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=Hn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Po(c)}}finally{Vi(c)}}}}function Vi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||Ot(c,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yh(p)}};function jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const p={};c=(c.g&&Hn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(N(c[b]))continue;var _=vu(c[b]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[P]||[];p[P]=H,H.push(_)}je(p,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ya(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new pa,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ya.prototype,a.ka=8,a.I=1,a.connect=function(c,p,_,b){_t(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=Mu(this,null,this.W),vi(this)};function jo(c){if(fs(c),c.I==3){var p=c.V++,_=St(c.J);if(Qe(_,"SID",c.M),Qe(_,"RID",p),Qe(_,"TYPE","terminate"),_r(c,_),p=new Pn(c,c.j,p),p.M=2,p.A=dr(St(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=xu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ui(p)}Ou(c)}function va(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function fs(c){va(c),c.v&&(f.clearTimeout(c.v),c.v=null),ms(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!No(c.h)&&!c.m){c.m=!0;var p=c.Ea;de||w(),ye||(de(),ye=!0),C.add(p,c),c.D=0}}function ds(c,p){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,p),Du(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Pn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=O(H),oe(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Ru(this,P,p),_=St(this.J),Qe(_,"RID",c),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),_r(this,_),H&&(this.R?p="headers="+xi(An(H))+"&"+p:this.u&&gr(_,this.u,H)),Do(this.h,P),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",p),Qe(_,"SID","null"),P.U=!0,li(P,_,null)):li(P,_,p),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||No(this.h)||qo(this))};function qo(c,p){var _;p?_=p.l:_=c.V++;const b=St(c.J);Qe(b,"SID",c.M),Qe(b,"RID",_),Qe(b,"AID",c.K),_r(c,b),c.u&&c.o&&gr(b,c.u,c.o),_=new Pn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Ru(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,_),li(_,b,p)}function _r(c,p){c.H&&Ue(c.H,function(_,b){Qe(p,b,_)}),c.l&&Ue({},function(_,b){Qe(p,b,_)})}function Ru(c,p,_){_=Math.min(c.i.length,_);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let we=-1;for(;;){const mt=["count="+_];we==-1?_>0?(we=P[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let He=!0;for(let st=0;st<_;st++){var H=P[st].g;const wn=P[st].map;if(H-=we,H<0)we=Math.max(0,P[st].g-100),He=!1;else try{H="req"+H+"_"||"";try{var re=wn instanceof Map?wn:Object.entries(wn);for(const[Ei,Fn]of re){let Gn=Fn;m(Fn)&&(Gn=ca(Fn)),mt.push(H+Ei+"="+encodeURIComponent(Gn))}}catch(Ei){throw mt.push(H+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(wn)}}if(He){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,_),p.G=c,re}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;de||w(),ye||(de(),ye=!0),C.add(p,c),c.A=0}}function Er(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),Du(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),va(this),Iu(this))};function Bo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=St(c.na);Qe(p,"RID","rpc"),Qe(p,"SID",c.M),Qe(p,"AID",c.K),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(p,"TO",c.ia),Qe(p,"TYPE","xmlhttp"),_r(c,p),c.u&&c.o&&gr(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=dr(St(p)),_.u=null,_.R=!0,rs(_,c)}a.Va=function(){this.C!=null&&(this.C=null,va(this),Er(this),_t(19))};function ms(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,p){var _=null;if(c.g==p){ms(c),Bo(c),c.g=null;var b=2}else if(di(c.h,p))_=p.G,Oo(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;b=as(),Ot(b,new ri(b,_)),vi(c)}else Cu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(b==1&&ds(c,p)||b==2&&Er(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),P){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Du(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function _i(c,p){if(c.j.info("Error code "+p),p==2){var _=y(c.bb,c),b=c.Ua;const P=!b;b=new dn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(b,"https"),dr(b),P?qn(b.toString(),_):ko(b.toString(),_)}else _t(2);c.I=0,c.l&&c.l.pa(p),Ou(c),fs(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const p=Mo(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Mu(c,p,_){var b=_ instanceof dn?St(_):new dn(_);if(b.g!="")p&&(b.g=p+"."+b.g),ha(b,b.u);else{var P=f.location;b=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const H=new dn(null);b&&Ut(H,b),p&&(H.g=p),P&&ha(H,P),_&&(H.h=_),b=H}return _=c.G,p=c.wa,_&&p&&Qe(b,_,p),Qe(b,"VER",c.ka),_r(c,b),b}function xu(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new pi({ab:_})):new Xe(c.ma),p.Fa(c.L),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}a=Vu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function _a(){}_a.prototype.g=function(c,p){return new en(c,p)};function en(c,p){vt.call(this),this.g=new ya(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!N(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ui(this)}S(en,vt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){jo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=ca(c),c=_);p.i.push(new Tt(p.Ya++,c)),p.I==3&&vi(p)},en.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,en.Z.N.call(this)};function Lu(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Lu,Pt);function Uu(){Tn.call(this),this.status=1}S(Uu,Tn);function Ui(c){this.g=c}S(Ui,Vu),Ui.prototype.ra=function(){Ot(this.g,"a")},Ui.prototype.qa=function(c){Ot(this.g,new Lu(c))},Ui.prototype.pa=function(c){Ot(this.g,new Uu)},Ui.prototype.oa=function(){Ot(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,T0=function(){return new _a},E0=function(){return as()},_0=dt,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,eh=hr,Ro.COMPLETE="complete",v0=Ro,mu.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Nl=mu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,y0=Xe}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let go="12.9.0";function XI(a){go=a}const Qr=new Wm("@firebase/firestore");function Qs(){return Qr.logLevel}function ue(a,...e){if(Qr.logLevel<=xe.DEBUG){const n=e.map(fp);Qr.debug(`Firestore (${go}): ${a}`,...n)}}function sa(a,...e){if(Qr.logLevel<=xe.ERROR){const n=e.map(fp);Qr.error(`Firestore (${go}): ${a}`,...n)}}function Kr(a,...e){if(Qr.logLevel<=xe.WARN){const n=e.map(fp);Qr.warn(`Firestore (${go}): ${a}`,...n)}}function fp(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function _e(a,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,S0(a,r,n)}function S0(a,e,n){let r=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sa(r),new Error(r)}function Ge(a,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,a||S0(e,o,r)}function Ae(a,e){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ja{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class b0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class ZI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WI{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ja,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ja)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new b0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class e2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class t2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i2(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=i2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ve(a,e){return a<e?-1:a>e?1:0}function Im(a,e){const n=Math.min(a.length,e.length);for(let r=0;r<n;r++){const o=a.charAt(r),u=e.charAt(r);if(o!==u)return lm(o)===lm(u)?Ve(o,u):lm(o)?1:-1}return Ve(a.length,e.length)}const a2=55296,r2=57343;function lm(a){const e=a.charCodeAt(0);return e>=a2&&e<=r2}function ro(a,e,n){return a.length===e.length&&a.every(((r,o)=>n(r,e[o])))}const sE="__name__";class wi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const r=wi.isNumericId(e),o=wi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(e).compare(wi.extractNumericId(n)):Im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class tt extends wi{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends wi{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Qt([sE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}function A0(a,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function o2(a,e,n,r){if(e===!0&&r===!0)throw new le(ee.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function oE(a){if(!ge.isDocumentKey(a))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function lE(a){if(ge.isDocumentKey(a))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function w0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Mh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_e(12329,{type:typeof a})}function ql(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(a);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}function l2(a,e){if(e<=0)throw new le(ee.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}function Nt(a,e){const n={typeString:a};return e&&(n.value=e),n}function ru(a,e){if(!w0(a))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const f=a[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const uE=-62135596800,cE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uE)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function u2(a,e){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Wa(o,ge.empty(),e)}function c2(a){return new Wa(a.readTime,a.key,Bl)}class Wa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wa(Se.min(),ge.empty(),Bl)}static max(){return new Wa(Se.max(),ge.empty(),Bl)}}function h2(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(a.documentKey,e.documentKey),n!==0?n:Ve(a.largestBatchId,e.largestBatchId))}const f2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==f2)throw a;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function m2(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(a){return a.name==="IndexedDbTransactionError"}class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const mp=-1;function Vh(a){return a==null}function ph(a){return a===0&&1/a==-1/0}function p2(a){return typeof a=="number"&&Number.isInteger(a)&&!ph(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const R0="";function g2(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=hE(e)),e=y2(a.get(n),e);return hE(e)}function y2(a,e){let n=e;const r=a.length;for(let o=0;o<r;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case R0:n+="";break;default:n+=u}}return n}function hE(a){return a+R0+""}function fE(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Jr(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function C0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Gt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class I0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new I0("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(a){if(Ge(!!a,39018),typeof a=="string"){let e=0;const n=v2.exec(a);if(Ge(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(a.seconds),nanos:yt(a.nanos)}}function yt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function tr(a){return typeof a=="string"?Kt.fromBase64String(a):Kt.fromUint8Array(a)}const N0="server_timestamp",D0="__type__",O0="__previous_value__",M0="__local_write_time__";function pp(a){return(a?.mapValue?.fields||{})[D0]?.stringValue===N0}function Lh(a){const e=a.mapValue.fields[O0];return pp(e)?Lh(e):e}function Hl(a){const e=er(a.mapValue.fields[M0].timestampValue);return new at(e.seconds,e.nanos)}class _2{constructor(e,n,r,o,u,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const gh="(default)";class Fl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}function E2(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(a.options.projectId,e)}const x0="__type__",T2="__max__",Fc={mapValue:{}},V0="__vector__",yh="value";function nr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pp(a)?4:b2(a)?9007199254740991:S2(a)?10:11:_e(28295,{value:a})}function Oi(a,e){if(a===e)return!0;const n=nr(a);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Hl(a).isEqual(Hl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=er(o.timestampValue),m=er(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return tr(o.bytesValue).isEqual(tr(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1})(a,e);case 9:return ro(a.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fE(f)!==fE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0})(a,e);default:return _e(52216,{left:a})}}function Gl(a,e){return(a.values||[]).find((n=>Oi(n,e)))!==void 0}function so(a,e){if(a===e)return 0;const n=nr(a),r=nr(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),g=yt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(a,e);case 3:return mE(a.timestampValue,e.timestampValue);case 4:return mE(Hl(a),Hl(e));case 5:return Im(a.stringValue,e.stringValue);case 6:return(function(u,f){const m=tr(u),g=tr(f);return m.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ve(m[y],g[y]);if(E!==0)return E}return Ve(m.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(yt(u.latitude),yt(f.latitude));return m!==0?m:Ve(yt(u.longitude),yt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return pE(a.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[yh]?.arrayValue,E=g[yh]?.arrayValue,S=Ve(y?.values?.length||0,E?.values?.length||0);return S!==0?S:pE(y,E)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Im(g[S],E[S]);if(R!==0)return R;const L=so(m[g[S]],y[E[S]]);if(L!==0)return L}return Ve(g.length,E.length)})(a.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function mE(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ve(a,e);const n=er(a),r=er(e),o=Ve(n.seconds,r.seconds);return o!==0?o:Ve(n.nanos,r.nanos)}function pE(a,e){const n=a.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=so(n[o],r[o]);if(u)return u}return Ve(n.length,r.length)}function oo(a){return Nm(a)}function Nm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=er(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return tr(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return ge.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Nm(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(a.mapValue):_e(61005,{value:a})}function th(a){switch(nr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(a);return e?16+th(e):16;case 5:return 2*a.stringValue.length;case 6:return tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+th(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Jr(r.fields,((u,f)=>{o+=u.length+th(f)})),o})(a.mapValue);default:throw _e(13486,{value:a})}}function gE(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Dm(a){return!!a&&"integerValue"in a}function gp(a){return!!a&&"arrayValue"in a}function yE(a){return!!a&&"nullValue"in a}function vE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function nh(a){return!!a&&"mapValue"in a}function S2(a){return(a?.mapValue?.fields||{})[x0]?.stringValue===V0}function Vl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Jr(a.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(a.arrayValue.values[n]);return e}return{...a}}function b2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Qt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Vl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Jr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Vn(Vl(this.value))}}function L0(a){const e=[];return Jr(a.fields,((n,r)=>{const o=new Qt([n]);if(nh(r)){const u=L0(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,o){return new Jt(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,n){this.position=e,this.inclusive=n}}function _E(a,e,n){let r=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?r=ge.comparator(ge.fromName(f.referenceValue),n.key):r=so(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Oi(a.position[n],e.position[n]))return!1;return!0}class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function A2(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class U0{}class It extends U0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R2(e,n,r):n==="array-contains"?new N2(e,r):n==="in"?new D2(e,r):n==="not-in"?new O2(e,r):n==="array-contains-any"?new M2(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C2(e,r):new I2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends U0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return k0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k0(a){return a.op==="and"}function z0(a){return w2(a)&&k0(a)}function w2(a){for(const e of a.filters)if(e instanceof ni)return!1;return!0}function Om(a){if(a instanceof It)return a.field.canonicalString()+a.op.toString()+oo(a.value);if(z0(a))return a.filters.map((e=>Om(e))).join(",");{const e=a.filters.map((n=>Om(n))).join(",");return`${a.op}(${e})`}}function P0(a,e){return a instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Oi(r.value,o.value)})(a,e):a instanceof ni?(function(r,o){return o instanceof ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&P0(f,o.filters[m])),!0):!1})(a,e):void _e(19439)}function j0(a){return a instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`})(a):a instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(j0).join(" ,")+"}"})(a):"Filter"}class R2 extends It{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class C2 extends It{constructor(e,n){super(e,"in",n),this.keys=q0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=q0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function q0(a,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class N2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&Gl(n.arrayValue,this.value)}}class D2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class O2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class M2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}class x2{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function TE(a,e=null,n=[],r=[],o=null,u=null,f=null){return new x2(a,e,n,r,o,u,f)}function yp(a){const e=Ae(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Om(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>oo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>oo(r))).join(",")),e.Te=n}return e.Te}function vp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!A2(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!P0(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!EE(a.startAt,e.startAt)&&EE(a.endAt,e.endAt)}function Mm(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class _o{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function V2(a,e,n,r,o,u,f,m){return new _o(a,e,n,r,o,u,f,m)}function B0(a){return new _o(a)}function SE(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function L2(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function H0(a){return a.collectionGroup!==null}function Ll(a){const e=Ae(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ql(u,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Ql(Qt.keyField(),r))}return e.Ie}function Ci(a){const e=Ae(a);return e.Ee||(e.Ee=U2(e,Ll(a))),e.Ee}function U2(a,e){if(a.limitType==="F")return TE(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ql(o.field,u)}));const n=a.endAt?new vh(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new vh(a.startAt.position,a.startAt.inclusive):null;return TE(a.path,a.collectionGroup,e,a.filters,a.limit,n,r)}}function xm(a,e){const n=a.filters.concat([e]);return new _o(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function k2(a,e){const n=a.explicitOrderBy.concat([e]);return new _o(a.path,a.collectionGroup,n,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function _h(a,e,n){return new _o(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function Uh(a,e){return vp(Ci(a),Ci(e))&&a.limitType===e.limitType}function F0(a){return`${yp(Ci(a))}|lt:${a.limitType}`}function Ks(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>j0(o))).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>oo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>oo(o))).join(",")),`Target(${r})`})(Ci(a))}; limitType=${a.limitType})`}function kh(a,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,e)&&(function(r,o){for(const u of Ll(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=_E(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,Ll(r),o)||r.endAt&&!(function(f,m,g){const y=_E(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,Ll(r),o))})(a,e)}function z2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function G0(a){return(e,n)=>{let r=!1;for(const o of Ll(a)){const u=P2(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function P2(a,e,n){const r=a.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?so(g,y):_e(42886)})(a.field,e,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:a.dir})}}class Zr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}const j2=new ut(ge.comparator);function oa(){return j2}const Q0=new ut(ge.comparator);function Dl(...a){let e=Q0;for(const n of a)e=e.insert(n.key,n);return e}function K0(a){let e=Q0;return a.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jr(){return Ul()}function Y0(){return Ul()}function Ul(){return new Zr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const q2=new ut(ge.comparator),B2=new Vt(ge.comparator);function Le(...a){let e=B2;for(const n of a)e=e.add(n);return e}const H2=new Vt(Ve);function F2(){return H2}function _p(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function $0(a){return{integerValue:""+a}}function G2(a,e){return p2(e)?$0(e):_p(a,e)}class zh{constructor(){this._=void 0}}function Q2(a,e,n){return a instanceof Kl?(function(o,u){const f={fields:{[D0]:{stringValue:N0},[M0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=Lh(u)),u&&(f.fields[O0]=u),{mapValue:f}})(n,e):a instanceof Yl?J0(a,e):a instanceof $l?Z0(a,e):(function(o,u){const f=X0(o,u),m=bE(f)+bE(o.Ae);return Dm(f)&&Dm(o.Ae)?$0(m):_p(o.serializer,m)})(a,e)}function K2(a,e,n){return a instanceof Yl?J0(a,e):a instanceof $l?Z0(a,e):n}function X0(a,e){return a instanceof Eh?(function(r){return Dm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Kl extends zh{}class Yl extends zh{constructor(e){super(),this.elements=e}}function J0(a,e){const n=W0(e);for(const r of a.elements)n.some((o=>Oi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends zh{constructor(e){super(),this.elements=e}}function Z0(a,e){let n=W0(e);for(const r of a.elements)n=n.filter((o=>!Oi(o,r)));return{arrayValue:{values:n}}}class Eh extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bE(a){return yt(a.integerValue||a.doubleValue)}function W0(a){return gp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Y2{constructor(e,n){this.field=e,this.transform=n}}function $2(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof Yl&&o instanceof Yl||r instanceof $l&&o instanceof $l?ro(r.elements,o.elements,Oi):r instanceof Eh&&o instanceof Eh?Oi(r.Ae,o.Ae):r instanceof Kl&&o instanceof Kl})(a.transform,e.transform)}class X2{constructor(e,n){this.version=e,this.transformResults=n}}class na{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new na}static exists(e){return new na(void 0,e)}static updateTime(e){return new na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ph{}function eS(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new nS(a.key,na.none()):new su(a.key,a.data,na.none());{const n=a.data,r=Vn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Wr(a.key,r,new Jn(o.toArray()),na.none())}}function J2(a,e,n){a instanceof su?(function(o,u,f){const m=o.value.clone(),g=wE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,e,n):a instanceof Wr?(function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=wE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(tS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function kl(a,e,n,r){return a instanceof su?(function(u,f,m,g){if(!ih(u.precondition,f))return m;const y=u.value.clone(),E=RE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,n,r):a instanceof Wr?(function(u,f,m,g){if(!ih(u.precondition,f))return m;const y=RE(u.fieldTransforms,g,f),E=f.data;return E.setAll(tS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(a,e,n,r):(function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,e,n)}function Z2(a,e){let n=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),u=X0(r.transform,o||null);u!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,u))}return n||null}function AE(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ro(r,o,((u,f)=>$2(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class su extends Ph{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends Ph{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tS(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);e.set(n,r)}})),e}function wE(a,e,n){const r=new Map;Ge(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let o=0;o<n.length;o++){const u=a[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,K2(f,m,n[o]))}return r}function RE(a,e,n){const r=new Map;for(const o of a){const u=o.transform,f=n.data.field(o.field);r.set(o.field,Q2(u,f,e))}return r}class nS extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&J2(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Y0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=eS(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((n,r)=>AE(n,r)))&&ro(this.baseMutations,e.baseMutations,((n,r)=>AE(n,r)))}}class Ep{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return q2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Ep(e,n,r,o)}}class tN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Pe;function iN(a){switch(a){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:a})}}function iS(a){if(a===void 0)return sa("GRPC error has no .code"),ee.UNKNOWN;switch(a){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:a})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function aN(){return new TextEncoder}const rN=new Xa([4294967295,4294967295],0);function CE(a){const e=aN().encode(a),n=new g0;return n.update(e),new Uint8Array(n.digest())}function IE(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([o,u],0)]}class Tp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xa.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Xa.fromNumber(r)));return o.compare(rN)===1&&(o=new Xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CE(e),[r,o]=IE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Tp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=CE(e),[r,o]=IE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(Se.min(),o,new ut(Ve),oa(),Le())}}class ou{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,Le(),Le(),Le())}}class ah{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class aS{constructor(e,n){this.targetId=e,this.Ce=n}}class rS{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class NE{constructor(){this.ve=0,this.Fe=DE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=DE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sN{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.He=Gc(),this.Je=Gc(),this.Ze=new ut(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Mm(u))if(r===0){const f=new ge(u.path);this.et(n,f,Jt.newNoDocument(f,Se.min()))}else Ge(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=tr(r).toUint8Array()}catch(g){if(g instanceof I0)return Kr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tp(f,o,u)}catch(g){return Kr(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Mm(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Jt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Le();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new jh(e,n,this.Ze,this.je,r);return this.je=oa(),this.He=Gc(),this.Je=Gc(),this.Ze=new ut(Ve),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new NE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ut(ge.comparator)}function DE(){return new ut(ge.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},lN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class cN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(a,e){return a.useProto3Json||Vh(e)?e:{value:e}}function Th(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function hN(a,e){return Th(a,e.toTimestamp())}function Ii(a){return Ge(!!a,49232),Se.fromTimestamp((function(n){const r=er(n);return new at(r.seconds,r.nanos)})(a))}function Sp(a,e){return Lm(a,e).canonicalString()}function Lm(a,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?n:n.child(e)}function oS(a){const e=tt.fromString(a);return Ge(fS(e),10190,{key:e.toString()}),e}function Um(a,e){return Sp(a.databaseId,e.path)}function um(a,e){const n=oS(e);if(n.get(1)!==a.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new ge(uS(n))}function lS(a,e){return Sp(a.databaseId,e)}function fN(a){const e=oS(a);return e.length===4?tt.emptyPath():uS(e)}function km(a){return new tt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function uS(a){return Ge(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function OE(a,e,n){return{name:Um(a,e),fields:n.value.mapValue.fields}}function dN(a,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ee.UNKNOWN:iS(y.code);return new le(E,y.message||"")})(f);n=new rS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=um(a,r.document.name),u=Ii(r.document.updateTime),f=r.document.createTime?Ii(r.document.createTime):Se.min(),m=new Vn({mapValue:{fields:r.document.fields}}),g=Jt.newFoundDocument(o,u,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new ah(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=um(a,r.document),u=r.readTime?Ii(r.readTime):Se.min(),f=Jt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=um(a,r.document),u=r.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new nN(o,u),m=r.targetId;n=new aS(m,f)}}return n}function mN(a,e){let n;if(e instanceof su)n={update:OE(a,e.key,e.value)};else if(e instanceof nS)n={delete:Um(a,e.key)};else if(e instanceof Wr)n={update:OE(a,e.key,e.data),updateMask:bN(e.fieldMask)};else{if(!(e instanceof W2))return _e(16599,{dt:e.type});n={verify:Um(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(a,e.precondition)),n}function pN(a,e){return a&&a.length>0?(Ge(e!==void 0,14353),a.map((n=>(function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(Se.min())&&(f=Ii(u)),new X2(f,o.transformResults||[])})(n,e)))):[]}function gN(a,e){return{documents:[lS(a,e.path)]}}function yN(a,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lS(a,o);const u=(function(y){if(y.length!==0)return hS(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Ys(R.field),direction:EN(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(a,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function vN(a){let e=fN(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const R=cS(S);return R instanceof ni&&z0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(K){return new Ql($s(K.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,Vh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,L=S.values||[];return new vh(L,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,L=S.values||[];return new vh(L,R)})(n.endAt)),V2(e,o,f,u,m,"F",g,y)}function _N(a,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cS(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=$s(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$s(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$s(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(a):a.fieldFilter!==void 0?(function(n){return It.create($s(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((r=>cS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(a):_e(30097,{filter:a})}function EN(a){return oN[a]}function TN(a){return lN[a]}function SN(a){return uN[a]}function Ys(a){return{fieldPath:a.canonicalString()}}function $s(a){return Qt.fromServerFormat(a.fieldPath)}function hS(a){return a instanceof It?(function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:TN(n.op),value:n.value}}})(a):a instanceof ni?(function(n){const r=n.getFilters().map((o=>hS(o)));return r.length===1?r[0]:{compositeFilter:{op:SN(n.op),filters:r}}})(a):_e(54877,{filter:a})}function bN(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fS(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function dS(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Qa{constructor(e,n,r,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AN{constructor(e){this.yt=e}}function wN(a){const e=vN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?_h(e,e.limit,"L"):e}class RN{constructor(){this.Sn=new CN}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Wa.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Wa.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class CN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(tt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(mS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class lo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}const xE="LruGarbageCollector",IN=1048576;function VE([a,e],[n,r]){const o=Ve(a,n);return o===0?Ve(e,r):o}class NN{constructor(e){this.Pr=e,this.buffer=new Vt(VE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(xE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?ue(xE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class ON{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(xh.ce);const r=new NN(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(ME)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Qs()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function MN(a,e){return new ON(a,e)}class xN{constructor(){this.changes=new Zr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class LN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&kl(r.mutation,o,Jn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=jr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Dl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=oa();const f=Ul(),m=(function(){return Ul()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Wr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),kl(E.mutation,y,E.mutation.getFieldMask(),at.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new VN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Ul();let o=new ut(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||Jn.empty();E=m.applyToLocalView(y,E),r.set(g,E);const S=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=Y0();E.forEach((R=>{if(!u.has(R)){const L=eS(n.get(R),r.get(R));L!==null&&S.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return L2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):te.resolve(jr());let m=Bl,g=u;return f.next((y=>te.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Le()))).next((E=>({batchId:m,changes:K0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const y=(function(S,R){return new _o(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Dl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&kl(E.mutation,y,Jn.empty(),at.now()),kh(n,y)&&(m=m.insert(g,y))})),m}))}}class UN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:wN(o.bundledQuery),readTime:Ii(o.readTime)}})(n)),te.resolve()}}class kN{constructor(){this.overlays=new ut(ge.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=jr(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=jr(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=jr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new tN(n,r));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class zN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class bp{constructor(){this.kr=new Vt(zt.Kr),this.qr=new Vt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new tt([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new tt([])),r=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class PN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(zt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eN(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?mp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ve);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ge.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ge(u),0);let m=new Vt(Ve);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return te.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),o=this.Jr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jN{constructor(e){this.ti=e,this.docs=(function(){return new ut(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=oa();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||h2(c2(E),r)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,r,o){_e(9500)}ni(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qN(this)}getSize(e){return te.resolve(this.size)}}class qN extends xN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class BN{constructor(e){this.persistence=e,this.ri=new Zr((n=>yp(n)),vp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new bp,this.targetCount=0,this.oi=lo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class pS{constructor(e,n){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new zN,this.referenceDelegate=e(this),this.li=new BN(this),this.indexManager=new RN,this.remoteDocumentCache=(function(o){return new jN(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new AN(n),this.Pi=new UN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new PN(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new HN(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class HN extends d2{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Ri=new bp,this.Ai=null}static Vi(e){return new Ap(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.fi=new Zr((r=>g2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=MN(this,n)}static Vi(e,n){return new Sh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}wr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(e,n.fromCache,r,o)}}class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Nw()?8:m2(Zt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Qs()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Qs()<=xe.DEBUG&&ue("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Qs()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):te.resolve())}gs(e,n){if(SE(n))return te.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_h(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Le(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,_h(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return SE(n)||o.isEqual(Se.min())?te.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?te.resolve(null):(Qs()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(n)),this.Ds(e,f,n,u2(o,Bl)).next((m=>m)))}))}bs(e,n){let r=new Vt(G0(e));return n.forEach(((o,u)=>{kh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return Qs()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.fs.getDocumentsMatchingQuery(e,n,Wa.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Rp="LocalStore",QN=3e8;class KN{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ve),this.Fs=new Zr((u=>yp(u)),vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function YN(a,e,n,r){return new KN(a,e,n,r)}async function gS(a,e){const n=Ae(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=Le();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function $N(a,e){const n=Ae(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,R=S.keys();let L=te.resolve();return R.forEach((K=>{L=L.next((()=>E.getEntry(g,K))).next(($=>{const G=y.docVersions.get(K);Ge(G!==null,48541),$.version.compareTo(G)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Le();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function yS(a){const e=Ae(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function XN(a,e){const n=Ae(a),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),o=o.insert(S,L),(function($,G,ie){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=QN?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(R,L,E)&&m.push(n.li.updateTargetData(u,L))}));let g=oa(),y=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(JN(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!r.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function JN(a,e,n){let r=Le(),o=Le();return n.forEach((u=>r=r.add(u))),e.getEntries(a,r).next((u=>{let f=oa();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function ZN(a,e){const n=Ae(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function WN(a,e){const n=Ae(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new Qa(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function zm(a,e,n){const r=Ae(a),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!vo(f))throw f;ue(Rp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function LE(a,e,n){const r=Ae(a);let o=Se.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Ae(g),R=S.Fs.get(E);return R!==void 0?te.resolve(S.vs.get(R)):S.li.getTargetData(y,E)})(r,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Le()))).next((m=>(eD(r,z2(e),m),{documents:m,ks:u})))))}function eD(a,e,n){let r=a.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Ms.set(e,r)}class UE{constructor(){this.activeTargetIds=F2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.vo=new UE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new UE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nD{Mo(e){}shutdown(){}}const kE="ConnectivityMonitor";class zE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(kE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Pm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const cm="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Pm(),m=this.Qo(e,n.toUriEncodedString());ue(cm,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=fo(y);return this.zo(e,m,g,r,E).then((S=>(ue(cm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Kr(cm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=iD[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class rD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const $t="WebChannelConnection",Il=(a,e,n)=>{a.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ws extends aD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ws.c_){const e=E0();Il(e,_0.STAT_EVENT,(n=>{n.stat===Cm.PROXY?ue($t,"STAT_EVENT: detected buffering proxy"):n.stat===Cm.NOPROXY&&ue($t,"STAT_EVENT: detected no buffering proxy")})),Ws.c_=!0}}zo(e,n,r,o,u){const f=Pm();return new Promise(((m,g)=>{const y=new y0;y.setWithCredentials(!0),y.listenOnce(v0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const S=y.getResponseJson();ue($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case eh.TIMEOUT:ue($t,`RPC '${e}' ${f} timed out`),g(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const R=y.getStatus();if(ue($t,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L?.error;if(K&&K.status&&K.message){const $=(function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(K.status);g(new le($,K.message))}else g(new le(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Pm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,R=!1;const L=new rD({Ho:K=>{R?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(S||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ue($t,`RPC '${e}' stream ${o} sending:`,K),E.send(K))},Jo:()=>E.close()});return Il(E,Nl.EventType.OPEN,(()=>{R||(ue($t,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Il(E,Nl.EventType.CLOSE,(()=>{R||(R=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Il(E,Nl.EventType.ERROR,(K=>{R||(R=!0,Kr($t,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),L.o_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),Il(E,Nl.EventType.MESSAGE,(K=>{if(!R){const $=K.data[0];Ge(!!$,16349);const G=$,ie=G?.error||G[0]?.error;if(ie){ue($t,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let X=(function(ye){const C=Ct[ye];if(C!==void 0)return iS(C)})(ne),ae=ie.message;ne==="NOT_FOUND"&&ae.includes("database")&&ae.includes("does not exist")&&ae.includes(this.databaseId.database)&&Kr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),X===void 0&&(X=ee.INTERNAL,ae="Unknown error status: "+ne+" with message "+ie.message),R=!0,L.o_(new le(X,ae)),E.close()}else ue($t,`RPC '${e}' stream ${o} received:`,$),L.__($)}})),Ws.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return T0()}}function sD(a){return new Ws(a)}function hm(){return typeof document<"u"?document:null}function qh(a){return new cN(a,!0)}Ws.c_=!1;class vS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const PE="PersistentStream";class _S{constructor(e,n,r,o,u,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(sa(n.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oD extends _S{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ii(f.readTime):Se.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Mm(g)?{documents:gN(u,g)}:{query:yN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sS(u,f.resumeToken);const y=Vm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Th(u,f.snapshotVersion.toTimestamp());const y=Vm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=_N(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.K_(n)}}class lD extends _S{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pN(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mN(this.serializer,r)))};this.K_(n)}}class uD{}class cD extends uD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Lm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Lm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hD(a,e,n,r){return new cD(a,e,n,r)}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sa(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class dD{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{es(this)&&(ue(Yr,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await lu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Bh(y)})(this))}))})),this.Va=new fD(r,o)}}async function Bh(a){if(es(a))for(const e of a.Ra)await e(!0)}async function lu(a){for(const e of a.Ra)await e(!1)}function ES(a,e){const n=Ae(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dp(n)?Np(n):Eo(n).O_()&&Ip(n,e))}function Cp(a,e){const n=Ae(a),r=Eo(n);n.Ia.delete(e),r.O_()&&TS(n,e),n.Ia.size===0&&(r.O_()?r.L_():es(n)&&n.Va.set("Unknown"))}function Ip(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(a).Z_(e)}function TS(a,e){a.da.$e(e),Eo(a).X_(e)}function Np(a){a.da=new sN({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Eo(a).start(),a.Va.ua()}function Dp(a){return es(a)&&!Eo(a).x_()&&a.Ia.size>0}function es(a){return Ae(a).Ea.size===0}function SS(a){a.da=void 0}async function mD(a){a.Va.set("Online")}async function pD(a){a.Ia.forEach(((e,n)=>{Ip(a,e)}))}async function gD(a,e){SS(a),Dp(a)?(a.Va.ha(e),Np(a)):a.Va.set("Unknown")}async function yD(a,e,n){if(a.Va.set("Online"),e instanceof rS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(a,e)}catch(r){ue(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(a,r)}else if(e instanceof ah?a.da.Xe(e):e instanceof aS?a.da.st(e):a.da.tt(e),!n.isEqual(Se.min()))try{const r=await yS(a.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),TS(u,g);const S=new Qa(E.target,g,y,E.sequenceNumber);Ip(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(a,n)}catch(r){ue(Yr,"Failed to raise snapshot:",r),await bh(a,r)}}async function bh(a,e,n){if(!vo(e))throw e;a.Ea.add(1),await lu(a),a.Va.set("Offline"),n||(n=()=>yS(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ue(Yr,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Bh(a)}))}function bS(a,e){return e().catch((n=>bh(a,n,e)))}async function Hh(a){const e=Ae(a),n=ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mp;for(;vD(e);)try{const o=await ZN(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,_D(e,o)}catch(o){await bh(e,o)}AS(e)&&wS(e)}function vD(a){return es(a)&&a.Ta.length<10}function _D(a,e){a.Ta.push(e);const n=ir(a);n.O_()&&n.Y_&&n.ea(e.mutations)}function AS(a){return es(a)&&!ir(a).x_()&&a.Ta.length>0}function wS(a){ir(a).start()}async function ED(a){ir(a).ra()}async function TD(a){const e=ir(a);for(const n of a.Ta)e.ea(n.mutations)}async function SD(a,e,n){const r=a.Ta.shift(),o=Ep.from(r,e,n);await bS(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Hh(a)}async function bD(a,e){e&&ir(a).Y_&&await(async function(r,o){if((function(f){return iN(f)&&f!==ee.ABORTED})(o.code)){const u=r.Ta.shift();ir(r).B_(),await bS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Hh(r)}})(a,e),AS(a)&&wS(a)}async function jE(a,e){const n=Ae(a);n.asyncQueue.verifyOperationInProgress(),ue(Yr,"RemoteStore received new credentials");const r=es(n);n.Ea.add(3),await lu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function AD(a,e){const n=Ae(a);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await lu(n),n.Va.set("Unknown"))}function Eo(a){return a.ma||(a.ma=(function(n,r,o){const u=Ae(n);return u.sa(),new oD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Zo:mD.bind(null,a),Yo:pD.bind(null,a),t_:gD.bind(null,a),J_:yD.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Dp(a)?Np(a):a.Va.set("Unknown")):(await a.ma.stop(),SS(a))}))),a.ma}function ir(a){return a.fa||(a.fa=(function(n,r,o){const u=Ae(n);return u.sa(),new lD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ED.bind(null,a),t_:bD.bind(null,a),ta:TD.bind(null,a),na:SD.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Hh(a)):(await a.fa.stop(),a.Ta.length>0&&(ue(Yr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Op{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new Op(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(a,e){if(sa("AsyncQueue",`${e}: ${a}`),vo(a))return new le(ee.UNAVAILABLE,`${e}: ${a}`);throw a}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class qE{constructor(){this.ga=new ut(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class uo{constructor(e,n,r,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(e,n,eo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class wD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class RD{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),u=o.queries;o.queries=BE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function BE(){return new Zr((a=>F0(a)),Uh)}async function CD(a,e){const n=Ae(a);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new wD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&xp(n)}async function ID(a,e){const n=Ae(a),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ND(a,e){const n=Ae(a);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&xp(n)}function DD(a,e,n){const r=Ae(a),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function xp(a){a.Ca.forEach((e=>{e.next()}))}var jm,HE;(HE=jm||(jm={})).Ma="default",HE.Cache="cache";class OD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jm.Cache}}class RS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class MD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=G0(e),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new qE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const R=o.get(E),L=kh(this.query,S)?S:null,K=!!R&&this.mutatedKeys.has(R.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let G=!1;R&&L?R.data.isEqual(L.data)?K!==$&&(r.track({type:3,doc:L}),G=!0):this.su(R,L)||(r.track({type:2,doc:L}),G=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(m=!0)):!R&&L?(r.track({type:0,doc:L}),G=!0):R&&!L&&(r.track({type:1,doc:R}),G=!0,(g||y)&&(m=!0)),G&&(L?(f=f.add(L),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(L,K){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:G})}};return $(L)-$(K)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new uo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new CS(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new RS(r))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vp="SyncEngine";class xD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VD{constructor(e){this.key=e,this.hu=!1}}class LD{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Zr((m=>F0(m)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(ge.comparator),this.Au=new Map,this.Vu=new bp,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UD(a,e,n=!0){const r=xS(a);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IS(r,e,n,!0),o}async function kD(a,e){const n=xS(a);await IS(n,e,!0,!1)}async function IS(a,e,n,r){const o=await WN(a.localStore,Ci(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await zD(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&n&&ES(a.remoteStore,o),m}async function zD(a,e,n,r,o){a.pu=(S,R,L)=>(async function($,G,ie,ne){let X=G.view.ru(ie);X.Ss&&(X=await LE($.localStore,G.query,!1).then((({documents:C})=>G.view.ru(C,X))));const ae=ne&&ne.targetChanges.get(G.targetId),de=ne&&ne.targetMismatches.get(G.targetId)!=null,ye=G.view.applyChanges(X,$.isPrimaryClient,ae,de);return GE($,G.targetId,ye.au),ye.snapshot})(a,S,R,L);const u=await LE(a.localStore,e,!0),f=new MD(e,u.ks),m=f.ru(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",o),y=f.applyChanges(m,a.isPrimaryClient,g);GE(a,n,y.au);const E=new xD(e,n,f);return a.Tu.set(e,E),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),y.snapshot}async function PD(a,e,n){const r=Ae(a),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Uh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Cp(r.remoteStore,o.targetId),qm(r,o.targetId)})).catch(yo)):(qm(r,o.targetId),await zm(r.localStore,o.targetId,!0))}async function jD(a,e){const n=Ae(a),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cp(n.remoteStore,r.targetId))}async function qD(a,e,n){const r=YD(a);try{const o=await(function(f,m){const g=Ae(f),y=at.now(),E=m.reduce(((L,K)=>L.add(K.key)),Le());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let K=oa(),$=Le();return g.xs.getEntries(L,E).next((G=>{K=G,K.forEach(((ie,ne)=>{ne.isValidDocument()||($=$.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,K))).next((G=>{S=G;const ie=[];for(const ne of m){const X=Z2(ne,S.get(ne.key).overlayedDocument);X!=null&&ie.push(new Wr(ne.key,X,L0(X.value.mapValue),na.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,ie,m)})).next((G=>{R=G;const ie=G.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(L,G.batchId,ie)}))})).then((()=>({batchId:R.batchId,changes:K0(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await uu(r,o.changes),await Hh(r.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function NS(a,e){const n=Ae(a);try{const r=await XN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await uu(n,r,e)}catch(r){await yo(r)}}function FE(a,e,n){const r=Ae(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.ba)R.va(m)&&(y=!0)})),y&&xp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BD(a,e,n){const r=Ae(a);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ut(ge.comparator);f=f.insert(u,Jt.newNoDocument(u,Se.min()));const m=Le().add(u),g=new jh(Se.min(),new Map,new ut(Ve),f,m);await NS(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),Lp(r)}else await zm(r.localStore,e,!1).then((()=>qm(r,e,n))).catch(yo)}async function HD(a,e){const n=Ae(a),r=e.batch.batchId;try{const o=await $N(n.localStore,e);OS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,o)}catch(o){await yo(o)}}async function FD(a,e,n){const r=Ae(a);try{const o=await(function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ge(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);OS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uu(r,o)}catch(o){await yo(o)}}function DS(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function OS(a,e,n){const r=Ae(a);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function qm(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||MS(a,r)}))}function MS(a,e){a.Eu.delete(e.path.canonicalString());const n=a.Ru.get(e);n!==null&&(Cp(a.remoteStore,n),a.Ru=a.Ru.remove(e),a.Au.delete(n),Lp(a))}function GE(a,e,n){for(const r of n)r instanceof RS?(a.Vu.addReference(r.key,e),GD(a,r)):r instanceof CS?(ue(Vp,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||MS(a,r.key)):_e(19791,{wu:r})}function GD(a,e){const n=e.key,r=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(r)||(ue(Vp,"New document in limbo: "+n),a.Eu.add(r),Lp(a))}function Lp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new ge(tt.fromString(e)),r=a.fu.next();a.Au.set(r,new VD(n)),a.Ru=a.Ru.insert(n,r),ES(a.remoteStore,new Qa(Ci(B0(n.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function uu(a,e,n){const r=Ae(a),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=wp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(R=>te.forEach(R.Ts,(L=>E.persistence.referenceDelegate.addReference(S,R.targetId,L))).next((()=>te.forEach(R.Is,(L=>E.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))))))}catch(S){if(!vo(S))throw S;ue(Rp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const L=E.vs.get(R),K=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(K);E.vs=E.vs.insert(R,$)}}})(r.localStore,u))}async function QD(a,e){const n=Ae(a);if(!n.currentUser.isEqual(e)){ue(Vp,"User change. New user:",e.toKey());const r=await gS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(n,r.Ns)}}function KD(a,e){const n=Ae(a),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function xS(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BD.bind(null,e),e.Pu.J_=ND.bind(null,e.eventManager),e.Pu.yu=DD.bind(null,e.eventManager),e}function YD(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FD.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YN(this.persistence,new GN,e.initialUser,this.serializer)}Cu(e){return new pS(Ap.Vi,this.serializer)}Du(e){return new tD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class $D extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new pS((r=>Sh.Vi(r,n)),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QD.bind(null,this.syncEngine),await AD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RD})()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=sD(e.databaseInfo);return hD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new dD(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>FE(this.syncEngine,n,0)),(function(){return zE.v()?new zE:new nD})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new LD(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);ue(Yr,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class XD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ar="FirestoreClient";class JD{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(ar,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(ar,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fm(a,e){a.asyncQueue.verifyOperationInProgress(),ue(ar,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await gS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function QE(a,e){a.asyncQueue.verifyOperationInProgress();const n=await ZD(a);ue(ar,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((r=>jE(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>jE(e.remoteStore,o))),a._onlineComponents=e}async function ZD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ue(ar,"Using user provided OfflineComponentProvider");try{await fm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Kr("Error using user provided cache. Falling back to memory cache: "+n),await fm(a,new Ah)}}else ue(ar,"Using default OfflineComponentProvider"),await fm(a,new $D(void 0));return a._offlineComponents}async function VS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ue(ar,"Using user provided OnlineComponentProvider"),await QE(a,a._uninitializedComponentsProvider._online)):(ue(ar,"Using default OnlineComponentProvider"),await QE(a,new Bm))),a._onlineComponents}function WD(a){return VS(a).then((e=>e.syncEngine))}async function eO(a){const e=await VS(a),n=e.eventManager;return n.onListen=UD.bind(null,e.syncEngine),n.onUnlisten=PD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jD.bind(null,e.syncEngine),n}function tO(a,e,n={}){const r=new Ja;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new XD({next:R=>{E.Nu(),f.enqueueAndForget((()=>ID(u,S))),R.fromCache&&g.source==="server"?y.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new OD(m,E,{includeMetadataChanges:!0,Ka:!0});return CD(u,S)})(await eO(a),a.asyncQueue,e,n,r))),r.promise}function nO(a,e){const n=new Ja;return a.asyncQueue.enqueueAndForget((async()=>qD(await WD(a),e,n))),n.promise}function LS(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const iO="ComponentProvider",KE=new Map;function aO(a,e,n,r,o){return new _2(a,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,LS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const US="firestore.googleapis.com",YE=!0;class $E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=YE}else this.host=e.host,this.ssl=e.ssl??YE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IN)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JI;switch(r.type){case"firstParty":return new t2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=KE.get(n);r&&(ue(iO,"Removing Datastore"),KE.delete(n),r.terminate())})(this),Promise.resolve()}}function rO(a,e,n,r={}){a=ql(a,Fh);const o=fo(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${n}`;o&&(MT(`https://${m}`),xT("Firestore",!0)),u.host!==US&&u.host!==m&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Hr(g,f)&&(a._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Xt.MOCK_USER;else{y=Ew(r.mockUserToken,a._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(S)}a._authCredentials=new ZI(new b0(y,E))}}class rr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rr(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ru(n,xt._jsonSchema))return new xt(e,r||null,new ge(tt.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Nt("string",xt._jsonSchemaVersion),referencePath:Nt("string")};class Za extends rr{constructor(e,n,r){super(e,n,B0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ge(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function sO(a,e,...n){if(a=hn(a),A0("collection","path",e),a instanceof Fh){const r=tt.fromString(e,...n);return lE(r),new Za(a,null,r)}{if(!(a instanceof xt||a instanceof Za))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(tt.fromString(e,...n));return lE(r),new Za(a.firestore,null,r)}}function oO(a,e,...n){if(a=hn(a),arguments.length===1&&(e=dp.newId()),A0("doc","path",e),a instanceof Fh){const r=tt.fromString(e,...n);return oE(r),new xt(a,null,new ge(r))}{if(!(a instanceof xt||a instanceof Za))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(tt.fromString(e,...n));return oE(r),new xt(a.firestore,a instanceof Za?a.converter:null,new ge(r))}}const XE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vS(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&ue(XE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;ue(XE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,sa("INTERNAL UNHANDLED ERROR: ",ZE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Op.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:ZE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZE(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Up extends Fh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new JE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function lO(a,e){const n=typeof a=="object"?a:kT(),r=typeof a=="string"?a:gh,o=tp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=vw("firestore");u&&rO(o,...u)}return o}function kS(a){if(a._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||uO(a),a._firestoreClient}function uO(a){const e=a._freezeSettings(),n=aO(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new JD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Nt("string",Ln._jsonSchemaVersion),bytes:Nt("string")};class zS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kp{constructor(e){this._methodName=e}}class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ei(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Nt("string",ei._jsonSchemaVersion),vectorValues:Nt("object")};const cO=/^__.*__$/;class hO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function PS(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:a})}}class zp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(PS(this.dataSource)&&cO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}createContext(e,n,r,o=!1){return new zp({dataSource:e,methodName:n,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jS(a){const e=a._freezeSettings(),n=qh(a._databaseId);return new fO(a._databaseId,!!e.ignoreUndefinedProperties,n)}function dO(a,e,n,r,o,u={}){const f=a.createContext(u.merge||u.mergeFields?2:0,e,n,o);HS("Data must be an object, but it was:",f,r);const m=qS(r,f);let g,y;if(u.merge)g=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=Gh(e,S,n);if(!f.contains(R))throw new le(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);yO(E,R)||E.push(R)}g=new Jn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new hO(new Vn(m),g,y)}class Pp extends kp{_toFieldTransform(e){return new Y2(e.path,new Kl)}isEqual(e){return e instanceof Pp}}function mO(a,e,n,r=!1){return jp(n,a.createContext(r?4:3,e))}function jp(a,e){if(BS(a=hn(a)))return HS("Unsupported field value:",e,a),qS(a,e);if(a instanceof kp)return(function(r,o){if(!PS(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let g=jp(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,e)}return(function(r,o){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:Th(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:sS(o.serializer,r._byteString)};if(r instanceof xt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ei)return(function(f,m){const g=f instanceof ei?f.toArray():f;return{mapValue:{fields:{[x0]:{stringValue:V0},[yh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return _p(m.serializer,E)}))}}}}}})(r,o);if(dS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mh(r)}`)})(a,e)}function qS(a,e){const n={};return C0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(a,((r,o)=>{const u=jp(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function BS(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof at||a instanceof Ni||a instanceof Ln||a instanceof xt||a instanceof kp||a instanceof ei||dS(a))}function HS(a,e,n){if(!BS(n)||!w0(n)){const r=Mh(n);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Gh(a,e,n){if((e=hn(e))instanceof zS)return e._internalPath;if(typeof e=="string")return gO(a,e);throw wh("Field path arguments must be of type string or ",a,!1,void 0,n)}const pO=new RegExp("[~\\*/\\[\\]]");function gO(a,e,n){if(e.search(pO)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new zS(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function wh(a,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new le(ee.INVALID_ARGUMENT,m+a+g)}function yO(a,e){return a.some((n=>n.isEqual(e)))}class vO{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new ei(n)}convertGeoPoint(e){return new Ni(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=er(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ge(fS(r),9688,{name:e});const o=new Fl(r.get(1),r.get(3)),u=new ge(r.popFirst(5));return o.isEqual(n)||sa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class _O extends vO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function EO(){return new Pp("serverTimestamp")}const WE="@firebase/firestore",eT="4.11.0";class FS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Gh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TO extends FS{data(){return super.data()}}function SO(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class Bp extends qp{}function bO(a,e,...n){let r=[];e instanceof qp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Fp)).length,m=u.filter((g=>g instanceof Hp)).length;if(f>1||f>0&&m>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class Hp extends Bp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hp(e,n,r)}_apply(e){const n=this._parse(e);return GS(e._query,n),new rr(e.firestore,e.converter,xm(e._query,n))}_parse(e){const n=jS(e.firestore);return(function(u,f,m,g,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){nT(S,E);const K=[];for(const $ of S)K.push(tT(g,u,$));R={arrayValue:{values:K}}}else R=tT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||nT(S,E),R=mO(m,f,S,E==="in"||E==="not-in");return It.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fp extends qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)GS(f,g),f=xm(f,g)})(e._query,n),new rr(e.firestore,e.converter,xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends Bp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(u,f)})(e._query,this._field,this._direction);return new rr(e.firestore,e.converter,k2(e._query,n))}}function AO(a,e="asc"){const n=e,r=Gh("orderBy",a);return Gp._create(r,n)}class Qp extends Bp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qp(e,n,r)}_apply(e){return new rr(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function wO(a){return l2("limit",a),Qp._create("limit",a,"F")}function tT(a,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gE(a,new ge(r))}if(n instanceof xt)return gE(a,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function nT(a,e){if(!Array.isArray(a)||a.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(a,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function RO(a,e,n){let r;return r=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,r}class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends FS{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Nt("string",to._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class rh extends to{data(e={}){return super.data(e)}}class no{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:CO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CO(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:a})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Nt("string",no._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function IO(a){a=ql(a,rr);const e=ql(a.firestore,Up),n=kS(e),r=new _O(e);return SO(a._query),tO(n,a._query).then((o=>new no(e,r,a,o)))}function NO(a,e,n){a=ql(a,xt);const r=ql(a.firestore,Up),o=RO(a.converter,e,n),u=jS(r);return DO(r,[dO(u,"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,na.none())])}function DO(a,e){const n=kS(a);return nO(n,e)}(function(e,n=!0){XI(mo),io(new Fr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Up(new WI(r.getProvider("auth-internal")),new n2(f,r.getProvider("app-check-internal")),E2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),$a(WE,eT,e),$a(WE,eT,"esm2020")})();const Hm={apiKey:"AIzaSyAYdXacDZ6oovtZrFrhsjQksMtMYv4yGKM",authDomain:"sherlocked-d343c.firebaseapp.com",projectId:"sherlocked-d343c",storageBucket:"sherlocked-d343c.firebasestorage.app",messagingSenderId:"1049567590289",appId:"1:1049567590289:web:b1b5c80d0a2ccbb1898c30"},Br=!!(Hm.apiKey&&Hm.projectId);let dm=null,Xl=null,zr=null,Fm=null;if(Br)try{dm=UT(Hm),Xl=lO(dm),zr=QI(dm),Fm=new Zi}catch(a){console.warn("Firebase initialization failed:",a.message)}function Qh(){const[a,e]=z.useState(null),[n,r]=z.useState(!0);z.useEffect(()=>{if(!Br||!zr){r(!1);return}const f=VC(zr,m=>{e(m?{uid:m.uid,displayName:m.displayName||"Detective",email:m.email,photoURL:m.photoURL}:null),r(!1)});return()=>f()},[]);const o=z.useCallback(async()=>{if(!Br||!zr||!Fm)return!1;try{return await tI(zr,Fm),!0}catch(f){return console.warn("Sign-in failed:",f.message),!1}},[]),u=z.useCallback(async()=>{if(zr)try{await LC(zr)}catch(f){console.warn("Sign-out failed:",f.message)}},[]);return{user:a,loading:n,isAuthenticated:!!a,signIn:o,logOut:u,isConfigured:Br}}const QS="leaderboard";async function OO(a,e){if(!Br||!Xl||!a?.uid)return!1;try{const n=oO(Xl,QS,a.uid);return await NO(n,{name:a.displayName||"Detective",photoURL:a.photoURL||null,puzzlesSolved:e.puzzlesSolved||0,secretsSolved:e.secretsSolved||0,metaSolved:e.metaSolved||0,totalScore:(e.puzzlesSolved||0)+(e.secretsSolved||0)*2+(e.metaSolved||0)*3,lastUpdated:EO()},{merge:!0}),!0}catch(n){return console.warn("Failed to submit score:",n.message),!1}}async function MO(a=50){if(!Br||!Xl)return null;try{const e=bO(sO(Xl,QS),AO("totalScore","desc"),wO(a));return(await IO(e)).docs.map((r,o)=>({rank:o+1,id:r.id,...r.data()}))}catch(e){return console.warn("Failed to fetch leaderboard:",e.message),null}}const mm="sherlocked-progress",pm="sherlocked-secrets",iT="sherlocked-last-visit";function cu(){const{user:a,isAuthenticated:e}=Qh(),[n,r]=z.useState(()=>{try{const X=localStorage.getItem(mm);return X?JSON.parse(X):[]}catch{return[]}}),[o,u]=z.useState(()=>{try{const X=localStorage.getItem(pm);return X?JSON.parse(X):[]}catch{return[]}}),[f]=z.useState(()=>{try{return localStorage.getItem(iT)||null}catch{return null}});z.useEffect(()=>{localStorage.setItem(mm,JSON.stringify(n))},[n]),z.useEffect(()=>{localStorage.setItem(pm,JSON.stringify(o))},[o]),z.useEffect(()=>{localStorage.setItem(iT,new Date().toISOString())},[]);const m=n.filter(X=>typeof X=="number").length,g=n.filter(X=>typeof X=="string"&&X.startsWith("s")).length,y=n.filter(X=>typeof X=="string"&&X.startsWith("m")).length;z.useEffect(()=>{!e||!a||OO(a,{puzzlesSolved:m,secretsSolved:g,metaSolved:y})},[a,e,m,g,y]);const E=X=>{r(ae=>ae.includes(X)?ae:[...ae,X])},S=X=>n.includes(X),R=X=>X===1?!0:n.includes(X-1),L=z.useCallback(X=>{u(ae=>ae.includes(X)?ae:[...ae,X])},[]),K=z.useCallback(X=>o.includes(X),[o]),$=z.useCallback(X=>o.includes(X)&&!n.includes(`s${["konami","baker","lens","shadow"].indexOf(X)+1}`),[o,n]),G=()=>{r([]),u([]),localStorage.removeItem(mm),localStorage.removeItem(pm)},ie=(()=>{for(let X=1;X<=24;X++)if(!n.includes(X))return X;return null})(),ne=(()=>{if(!f)return null;try{const X=new Date(f),de=new Date-X,ye=Math.floor(de/6e4),C=Math.floor(de/36e5),w=Math.floor(de/864e5);return ye<2?"poco fa":ye<60?`${ye} minuti fa`:C<24?`${C} or${C===1?"a":"e"} fa`:w===1?"ieri":w<7?`${w} giorni fa`:X.toLocaleDateString("it-IT",{day:"numeric",month:"long"})}catch{return null}})();return{solvedCases:n,solveCase:E,isSolved:S,isUnlocked:R,unlockedSecrets:o,unlockSecret:L,isSecretUnlocked:K,isSecretNew:$,resetProgress:G,totalSolved:m,totalSecretsSolved:g,totalMetaSolved:y,nextUnsolvedCase:ie,lastVisit:f,lastVisitFormatted:ne,user:a,username:a?.displayName||""}}const Zn=[{id:1,title:"Il Primo Indizio",subtitle:"Ogni investigazione inizia con una domanda",type:"riddle",difficulty:1,icon:"",hiddenClue:"Ogni caso  un tassello. Il primo passo  sempre una mappa del territorio.",description:"Un misterioso messaggio  stato lasciato sulla scena del crimine. Solo una mente acuta pu decifrarne il significato.",question:`Ho citt, ma non ho case.
Ho foreste, ma non ho alberi.
Ho acqua, ma non ho pesci.

Cosa sono?`,answer:"mappa",acceptedAnswers:["mappa","la mappa","una mappa","cartina","carta geografica"],hints:["Pensa a qualcosa che rappresenta il mondo...","Si trova spesso nelle mani di un esploratore...","Puoi trovarmi piegata nella tasca di un viaggiatore."],successMessage:"Eccellente! La mappa era nascosta tra le pagine di un vecchio atlante. Sopra c'era segnata una posizione...",lore:"Il professor Moriarty ha lasciato un messaggio cifrato nel suo studio. Inizia la caccia."},{id:2,title:"Il Codice Cesareo",subtitle:"Un cifrario antico nasconde la verit",type:"cipher",difficulty:2,icon:"",hiddenClue:"Non tutte le risposte errate sono inutili. Hai provato a digitare un indirizzo famoso? 221B...",description:"Un messaggio cifrato  stato trovato nella cassaforte del professore. Usa il Cifrario di Cesare per decodificarlo.",question:`Il messaggio cifrato recita:

 Y H U L W D 

Ogni lettera  stata spostata avanti di 3 posizioni nell'alfabeto.
Decifra la parola nascosta.`,answer:"verita",acceptedAnswers:["verita","verit","la verita","la verit"],hints:["Sposta ogni lettera indietro di 3 posizioni...","Y diventa V, H diventa E...","La parola ha 6 lettere e inizia per V."],successMessage:`"Verit"... la parola chiave che apre il prossimo livello dell'indagine. Il professore sapeva che qualcuno l'avrebbe trovata.`,lore:"Nella cassaforte c'era anche un foglio con numeri disposti in modo peculiare..."},{id:3,title:"La Sequenza Spezzata",subtitle:"I numeri non mentono mai",type:"sequence",difficulty:2,icon:"",hiddenClue:"Fibonacci  ovunque. Anche la natura segue i suoi numeri. Guarda le spirali.",description:"Una serie di numeri  stata incisa sul muro della cella. Sembra seguire un pattern ben preciso.",question:`Completa la sequenza:

1,  1,  2,  3,  5,  8,  13,  ?

Quale numero viene dopo?`,answer:"21",acceptedAnswers:["21","ventuno","ventiuno"],hints:["Ogni numero  legato ai due che lo precedono...","1+1=2, 1+2=3, 2+3=5..."," una famosa sequenza matematica scoperta da un italiano."],successMessage:"21  il numero di Fibonacci. Sul muro, accanto alla sequenza, c'era un altro enigma...",lore:"Le cifre portano a un vecchio magazzino sul porto. Qualcuno ha lasciato un messaggio criptico."},{id:4,title:"Parole nell'Ombra",subtitle:"Le lettere danzano, il significato si nasconde",type:"anagram",difficulty:3,icon:"",hiddenClue:"Un vero detective esplora ogni angolo. Anche in fondo a una lista, dove nessuno pensa di guardare...",description:"Le lettere di una parola chiave sono state mescolate. Riordinale per scoprire cosa cercava il colpevole.",question:`Riordina queste lettere per formare
una parola fondamentale per ogni detective:

 Z  I  D  N  O  I  I `,answer:"indizio",acceptedAnswers:["indizio","un indizio","l'indizio"],hints:["La parola ha 7 lettere...","Ogni investigatore ne cerca uno sulla scena del crimine...","Inizia con la lettera I e finisce con la O."],successMessage:'"Indizio"  proprio quello che abbiamo trovato. Ogni pezzo del puzzle ci avvicina alla soluzione.',lore:"L'indizio porta a una stanza segreta dove le pareti parlano..."},{id:5,title:"L'Eco del Silenzio",subtitle:"Una voce senza corpo, un suono senza origine",type:"riddle",difficulty:3,icon:"",hiddenClue:"I vecchi videogiochi nascondono codici antichi. BA  ricordi?",description:"Nella stanza segreta, un'iscrizione sul muro pone un antico indovinello.",question:`Parlo senza bocca,
ascolto senza orecchie.
Non ho corpo,
ma prendo vita con il vento.

Cosa sono?`,answer:"eco",acceptedAnswers:["eco","l'eco","un eco","un'eco"],hints:["Mi senti in montagna...","Ripeto tutto quello che dici...","Sono solo 3 lettere."],successMessage:'"Eco"... la risposta rimbomba nella stanza vuota. Le pareti rivelano un nuovo messaggio nascosto.',lore:"L'eco rivela una formula matematica incisa dietro un quadro."},{id:6,title:"Il Mistero dei Numeri",subtitle:"Ogni numero nasconde un segreto",type:"math",difficulty:4,icon:"",hiddenClue:"42 non  solo un numero.  la risposta alla vita, all'universo e a tutto il resto.  Douglas Adams",description:"Dietro il quadro, una serie di equazioni misteriose. Solo chi comprende il pattern pu proseguire.",question:`Osserva attentamente il pattern:

2    6
3    12
4    20
5    30
6    ?

Quale numero corrisponde a 6?`,answer:"42",acceptedAnswers:["42","quarantadue"],hints:["Ogni numero viene moltiplicato per qualcosa...","23=6, 34=12, 45=20...","Moltiplica il numero per il suo successivo: 67=?"],successMessage:"42  la risposta che cercavamo. Come direbbe qualcuno,  la risposta a tutto.",lore:"Il pattern numerico rivela le coordinate di un ultimo nascondiglio."},{id:7,title:"Il Messaggio Nascosto",subtitle:"Le parole sono pi di quello che sembrano",type:"hidden",difficulty:4,icon:"",hiddenClue:"Le prime lettere svelano tutto. Anche dove non sembra esserci nulla da leggere. Guarda le icone.",description:"Un testo apparentemente innocuo nasconde un messaggio segreto. Leggi tra le righe.",question:`Leggi con attenzione questa frase:

  Sotto  Ogni  Luce,  Una  Zona
   Illuminata  Oscilla  Nascosta
   Eternamente  

Quale parola si nasconde nel testo?`,answer:"soluzione",acceptedAnswers:["soluzione","la soluzione"],hints:["Non guardare le parole, guarda le lettere...","Concentrati sulla prima lettera di ogni parola...","S-O-L-U-Z-I-O-N-E"],successMessage:`"Soluzione"  era sotto i nostri occhi tutto il tempo. Il messaggio rivela l'ultima tappa del viaggio.`,lore:"Il messaggio conduce alla scena finale del crimine."},{id:8,title:"Il Caso Intermedio",subtitle:"Ogni mistero ha la sua soluzione",type:"riddle",difficulty:3,icon:"",hiddenClue:"Il mistero  come un'ombra: scompare quando accendi la luce. Ma a volte l'ombra stessa  l'indizio.",description:"Un enigma filosofico trovato nel diario del sospettato. La risposta apre un nuovo capitolo dell'indagine.",question:`Esisto solo quando mi cercano.
Scompaio nel momento in cui mi trovano.
Ogni detective vive per me.
Senza di me, non ci sarebbe avventura.

Cosa sono?`,answer:"mistero",acceptedAnswers:["mistero","il mistero","un mistero","enigma","l'enigma"],hints:["Sono il motore di ogni indagine...","Quando vengo risolto, cesso di esistere...","Holmes non potrebbe vivere senza di me."],successMessage:'"Mistero"  ma la storia non finisce qui. Un nuovo fascicolo  apparso sulla scrivania del detective...',lore:"Il diario del sospettato rivela che l'indagine  pi profonda di quanto pensassimo."},{id:9,title:"Il Codice Morse",subtitle:"Punti e linee dal passato",type:"morse",difficulty:2,icon:"",hiddenClue:"La radio trasmette da anni. Chi l'ha accesa non  mai tornato. Ma ha lasciato un ultimo messaggio nella luce.",description:"Una vecchia radio nella soffitta trasmette un messaggio in codice Morse. Usa la tabella per decifrarlo.",question:`La radio trasmette:

   

Tabella Morse:
A     B   C   D 
E      F   G    H 
I     J   K    L 
M     N     O    P 
Q   R    S    T 
U    V   W    X 
Y   Z 

Decifra la parola.`,answer:"luce",acceptedAnswers:["luce","la luce"],hints:["Separa il messaggio in 4 lettere..."," = L,  = U...","La parola ha 4 lettere e illumina il buio."],successMessage:'"Luce"  il messaggio dalla radio. Sotto la luce della soffitta, si rivela una scritta al contrario...',lore:"Nella soffitta della villa abbandonata, una radio gracchia un messaggio ripetuto da decenni."},{id:10,title:"Lo Specchio del Tempo",subtitle:"Non tutto  come appare",type:"mirror",difficulty:2,icon:"",hiddenClue:"Gli specchi non mentono mai. Ma a volte nascondono qualcosa dietro il vetro. Prova a guardare al contrario.",description:"Uno specchio antico nella soffitta mostra una parola scritta al contrario. Leggila come si riflette.",question:`Sullo specchio appare questa scritta:

  O  R  E  B  I  L  

Leggi la parola come riflessa nello specchio.`,answer:"libero",acceptedAnswers:["libero"],hints:["Leggi le lettere da destra verso sinistra...","L-I-B-E-R-O...","Significa il contrario di 'prigioniero'."],successMessage:'"Libero"  qualcuno voleva essere liberato. Lo specchio nascondeva una lettera dietro di s...',lore:"Lo specchio non riflette solo immagini. Dietro il vetro, qualcuno ha nascosto un messaggio."},{id:11,title:"Il Paradosso del Barista",subtitle:"La logica si nasconde dove meno te l'aspetti",type:"lateral",difficulty:3,icon:"",hiddenClue:"Il pensiero laterale  l'arma segreta di ogni detective. La soluzione pi ovvia raramente  quella giusta.",description:"Un testimone racconta una scena assurda avvenuta in un bar. La risposta  meno ovvia di quanto sembri.",question:`Un uomo entra in un bar e chiede
un bicchiere d'acqua.

Il barista lo guarda, poi tira fuori
una pistola e gliela punta contro.

L'uomo sorride, ringrazia ed esce.

Perch l'uomo ha ringraziato?`,answer:"singhiozzo",acceptedAnswers:["singhiozzo","il singhiozzo","aveva il singhiozzo","singhiozzava","singiozzo"],hints:["L'uomo non aveva sete in realt...","Aveva un problema fisico che l'acqua avrebbe potuto risolvere...","Lo spavento della pistola ha risolto il suo problema."],successMessage:"L'uomo aveva il singhiozzo! Lo spavento l'ha fatto passare, meglio di qualsiasi bicchiere d'acqua. Pensiero laterale, detective!",lore:"Il barista interrogato rivela che il misterioso cliente aveva lasciato un biglietto con dei numeri."},{id:12,title:"Il Codice del Telefono",subtitle:"Tecnologia del passato, messaggi del presente",type:"phone",difficulty:3,icon:"",hiddenClue:"I vecchi telefoni conservano segreti. Come le vecchie lenti d'ingrandimento sulla pagina principale...",description:"Un vecchio telefono a tastiera  stato trovato nella scena del crimine. L'ultimo messaggio digitato usa il sistema T9.",question:`Sul vecchio telefono, ogni tasto corrisponde
a delle lettere:

2=ABC  3=DEF  4=GHI  5=JKL
6=MNO  7=PQRS  8=TUV  9=WXYZ

L'ultimo messaggio digitato :

  7  3  2  8  6  

Usa la prima lettera di ogni gruppo
per decifrare la parola.`,answer:"reato",acceptedAnswers:["reato","il reato","un reato"],hints:["Prendi la lettera pi comune per ogni numero...","7=R, 3=E, 2=A..."," un sinonimo di 'crimine'."],successMessage:`"Reato"  il messaggio dal telefono. Qualcuno stava confessando. Ma c' ancora un labirinto da risolvere...`,lore:"Il telefono apparteneva a un informatore. I suoi messaggi portano a un luogo nascosto."},{id:13,title:"Il Labirinto Segreto",subtitle:"Le lettere formano un cammino",type:"grid",difficulty:3,icon:"",hiddenClue:"Ogni labirinto ha un'uscita. Ma non tutti i labirinti sono fatti di muri. Alcuni sono fatti di parole.",description:"Sulle mura di un antico palazzo, una griglia di lettere nasconde una parola. Segui il percorso giusto.",question:`Parti dalla S e muoviti nelle caselle
adiacenti (   ) per formare
una parola di 7 lettere:


 S  E  G 

 O  T  R 

       E 


Quale parola si forma?`,answer:"segreto",acceptedAnswers:["segreto","il segreto","un segreto"],hints:["Parti da S in alto a sinistra...","S  E  G poi scendi...","S-E-G-R-E-T-O: il percorso fa una spirale."],successMessage:`"Segreto"  il labirinto rivela la parola chiave. Dietro il muro c'era una stanza nascosta da secoli...`,lore:"Il palazzo nasconde una stanza segreta. La griglia sulle mura  la chiave per trovarla."},{id:14,title:"Il Testimone Muto",subtitle:"Tre sospettati, una sola verit",type:"logic",difficulty:4,icon:"",hiddenClue:"La verit si nasconde nelle bugie. Ascolta tutti, non credere a nessuno. Come le due guardie davanti alle porte...",description:"Tre sospettati vengono interrogati. Solo uno dice la verit. La logica  la tua unica arma.",question:`Tre sospettati: il Cuoco, il Giardiniere
e il Maggiordomo.

 Il Cuoco dice:
   Il Giardiniere  il colpevole.

 Il Giardiniere dice:
   Il Maggiordomo  il colpevole.

 Il Maggiordomo dice:
   Il Giardiniere mente.

Solo UNO di loro dice la verit.
Chi  il colpevole?`,answer:"maggiordomo",acceptedAnswers:["maggiordomo","il maggiordomo"],hints:["Se il Cuoco dicesse il vero, chi mentirebbe?","Se il Giardiniere dice la verit, allora il colpevole  il Maggiordomo. In quel caso il Cuoco mente (dice Giardiniere) e il Maggiordomo mente (dice che il Giardiniere mente, ma il Giardiniere dice la verit)...","Solo il Giardiniere dice la verit. La risposta inizia per M."],successMessage:"Il Maggiordomo! Solo il Giardiniere diceva la verit. Logica deduttiva perfetta, detective.",lore:"Il maggiordomo confessa sotto la pressione delle prove. Ma l'indagine rivela un complice ancora in libert."},{id:15,title:"La Trappola dei Numeri",subtitle:"Non tutto segue le regole che credi",type:"lateral",difficulty:4,icon:"",hiddenClue:"Le trappole migliori sono quelle che sembrano semplici. Come una sequenza che non  una sequenza.",description:"Un foglio con una serie di uguaglianze. Sembra semplice, ma la risposta non  quella che pensi.",question:`Osserva attentamente:

1  =  5
2  =  25
3  =  125
4  =  625

5  =  ?

Qual  il valore di 5?`,answer:"1",acceptedAnswers:["1","uno"],hints:["Non pensare ai pattern matematici...","Rileggi la PRIMA riga del problema...","Se 1 = 5, allora 5 = ?"],successMessage:"La risposta  1! Se 1=5, allora 5=1. Non era un pattern di potenze  era una trappola logica. Brillante!",lore:"Il foglio era un test lasciato dal mandante. Solo chi pensa fuori dagli schemi pu proseguire."},{id:16,title:"La Resa dei Conti",subtitle:"L'ultimo enigma chiude il cerchio",type:"riddle",difficulty:3,icon:"",hiddenClue:"Il tempo rivela tutto. Ma alcuni segreti si vedono solo quando  buio fuori. Torna a mezzanotte.",description:"Un enigma trovato nel covo del sospettato. La risposta apre un nuovo capitolo dell'indagine.",question:`Non puoi vedermi, ma invecchi per causa mia.
Non puoi fermarmi, ma tutti provano a farlo.
Guarisco ogni ferita,
ma alla fine vinco sempre io.

Che cosa sono?`,answer:"tempo",acceptedAnswers:["tempo","il tempo","lo scorrere del tempo","time"],hints:["Scorre in una sola direzione...","Gli orologi provano a misurarmi...","Si dice che guarisca ogni ferita."],successMessage:'"Il Tempo"  ma il tempo stringe anche per noi. Un nuovo fascicolo  arrivato dal dipartimento...',lore:"L'orologio della torre batte la mezzanotte. Ma il caso non  ancora chiuso."},{id:17,title:"La Stanza delle Equazioni",subtitle:"I simboli nascondono numeri",type:"equations",difficulty:4,icon:"",hiddenClue:"I simboli parlano una lingua universale. Impara a leggerli, e nessun codice ti resister.",description:"Sul pavimento della stanza segreta, qualcuno ha tracciato equazioni con simboli misteriosi. Trova il valore di ogni simbolo.",question:`Risolvi il sistema di equazioni:

 +  +  = 15
 +  +  = 19
 +  +  = 15

 +  +  = ?

Quale numero si ottiene?`,answer:"13",acceptedAnswers:["13","tredici"],hints:["Dalla prima equazione:  = ?"," = 5, quindi dalla seconda: 2 + 5 = 19...","=5, =7, =3. Ora calcola ++."],successMessage:"13! Un sistema di equazioni risolto alla perfezione. I numeri 5, 7, 3 erano le cifre di una combinazione...",lore:"La stanza segreta contiene equazioni tracciate col gesso. Ogni simbolo cela un numero."},{id:18,title:"Il Cifrario del Conte",subtitle:"Un cifrario che nemmeno Cesare potrebbe rompere",type:"vigenere",difficulty:4,icon:"",hiddenClue:"L'ombra  ovunque. Segue chi la ignora. Il mandante porta il suo nome.",description:"Un messaggio cifrato con il Cifrario di Vigenre  pi complesso del Cifrario di Cesare. Ogni lettera usa uno spostamento diverso, ciclando sulla parola chiave.",question:`Il messaggio cifrato :

 F  Q  S  V  R 

La chiave : RE

Metodo: per decifrare, sottrai la posizione
della lettera-chiave da quella cifrata.
(A=0, B=1, C=2, ... R=17, E=4)

F(5)  R(17) = ?
Q(16)  E(4) = ?
S(18)  R(17) = ?
...e cos via (se il risultato  negativo, aggiungi 26)

Quale parola si nasconde?`,answer:"ombra",acceptedAnswers:["ombra","l'ombra","un'ombra"],hints:["F(5)R(17) = 517 = 12  12+26 = 14 = O","Q(16)E(4) = 12 = M. Quindi le prime due lettere sono O-M...","O-M-B-R-A: una parola che segue tutti ma nessuno riesce a toccare."],successMessage:'"Ombra"  il nome in codice del mandante. Il cifrario di Vigenre non  bastato a proteggerlo.',lore:"Nella biblioteca del conte, un messaggio cifrato con un metodo pi sofisticato di quello di Cesare."},{id:19,title:"La Serie del Diavolo",subtitle:"Ogni numero descrive il precedente",type:"sequence",difficulty:4,icon:"",hiddenClue:"Conway era un genio. Come te, se sei arrivato fin qui. Ma il diavolo si nasconde nei dettagli.",description:"Una sequenza diabolica incisa sulla porta di una cripta. Non  un pattern matematico tradizionale  ogni numero DESCRIVE il precedente.",question:`Osserva la sequenza:

1
11
21
1211
111221
?

Ogni termine descrive il precedente.
"1"  si legge "un 1"  11
"11"  si legge "due 1"  21
"21"  si legge "un 2, un 1"  1211

Qual  il prossimo termine?`,answer:"312211",acceptedAnswers:["312211"],hints:["Leggi ad alta voce il numero 111221...","111221 = tre 1, due 2, un 1...",'"tre 1" = 31, "due 2" = 22, "un 1" = 11  ?'],successMessage:'312211! La sequenza "look-and-say" di Conway. Ogni termine  la descrizione verbale del precedente. Mente diabolica!',lore:"La porta della cripta si apre solo con il numero giusto. La sequenza incisa  diversa da qualsiasi altra."},{id:20,title:"Il Ponte dei Sospetti",subtitle:"Il tempo  il nemico",type:"optimization",difficulty:4,icon:"",hiddenClue:"L'ottimizzazione  l'arte del possibile. La via pi veloce non  sempre la pi ovvia.",description:"Quattro sospettati devono attraversare un ponte pericolante di notte. Il tempo stringe  ogni secondo conta.",question:`Quattro persone devono attraversare un ponte
di notte con UNA sola torcia.
Il ponte regge massimo 2 persone alla volta.
Chi attraversa deve portare la torcia.

Tempi di attraversamento:
A = 1 min, B = 2 min, C = 5 min, D = 10 min

In coppia, vanno alla velocit del pi lento.
La torcia deve essere riportata indietro
da qualcuno ogni volta.

Qual  il tempo MINIMO (in minuti)
per far attraversare tutti e quattro?`,answer:"17",acceptedAnswers:["17","diciassette","17 minuti"],hints:["La strategia ovvia (il pi veloce accompagna tutti) non  ottimale...","Conviene far attraversare C e D INSIEME per risparmiare tempo...","A+B vanno (2min), A torna (1min), C+D vanno (10min), B torna (2min), A+B vanno (2min) = ?"],successMessage:"17 minuti! La strategia ottimale: far attraversare i due pi lenti insieme. Ottimizzazione degna di un genio!",lore:"I sospettati fuggono nella notte. Il ponte sul fiume  l'unica via d'uscita."},{id:21,title:"I Numeri Romani del Morto",subtitle:"L'ultimo messaggio scritto in un codice antico",type:"roman",difficulty:4,icon:"",hiddenClue:"I numeri romani sono il linguaggio degli imperatori. E degli assassini che firmano i propri crimini.",description:"La vittima ha inciso numeri romani sul pavimento prima di morire. Ogni numero corrisponde a una lettera dell'alfabeto (1=A, 2=B, ... 26=Z).",question:`La vittima ha scritto col sangue:

IV  V  XII  IX  XX  XX  XV

Converti ogni numero romano in un numero,
poi trasforma ogni numero in una lettera
(1=A, 2=B, 3=C, ... 26=Z).

Quale parola si forma?`,answer:"delitto",acceptedAnswers:["delitto","il delitto","un delitto"],hints:["IV=4, V=5, XII=12, IX=9...","4=D, 5=E, 12=L, 9=I...","D-E-L-I-T-T-O: un sinonimo di crimine."],successMessage:'"Delitto"  la vittima ha nominato la natura del crimine stesso. I numeri romani erano il suo ultimo atto di coraggio.',lore:"La scena del crimine rivela un messaggio inciso dal morente. Numeri romani tracciati sul marmo."},{id:22,title:"L'Enigma di Einstein",subtitle:"Solo il 2% delle persone riesce a risolverlo",type:"logic",difficulty:5,icon:"",hiddenClue:"Einstein diceva che l'immaginazione  pi importante della conoscenza. A volte, la risposta  nella domanda stessa.",description:"Un classico enigma di deduzione logica. Tre case, tre abitanti, quattro indizi. Solo la logica pura pu risolvere il caso.",question:`Tre case in fila: Rossa, Blu, Verde.
Tre abitanti: Anna, Bruno, Carlo.

1. La casa Verde  all'estrema destra.
2. La casa Blu  al centro.
3. Anna NON vive nella casa Rossa.
4. Bruno vive a sinistra di Carlo.

Chi vive nella casa Rossa?`,answer:"bruno",acceptedAnswers:["bruno"],hints:["Dagli indizi 1 e 2: l'ordine delle case  Rossa-Blu-Verde.","Bruno  a sinistra di Carlo (indizio 4). Se Bruno fosse al centro (Blu), Carlo sarebbe a destra (Verde) e Anna a sinistra (Rossa)  ma l'indizio 3 dice che Anna non  nella Rossa...","Quindi Bruno dev'essere nella posizione 1: la casa Rossa."],successMessage:"Bruno vive nella casa Rossa! Deduzione logica perfetta. Einstein sarebbe fiero di te.",lore:"Un enigma logico trovato nella cassaforte del professore. Solo chi ragiona come Einstein pu proseguire."},{id:23,title:"Il Paradosso delle Due Porte",subtitle:"Una domanda per la libert",type:"logic",difficulty:5,icon:"",hiddenClue:"Due porte, due guardie. La verit  sempre il contrario di quello che ti dicono. Questo vale anche fuori dai giochi.",description:"Il classico paradosso delle due porte e delle due guardie. Una dice sempre la verit, l'altra mente sempre. Solo UNA domanda ti separa dalla libert.",question:`Sei davanti a due porte: A e B.
Una porta alla libert, l'altra alla condanna.

Due guardie: una dice SEMPRE la verit,
l'altra MENTE sempre. Non sai chi  chi.

Chiedi a una guardia:
Se chiedessi all'ALTRA guardia
quale porta porta alla libert,
quale indicherebbe?

La guardia indica la Porta A.

Quale porta scegli?`,answer:"b",acceptedAnswers:["b","porta b","la porta b","la b"],hints:["Pensa a cosa succede con ENTRAMBI i casi: chiedi al veritiero o al bugiardo...","Se chiedi al veritiero: lui sa che il bugiardo indicherebbe la porta SBAGLIATA, quindi ti dice quella sbagliata. Se chiedi al bugiardo: lui sa che il veritiero indicherebbe quella GIUSTA, ma mente, e ti dice quella sbagliata.","In ENTRAMBI i casi la guardia indica la porta SBAGLIATA. Se dice A, scegli B!"],successMessage:"Porta B! In entrambi i casi  che tu chieda al veritiero o al bugiardo  la risposta indica SEMPRE la porta sbagliata. Logica paradossale magistrale!",lore:"Una prigione sotterranea con due porte. Il destino del detective dipende da un'unica domanda."},{id:24,title:"Il Testamento del Genio",subtitle:"L'ultimo caso. Solo per menti superiori.",type:"multistep",difficulty:5,icon:"",hiddenClue:"Questo  solo l'inizio. I veri segreti sono nascosti dove nessuno pensa di cercare. Hai esplorato ogni angolo?",description:"Il caso definitivo richiede di combinare matematica, logica e attenzione. Tre passaggi, un'unica risposta finale.",question:`Il testamento del genio criminale recita:

Il mio segreto giace dove si incontrano
tre numeri.

I. Il primo numero primo dopo 100.
II. 2 elevato alla 7 potenza.
III. Sottrai il primo dal secondo.

Il risultato  la chiave di tutto.

Qual  il numero finale?`,answer:"27",acceptedAnswers:["27","ventisette"],hints:["Il primo numero primo dopo 100: 101  primo? 101 non  divisibile per 2, 3, 5, 7... s,  primo!","2 = 2222222 = 128","128  101 = ?"],successMessage:"27! Il primo numero primo dopo 100  101, 2 = 128, e 128  101 = 27. Il caso  definitivamente chiuso. Sei un detective leggendario!",lore:"Il testamento finale del genio criminale. Solo chi padroneggia numeri e logica pu decifrarlo."}];function Kp({show:a,secretName:e,onClose:n}){const[r,o]=z.useState(!1),[u,f]=z.useState(!1);return z.useEffect(()=>{if(a){o(!0),f(!1);const m=setTimeout(()=>{f(!0),setTimeout(()=>{o(!1),f(!1),n?.()},500)},4e3);return()=>clearTimeout(m)}},[a,n]),r?A.jsx("div",{className:`secret-toast-overlay ${u?"exiting":""}`,children:A.jsxs("div",{className:"secret-toast",children:[A.jsx("div",{className:"secret-toast-glitch",children:A.jsx("span",{className:"secret-toast-icon",children:""})}),A.jsxs("div",{className:"secret-toast-content",children:[A.jsx("p",{className:"secret-toast-title",children:"Fascicolo Segreto Scoperto"}),A.jsx("p",{className:"secret-toast-name",children:e})]}),A.jsx("div",{className:"secret-toast-hint",children:"Controlla la sezione segreta nei Casi"})]})}):null}function xO(){const a=ho(),{totalSolved:e,lastVisitFormatted:n,unlockSecret:r,isSecretUnlocked:o,username:u}=cu(),f=e>0&&n,[m,g]=z.useState(0),[y,E]=z.useState(!1),S=z.useCallback(()=>{const R=m+1;g(R),R>=5&&!o("lens")&&(r("lens"),E(!0))},[m,r,o]);return A.jsxs("div",{className:"landing",children:[A.jsxs("div",{className:"landing-content",children:[A.jsx("div",{className:"landing-badge",children:"Enigmi Investigativi"}),A.jsxs("h1",{className:"landing-title",children:[A.jsx("span",{className:"title-icon",children:""}),A.jsx("span",{className:"title-text",children:"SHERLOCKED"})]}),f?A.jsxs("div",{className:"welcome-back",children:[A.jsxs("p",{className:"welcome-back-text",children:["Bentornato",u?`, ${u}`:", Detective","."]}),A.jsxs("p",{className:"welcome-back-sub",children:["Ultima visita: ",n]})]}):A.jsxs("p",{className:"landing-subtitle",children:[u?`Benvenuto, ${u}.`:"Ventiquattro enigmi. Una sola verit.",A.jsx("br",{}),"Hai la mente per risolvere il caso?"]}),A.jsx("div",{className:"landing-stats",children:e>0&&A.jsxs("div",{className:"stat-badge",children:[A.jsx("span",{className:"stat-number",children:e}),A.jsxs("span",{className:"stat-label",children:["/ ",Zn.length," casi risolti"]})]})}),A.jsxs("div",{className:"landing-actions",children:[A.jsxs("button",{className:"btn btn-primary",onClick:()=>a("/cases"),children:[A.jsx("span",{className:"btn-icon",children:""}),e>0?"Continua l'Indagine":"Inizia l'Indagine"]}),A.jsxs("button",{className:"btn btn-secondary btn-leaderboard-landing",onClick:()=>a("/leaderboard"),children:[A.jsx("span",{className:"btn-icon",children:""}),"Classifica"]})]}),A.jsxs("div",{className:"landing-quote",children:[A.jsxs("blockquote",{children:[`"Quando hai eliminato l'impossibile, ci che resta,`,A.jsx("br",{}),'per quanto improbabile, deve essere la verit."']}),A.jsx("cite",{children:" Sherlock Holmes"})]})]}),A.jsxs("div",{className:"landing-decoration",children:[A.jsx("div",{className:"deco-line"}),A.jsx("div",{className:`deco-magnifier ${m>0?"clicked":""}`,onClick:S,title:"",style:{cursor:"default"},children:""}),A.jsx("div",{className:"deco-line"})]}),A.jsx(Kp,{show:y,secretName:"L'Occhio del Detective",onClose:()=>E(!1)})]})}const aT=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];function VO(a){const[e,n]=z.useState(0),r=z.useCallback(o=>{const u=(o.key.toLowerCase,o.key),f=aT[e];u===f||u===f.toLowerCase()?e+1===aT.length?(a(),n(0)):n(m=>m+1):n(0)},[e,a]);z.useEffect(()=>(window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)),[r])}const Gm=[{id:"s1",secret:!0,secretTrigger:"konami",triggerLabel:"Konami Code",title:"Il Codice del Hacker",subtitle:"01001000 01100101 01101100 01110000",type:"binary",difficulty:4,icon:"",hiddenClue:"01001000 01000101 01001100 01010000  deciframi e saprai il vero nome dell'operazione.",description:"Un fascicolo classificato, accessibile solo a chi conosce il codice segreto. Il messaggio  scritto nel linguaggio delle macchine.",question:`Decifra il messaggio binario.
Ogni gruppo di 8 bit  una lettera:

A=01000001  B=01000010  C=01000011
D=01000100  E=01000101  I=01001001
L=01001100  N=01001110  O=01001111
R=01010010  S=01010011  T=01010100
U=01010101  V=01010110

Messaggio:
01010110 01001001 01010010 01010101 01010011

Quale parola si nasconde?`,answer:"virus",acceptedAnswers:["virus","il virus","un virus"],hints:["Ogni gruppo di 8 cifre corrisponde a una lettera...","01010110 = V, 01001001 = I...","V-I-R-U-S: qualcosa di pericoloso, sia nel mondo reale che in quello digitale."],successMessage:`"Virus"  il nome in codice dell'operazione segreta. Questo fascicolo era nascosto per un motivo...`,lore:"Un fascicolo criptato trovato nei server del dipartimento. Solo chi conosce il codice antico pu accedervi."},{id:"s2",secret:!0,secretTrigger:"baker",triggerLabel:"221B Baker Street",title:"Il Caso di Baker Street",subtitle:"Un enigma per chi conosce il Maestro",type:"riddle",difficulty:3,icon:"",hiddenClue:"Il gioco  sempre in corso, Watson. Anche quando pensi che sia finito.",description:"Hai trovato il fascicolo personale del detective pi famoso della storia. Solo un vero conoscitore pu rispondere.",question:`Sono nato dalla penna, non dalla carne.
Vivo in una strada che tutti conoscono
ma nessuno pu visitare.

Il mio migliore amico scrive le mie avventure.
Il mio nemico  un professore di matematica.

Chi mi ha dato la vita...
poi la morte...
e poi di nuovo la vita?`,answer:"conan doyle",acceptedAnswers:["conan doyle","arthur conan doyle","sir arthur conan doyle","doyle"],hints:["Il detective in questione abita al 221B...","Il suo creatore era un medico scozzese...",'Lo "uccise" alle cascate di Reichenbach, ma i fan lo costrinsero a resuscitarlo.'],successMessage:'Arthur Conan Doyle  il creatore di Sherlock Holmes, che lo uccise ne "Il problema finale" e fu costretto a riportarlo in vita. Caso degno del Maestro!',lore:"Hai digitato l'indirizzo pi famoso della letteratura. Dietro la porta del 221B, un ultimo enigma ti attendeva."},{id:"s3",secret:!0,secretTrigger:"lens",triggerLabel:"La Lente Segreta",title:"L'Occhio del Detective",subtitle:"La logica batte sempre l'intuizione",type:"logic",difficulty:4,icon:"",hiddenClue:"Il principio della piccionaia funziona ovunque. Anche con i sospettati: se hai 3 indizi e 2 possibili colpevoli...",description:"Un fascicolo dimenticato nel cassetto. Un enigma di pura logica che sfida l'intuizione.",question:`In un cassetto ci sono esattamente
10 calzini neri e 10 calzini bianchi,
tutti mescolati alla rinfusa.

 completamente buio,
non puoi vedere i colori.

Quanti calzini devi prendere dal cassetto
per essere SICURO al 100% di avere
almeno una coppia dello stesso colore?`,answer:"3",acceptedAnswers:["3","tre"],hints:["Non pensare alla probabilit, pensa alla certezza...","Se prendi 2 calzini, POTRESTI avere uno nero e uno bianco...","Con 3 calzini, almeno 2 DEVONO essere dello stesso colore (principio dei cassetti)."],successMessage:"3! Il principio della piccionaia (pigeonhole principle): con 2 colori possibili, 3 estrazioni garantiscono una coppia. Logica pura!",lore:"La lente d'ingrandimento rivela ci che l'occhio nudo non vede. Hai guardato nel posto giusto."},{id:"s4",secret:!0,secretTrigger:"shadow",triggerLabel:"L'Ombra Nascosta",title:"Il Fantasma della Mezzanotte",subtitle:"Alcuni segreti si nascondono in piena vista",type:"riddle",difficulty:3,icon:"",hiddenClue:"I fantasmi non esistono. Ma i segreti nascosti in piena vista s. Ne hai trovati tutti e quattro?",description:"Un fascicolo trovato nell'ombra, visibile solo a chi sa dove guardare. Qualcuno lo ha nascosto dove nessuno penserebbe di cercare.",question:`Non ho voce, eppure parlo a tutti.
Non ho gambe, eppure viaggio per il mondo.
Non ho occhi, eppure faccio piangere e ridere.
Posso vivere per sempre,
ma basta una fiamma per uccidermi.

Cosa sono?`,answer:"libro",acceptedAnswers:["libro","un libro","il libro","i libri","libri"],hints:["Puoi trovarlo in una biblioteca...","Ha pagine ma non  un calendario...","Contiene storie, ma non  una persona."],successMessage:"Un libro! Parla senza voce, viaggia per il mondo, fa emozionare, e il fuoco  il suo peggior nemico. Hai trovato il segreto nascosto nell'ombra.",lore:"Nascosto dove nessuno guarda. Un fascicolo che aspettava il detective giusto."}],Qm=[{id:"m1",meta:!0,title:"Il Filo Invisibile",subtitle:"Cinque casi, un'unica parola nascosta",type:"meta",difficulty:3,icon:"",hiddenClue:"Il filo che collega tutto  sempre stato davanti ai tuoi occhi. Basta sapere dove guardare.",requiredPuzzles:[7,2,5,9,4],description:"Un filo invisibile collega cinque casi che hai gi risolto. Le loro risposte nascondono un'ultima parola. Torna ai casi chiusi e osserva ci che avevi sotto gli occhi.",question:`Cinque casi chiusi. Cinque risposte trovate.
Le risposte stesse nascondono un messaggio.

Prendi la PRIMA LETTERA della risposta
di ciascun caso indicato:

 Dove le iniziali di ogni parola
   svelano un segreto...

 Dove un cifrario antico
   nasconde la verit...

 Dove una voce senza corpo
   risponde nel silenzio...

 Dove punti e linee
   trasmettono dal passato...

 Dove le lettere in disordine
   celano l'essenziale...

Quale parola si forma?`,answer:"sveli",acceptedAnswers:["sveli","tu sveli"],hints:["Ogni descrizione punta a un caso gi risolto. Riconosci i temi?"," = Il Messaggio Nascosto  S...,  = Il Codice Cesareo  V...","S-V-E-L-I: un verbo che significa 'riveli'."],successMessage:`"Sveli"  riveli la verit! Le risposte dei casi passati erano collegate fin dall'inizio. Il filo invisibile lega ogni indagine.`,lore:"Un fascicolo misterioso  apparso sulla tua scrivania. Qualcuno ha collegato i casi con un filo sottile. Solo chi ha gi risolto pu vedere il disegno."},{id:"m2",meta:!0,title:"La Cospirazione",subtitle:"Sette casi, sette lettere, una verit",type:"meta",difficulty:4,icon:"",hiddenClue:"La cospirazione era sotto i nostri occhi. Ogni caso era un tassello di un mosaico pi grande.",requiredPuzzles:[1,4,7,16,5,12,18],description:"Sette casi risolti nascondono una parola che lega tutto. L'indagine non era fatta di casi separati  era un unico grande complotto. Torna ai casi chiusi e cerca la connessione.",question:`Sette casi. Sette lettere. Un'unica parola
che lega tutto dall'inizio.

Prendi la PRIMA LETTERA della risposta
di ciascun caso indicato:

 Dove tutto  iniziato,
   nella stanza del professore...

 Dove le lettere danzano
   e il significato si nasconde...

 Dove le parole nascondono
   un messaggio tra le righe...

 Dove qualcosa di invisibile
   governa ogni cosa...

 Dove il silenzio
   ha una voce propria...

 Dove un vecchio telefono
   confessa il crimine...

 Dove il cifrario del conte
   protegge un nome...

Quale parola si forma?`,answer:"mistero",acceptedAnswers:["mistero","il mistero"],hints:["Ripensa ai temi di ogni caso.  parla del professore... quale caso inizia nella stanza del professore?"," = Il Primo Indizio  M...,  = Parole nell'Ombra  I...,  = Il Messaggio Nascosto  S...","M-I-S-T-E-R-O: la parola che definisce tutto ci che fai."],successMessage:`"Mistero"  la parola che definisce la tua intera indagine. Non erano casi separati: ogni enigma era parte di un unico grande mistero orchestrato fin dall'inizio.`,lore:"Un informatore anonimo ha lasciato un fascicolo sigillato con sette timbri. Ogni timbro corrisponde a un caso chiuso. Il messaggio finale rivela la verit dietro tutto."},{id:"m3",meta:!0,title:"Il Dossier Finale",subtitle:"L'ultimo collegamento. Il cerchio si chiude.",type:"meta",difficulty:5,icon:"",hiddenClue:"Il dossier  completo. Ma ogni fine  un nuovo inizio. Hai trovato tutti i segreti?",requiredPuzzles:[21,18,13,11,4,5,12],description:"Il dossier finale dell'intera indagine. Sette casi, apparentemente slegati, nascondono la parola che chiude il cerchio. Torna agli archivi e ricostruisci il collegamento definitivo.",question:`Il dossier finale  davanti a te.
Sette casi. Sette iniziali. Una parola.

Prendi la PRIMA LETTERA della risposta
di ciascun caso indicato:

 Dove numeri romani
   firmano un ultimo messaggio...

 Dove un cifrario sofisticato
   protegge un'identit...

 Dove un labirinto di lettere
   forma un percorso...

 Dove la risposta  il contrario
   di ci che sembra...

 Dove lettere mescolate
   nascondono l'essenziale...

 Dove una voce incorporea
   risponde nel vuoto...

 Dove tasti numerati
   compongono una confessione...

Quale parola si forma?`,answer:"dossier",acceptedAnswers:["dossier","il dossier"],hints:["Ogni descrizione corrisponde a un caso specifico.  parla di numeri romani... quale caso usava i numeri romani?"," = I Numeri Romani del Morto  D...,  = Il Cifrario del Conte  O...,  = Il Labirinto Segreto  S...","D-O-S-S-I-E-R: il fascicolo completo dell'indagine."],successMessage:`"Dossier"  il fascicolo completo. Ogni caso era una pagina di questo dossier. L'indagine  finalmente completa. Sei un detective leggendario, oltre ogni dubbio.`,lore:"Il commissario ti ha consegnato un fascicolo sigillato. Solo chi ha risolto tutti i casi collegati pu aprirlo dice. Il cerchio si chiude qui."}];function LO(){const a=ho(),{isSolved:e,isUnlocked:n,totalSolved:r,totalSecretsSolved:o,resetProgress:u,unlockSecret:f,isSecretUnlocked:m,user:g}=cu(),{logOut:y}=Qh(),E=r===Zn.length,[S,R]=z.useState(!1),[L,K]=z.useState(""),$=z.useCallback(()=>{m("konami")||(f("konami"),K("Il Codice del Hacker"),R(!0))},[f,m]);VO($);const G=z.useCallback(()=>{m("shadow")||(f("shadow"),K("Il Fantasma della Mezzanotte"),R(!0))},[f,m]),ie=Gm.filter(ae=>m(ae.secretTrigger)),ne=Qm.filter(ae=>ae.requiredPuzzles.every(de=>e(de))),X=Qm.filter(ae=>e(ae.id)).length;return A.jsxs("div",{className:"case-select",children:[A.jsxs("header",{className:"case-header",children:[A.jsx("button",{className:"btn-back",onClick:()=>a("/"),children:" Indietro"}),A.jsxs("div",{className:"header-center",children:[A.jsx("h1",{className:"case-title",children:"Fascicolo dei Casi"}),A.jsxs("p",{className:"case-subtitle",children:[r," di ",Zn.length," casi risolti",X>0&&`  ${X} collegati`,o>0&&`  ${o} segreti`]})]}),A.jsxs("div",{className:"header-right header-actions",children:[g?.photoURL&&A.jsx("img",{className:"header-avatar",src:g.photoURL,alt:g.displayName,referrerPolicy:"no-referrer",title:g.displayName}),A.jsx("button",{className:"btn-leaderboard",onClick:()=>a("/leaderboard"),title:"Classifica",children:""}),r>0&&A.jsx("button",{className:"btn-reset",onClick:u,children:"Ricomincia"}),A.jsx("button",{className:"btn-logout",onClick:y,title:"Esci",children:""})]})]}),A.jsx("div",{className:"progress-bar-container",children:A.jsx("div",{className:"progress-bar-fill",style:{width:`${r/Zn.length*100}%`}})}),E&&A.jsxs("div",{className:"all-solved-banner",onClick:()=>a("/victory"),children:[A.jsx("span",{children:""})," Tutti i casi sono risolti! Visualizza il finale "]}),A.jsx("div",{className:"cases-grid",children:Zn.map(ae=>{const de=e(ae.id),ye=n(ae.id);return A.jsxs("div",{className:`case-card ${de?"solved":""} ${ye?"unlocked":"locked"}`,onClick:()=>ye&&a(`/case/${ae.id}`),children:[A.jsxs("div",{className:"case-card-header",children:[A.jsxs("span",{className:"case-number",children:["Caso #",ae.id]}),A.jsxs("span",{className:"case-difficulty",children:["".repeat(ae.difficulty),"".repeat(5-ae.difficulty)]})]}),A.jsx("div",{className:"case-card-icon",children:ye?ae.icon:""}),A.jsx("h3",{className:"case-card-title",children:ye?ae.title:"???"}),A.jsx("p",{className:"case-card-subtitle",children:ye?ae.subtitle:"Risolvi il caso precedente per sbloccare"}),de&&A.jsx("div",{className:"case-solved-badge",children:" Risolto"}),A.jsx("div",{className:"case-card-type",children:ye&&A.jsx("span",{className:"type-badge",children:UO(ae.type)})})]},ae.id)})}),ne.length>0&&A.jsxs("div",{className:"meta-section",children:[A.jsxs("div",{className:"meta-section-header",children:[A.jsx("div",{className:"meta-section-line"}),A.jsx("h2",{className:"meta-section-title",children:" Enigmi Collegati"}),A.jsx("div",{className:"meta-section-line"})]}),A.jsx("p",{className:"meta-section-subtitle",children:"La risposta si nasconde nei casi gi risolti"}),A.jsx("div",{className:"cases-grid",children:ne.map(ae=>{const de=e(ae.id);return A.jsxs("div",{className:`case-card meta-card ${de?"solved":"unlocked"}`,onClick:()=>a(`/case/${ae.id}`),children:[A.jsxs("div",{className:"case-card-header",children:[A.jsx("span",{className:"case-number meta-label",children:"Collegato"}),A.jsxs("span",{className:"case-difficulty",children:["".repeat(ae.difficulty),"".repeat(5-ae.difficulty)]})]}),A.jsx("div",{className:"case-card-icon",children:ae.icon}),A.jsx("h3",{className:"case-card-title",children:ae.title}),A.jsx("p",{className:"case-card-subtitle",children:ae.subtitle}),de&&A.jsx("div",{className:"case-solved-badge",children:" Risolto"}),A.jsx("div",{className:"case-card-type",children:A.jsxs("span",{className:"type-badge meta-type-badge",children:[" ",ae.requiredPuzzles.length," casi collegati"]})})]},ae.id)})})]}),ie.length>0&&A.jsxs("div",{className:"secret-section",children:[A.jsxs("div",{className:"secret-section-header",children:[A.jsx("div",{className:"secret-section-line"}),A.jsx("h2",{className:"secret-section-title",children:" Fascicoli Segreti"}),A.jsx("div",{className:"secret-section-line"})]}),A.jsxs("p",{className:"secret-section-subtitle",children:[ie.length," di ",Gm.length," segreti scoperti"]}),A.jsx("div",{className:"cases-grid",children:ie.map(ae=>{const de=e(ae.id);return A.jsxs("div",{className:`case-card secret-card ${de?"solved":"unlocked"}`,onClick:()=>a(`/case/${ae.id}`),children:[A.jsxs("div",{className:"case-card-header",children:[A.jsx("span",{className:"case-number secret-label",children:"Segreto"}),A.jsxs("span",{className:"case-difficulty",children:["".repeat(ae.difficulty),"".repeat(5-ae.difficulty)]})]}),A.jsx("div",{className:"case-card-icon",children:ae.icon}),A.jsx("h3",{className:"case-card-title",children:ae.title}),A.jsx("p",{className:"case-card-subtitle",children:ae.subtitle}),de&&A.jsx("div",{className:"case-solved-badge",children:" Risolto"}),A.jsx("div",{className:"case-card-type",children:A.jsxs("span",{className:"type-badge secret-trigger-badge",children:[" ",ae.triggerLabel]})})]},ae.id)})})]}),A.jsx("div",{className:"hidden-shadow",onClick:G,children:m("shadow")?"":"Non c' niente qui... o forse s?"}),A.jsx(Kp,{show:S,secretName:L,onClose:()=>R(!1)})]})}function UO(a){return{riddle:" Indovinello",cipher:" Cifrario",sequence:" Sequenza",anagram:" Anagramma",math:" Logica Matematica",hidden:" Messaggio Nascosto",morse:" Codice Morse",mirror:" Lettura Speculare",lateral:" Pensiero Laterale",phone:" Codice Telefonico",grid:" Labirinto di Lettere",logic:" Deduzione Logica",equations:" Sistema di Equazioni",vigenere:" Cifrario di Vigenre",optimization:" Ottimizzazione",roman:" Numeri Romani",multistep:" Enigma a Strati",meta:" Enigma Collegato"}[a]||" Enigma"}function rT(a){const e=Number(a);return isNaN(e)?a.startsWith("m")?Qm.find(n=>n.id===a):Gm.find(n=>n.id===a):Zn.find(n=>n.id===e)}function kO(){const{id:a}=pA(),e=ho(),{solveCase:n,isSolved:r,isUnlocked:o,unlockSecret:u,isSecretUnlocked:f}=cu(),m=rT(a),g=m?.secret===!0,y=m?.meta===!0,[E,S]=z.useState(""),[R,L]=z.useState(0),[K,$]=z.useState(null),[G,ie]=z.useState(!1),[ne,X]=z.useState(!1),[ae,de]=z.useState(!0),[ye,C]=z.useState(!1),[w,I]=z.useState(!1),[V,M]=z.useState(!1),[k,N]=z.useState(0),$e=z.useRef(null);z.useEffect(()=>{S(""),$(null),L(0),X(!1),de(!0),C(!1),I(!1),M(!1),N(0);const O=rT(a);ie(O?r(O.id):!1)},[a]),z.useEffect(()=>{!ae&&$e.current&&$e.current.focus()},[ae]);const ft=z.useCallback(()=>{f("baker")||(u("baker"),I(!0))},[u,f]);if(!m)return A.jsx("div",{className:"puzzle-view",children:A.jsxs("div",{className:"puzzle-not-found",children:[A.jsx("h2",{children:"Caso non trovato"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/cases"),children:"Torna ai Casi"})]})});if(g&&!f(m.secretTrigger))return A.jsx("div",{className:"puzzle-view",children:A.jsxs("div",{className:"puzzle-locked",children:[A.jsx("div",{className:"locked-icon",children:""}),A.jsx("h2",{children:"Fascicolo Classificato"}),A.jsx("p",{children:"Questo fascicolo richiede un accesso speciale."}),A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/cases"),children:"Torna ai Casi"})]})});if(y&&!m.requiredPuzzles.every(O=>r(O)))return A.jsx("div",{className:"puzzle-view",children:A.jsxs("div",{className:"puzzle-locked",children:[A.jsx("div",{className:"locked-icon",children:""}),A.jsx("h2",{children:"Fascicolo Incompleto"}),A.jsx("p",{children:"Devi risolvere tutti i casi collegati per accedere a questo enigma."}),A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/cases"),children:"Torna ai Casi"})]})});if(!g&&!y&&!o(m.id)&&!r(m.id))return A.jsx("div",{className:"puzzle-view",children:A.jsxs("div",{className:"puzzle-locked",children:[A.jsx("div",{className:"locked-icon",children:""}),A.jsx("h2",{children:"Caso Bloccato"}),A.jsx("p",{children:"Devi risolvere il caso precedente per accedere a questo."}),A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/cases"),children:"Torna ai Casi"})]})});const Q=O=>O.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""),se=()=>{const O=Q(E);if(!g&&!y&&(O==="221b"||O==="221bbakerstreet")){ft();return}m.acceptedAnswers.some(oe=>Q(oe)===O)?(ie(!0),n(m.id),$({type:"success",message:m.successMessage}),C(!0),setTimeout(()=>C(!1),3e3)):($({type:"error",message:"Non  la risposta corretta. Riprova..."}),X(!0),setTimeout(()=>X(!1),600))},me=O=>{O.key==="Enter"&&E.trim()&&se()},Ue=()=>{R<m.hints.length&&L(O=>O+1)},je=g||y?null:Zn.find(O=>O.id===m.id+1);return ae?A.jsx("div",{className:"puzzle-view",children:A.jsxs("div",{className:`lore-screen ${g?"lore-secret":""} ${y?"lore-meta":""}`,children:[A.jsx("div",{className:"lore-case-number",children:y?" Enigma Collegato":g?" Fascicolo Segreto":`Caso #${m.id}`}),A.jsx("h1",{className:"lore-title",children:m.title}),A.jsx("div",{className:"lore-divider",children:A.jsx("span",{children:y?"":g?"":""})}),A.jsx("p",{className:"lore-text",children:m.lore}),A.jsx("p",{className:"lore-description",children:m.description}),A.jsx("button",{className:`btn ${y?"btn-meta":g?"btn-secret":"btn-primary"}`,onClick:()=>de(!1),children:"Esamina l'Enigma "})]})}):A.jsxs("div",{className:"puzzle-view",children:[A.jsxs("header",{className:`puzzle-header ${g?"puzzle-header-secret":""} ${y?"puzzle-header-meta":""}`,children:[A.jsx("button",{className:"btn-back",onClick:()=>e("/cases"),children:" Casi"}),A.jsxs("div",{className:"puzzle-header-center",children:[A.jsx("span",{className:`puzzle-header-icon ${k>0?"icon-tapped":""}`,onClick:()=>{const O=k+1;N(O),O>=3&&m.hiddenClue&&M(!0)},children:m.icon}),A.jsx("span",{className:"puzzle-header-title",children:y?`Collegato  ${m.title}`:g?`Segreto  ${m.title}`:`Caso #${m.id}  ${m.title}`})]}),A.jsx("div",{className:"puzzle-header-right",children:A.jsxs("span",{className:"difficulty-stars",children:["".repeat(m.difficulty),"".repeat(5-m.difficulty)]})})]}),A.jsxs("div",{className:"puzzle-content",children:[A.jsxs("div",{className:`puzzle-question-card ${g?"secret-question-card":""} ${y?"meta-question-card":""}`,children:[A.jsx("div",{className:"question-type-badge",children:y?` ${gm(m.type)}`:g?` ${gm(m.type)}`:gm(m.type)}),A.jsx("pre",{className:"puzzle-question",children:m.question})]}),V&&m.hiddenClue&&A.jsxs("div",{className:"hidden-clue-card",children:[A.jsxs("div",{className:"hidden-clue-header",children:[A.jsx("span",{className:"hidden-clue-icon",children:""}),A.jsx("span",{className:"hidden-clue-label",children:"Nota dell'investigatore precedente"})]}),A.jsxs("p",{className:"hidden-clue-text",children:['"',m.hiddenClue,'"']})]}),!G&&A.jsx("div",{className:`puzzle-input-section ${ne?"shake":""}`,children:A.jsxs("div",{className:"input-group",children:[A.jsx("input",{ref:$e,type:"text",className:"puzzle-input",placeholder:"Scrivi la tua risposta...",value:E,onChange:O=>S(O.target.value),onKeyDown:me,autoFocus:!0}),A.jsx("button",{className:"btn btn-submit",onClick:se,disabled:!E.trim(),children:"Verifica"})]})}),K&&A.jsxs("div",{className:`feedback ${K.type}`,children:[A.jsx("div",{className:"feedback-icon",children:K.type==="success"?"":""}),A.jsx("p",{className:"feedback-message",children:K.message})]}),!G&&A.jsxs("div",{className:"hints-section",children:[m.hints.slice(0,R).map((O,Z)=>A.jsxs("div",{className:"hint-card",children:[A.jsxs("span",{className:"hint-label",children:["Indizio ",Z+1,":"]}),A.jsx("span",{className:"hint-text",children:O})]},Z)),R<m.hints.length&&A.jsxs("button",{className:"btn btn-hint",onClick:Ue,children:[" Mostra Indizio (",R,"/",m.hints.length,")"]})]}),G&&A.jsxs("div",{className:"solved-actions",children:[je?A.jsx("button",{className:"btn btn-primary",onClick:()=>e(`/case/${je.id}`),children:"Prossimo Caso "}):!g&&!y?A.jsx("button",{className:"btn btn-primary",onClick:()=>e("/victory"),children:" Vedi il Finale"}):null,A.jsx("button",{className:"btn btn-secondary",onClick:()=>e("/cases"),children:"Torna ai Casi"})]})]}),ye&&A.jsxs("div",{className:"save-toast",children:[A.jsx("span",{className:"save-toast-icon",children:""}),"Progresso salvato"]}),A.jsx(Kp,{show:w,secretName:"Il Caso di Baker Street",onClose:()=>I(!1)})]})}function gm(a){return{riddle:" Indovinello",cipher:" Cifrario",sequence:" Sequenza",anagram:" Anagramma",math:" Logica Matematica",hidden:" Messaggio Nascosto",morse:" Codice Morse",mirror:" Lettura Speculare",lateral:" Pensiero Laterale",phone:" Codice Telefonico",grid:" Labirinto di Lettere",logic:" Deduzione Logica",equations:" Sistema di Equazioni",vigenere:" Cifrario di Vigenre",optimization:" Ottimizzazione",roman:" Numeri Romani",multistep:" Enigma a Strati",binary:" Codice Binario",meta:" Enigma Collegato"}[a]||" Enigma"}function zO(){const a=ho(),{totalSolved:e,resetProgress:n}=cu();return e===Zn.length?A.jsxs("div",{className:"victory",children:[A.jsx("div",{className:"victory-confetti",children:Array.from({length:30}).map((o,u)=>A.jsx("div",{className:"confetti-piece",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*4}s`,backgroundColor:["#d4a853","#c9302c","#2d5a27","#1a3a5c","#7b2d8e"][Math.floor(Math.random()*5)]}},u))}),A.jsxs("div",{className:"victory-content",children:[A.jsx("div",{className:"victory-badge",children:"Caso Chiuso"}),A.jsx("div",{className:"victory-icon",children:""}),A.jsx("h1",{className:"victory-title",children:"Congratulazioni, Detective!"}),A.jsx("div",{className:"victory-divider",children:A.jsx("span",{children:""})}),A.jsxs("p",{className:"victory-text",children:["Hai risolto tutti i ",Zn.length," casi con successo.",A.jsx("br",{}),"La verit  stata portata alla luce e la giustizia  stata fatta."]}),A.jsxs("div",{className:"victory-quote",children:[A.jsxs("blockquote",{children:['"Il mondo  pieno di cose ovvie che nessuno',A.jsx("br",{}),'si prende mai la briga di osservare."']}),A.jsx("cite",{children:" Sherlock Holmes"})]}),A.jsxs("div",{className:"victory-stats",children:[A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-value",children:e}),A.jsx("div",{className:"stat-name",children:"Casi Risolti"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-value",children:""}),A.jsx("div",{className:"stat-name",children:"Mente Brillante"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-value",children:""}),A.jsx("div",{className:"stat-name",children:"Detective Supremo"})]})]}),A.jsxs("div",{className:"victory-actions",children:[A.jsx("button",{className:"btn btn-primary",onClick:()=>{n(),a("/cases")},children:" Gioca di Nuovo"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>a("/"),children:"Torna alla Home"})]})]})]}):A.jsx("div",{className:"victory",children:A.jsxs("div",{className:"victory-content",children:[A.jsx("div",{className:"victory-icon",children:""}),A.jsx("h1",{children:"L'indagine non  ancora conclusa"}),A.jsxs("p",{children:["Hai risolto ",e," casi su ",Zn.length,". Continua a investigare!"]}),A.jsx("button",{className:"btn btn-primary",onClick:()=>a("/cases"),children:"Torna ai Casi"})]})})}function PO(){const a=ho(),{user:e,username:n,totalSolved:r,totalSecretsSolved:o,totalMetaSolved:u}=cu(),[f,m]=z.useState(null),[g,y]=z.useState(!0),[E,S]=z.useState(!1);z.useEffect(()=>{let L=!1;async function K(){y(!0),S(!1);const $=await MO(50);L||($===null?S(!0):m($),y(!1))}return K(),()=>{L=!0}},[]);const R=r+o*2+u*3;return A.jsxs("div",{className:"leaderboard",children:[A.jsxs("header",{className:"leaderboard-header",children:[A.jsx("button",{className:"btn-back",onClick:()=>a("/cases"),children:" Indietro"}),A.jsxs("div",{className:"header-center",children:[A.jsx("h1",{className:"leaderboard-title",children:" Classifica Detective"}),A.jsx("p",{className:"leaderboard-subtitle",children:"I migliori investigatori di Sherlocked"})]}),A.jsx("div",{className:"header-right"})]}),n&&A.jsxs("div",{className:"leaderboard-my-stats",children:[A.jsxs("div",{className:"my-stats-name",children:[e?.photoURL?A.jsx("img",{className:"my-stats-avatar",src:e.photoURL,alt:"",referrerPolicy:"no-referrer"}):A.jsx("span",{className:"my-stats-icon",children:""}),A.jsx("span",{children:n})]}),A.jsxs("div",{className:"my-stats-scores",children:[A.jsxs("div",{className:"my-stat",children:[A.jsx("span",{className:"my-stat-value",children:r}),A.jsxs("span",{className:"my-stat-label",children:["/ ",Zn.length," casi"]})]}),o>0&&A.jsxs("div",{className:"my-stat",children:[A.jsx("span",{className:"my-stat-value",children:o}),A.jsx("span",{className:"my-stat-label",children:"segreti"})]}),u>0&&A.jsxs("div",{className:"my-stat",children:[A.jsx("span",{className:"my-stat-value",children:u}),A.jsx("span",{className:"my-stat-label",children:"collegati"})]}),A.jsxs("div",{className:"my-stat my-stat-total",children:[A.jsx("span",{className:"my-stat-value",children:R}),A.jsx("span",{className:"my-stat-label",children:"punti"})]})]})]}),A.jsx("div",{className:"scoring-info",children:A.jsx("span",{children:"Punteggio: Caso = 1 pt  Segreto = 2 pt  Collegato = 3 pt"})}),A.jsxs("div",{className:"leaderboard-table-container",children:[g&&A.jsxs("div",{className:"leaderboard-loading",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Caricamento classifica..."})]}),E&&!g&&A.jsxs("div",{className:"leaderboard-error",children:[A.jsx("p",{className:"leaderboard-error-icon",children:""}),A.jsx("p",{children:"Classifica non disponibile."}),!Br&&A.jsx("p",{className:"leaderboard-error-hint",children:"Firebase non  configurato. La classifica online richiede una connessione a Firebase."})]}),!g&&!E&&f&&(f.length===0?A.jsxs("div",{className:"leaderboard-empty",children:[A.jsx("p",{className:"leaderboard-empty-icon",children:""}),A.jsx("p",{children:"Nessun detective in classifica."}),A.jsx("p",{className:"leaderboard-empty-hint",children:"Risolvi il tuo primo caso per entrare!"})]}):A.jsxs("table",{className:"leaderboard-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"col-rank",children:"#"}),A.jsx("th",{className:"col-name",children:"Detective"}),A.jsx("th",{className:"col-cases",children:"Casi"}),A.jsx("th",{className:"col-secrets",children:"Segreti"}),A.jsx("th",{className:"col-meta",children:"Collegati"}),A.jsx("th",{className:"col-score",children:"Punti"})]})}),A.jsx("tbody",{children:f.map(L=>{const K=e&&L.id===e.uid;return A.jsxs("tr",{className:`leaderboard-row ${K?"is-me":""} ${L.rank<=3?`top-${L.rank}`:""}`,children:[A.jsx("td",{className:"col-rank",children:L.rank===1?"":L.rank===2?"":L.rank===3?"":L.rank}),A.jsx("td",{className:"col-name",children:A.jsxs("span",{className:"entry-name-cell",children:[L.photoURL&&A.jsx("img",{className:"entry-avatar",src:L.photoURL,alt:"",referrerPolicy:"no-referrer"}),A.jsx("span",{children:L.name}),K&&A.jsx("span",{className:"me-badge",children:"tu"})]})}),A.jsx("td",{className:"col-cases",children:L.puzzlesSolved||0}),A.jsx("td",{className:"col-secrets",children:L.secretsSolved||0}),A.jsx("td",{className:"col-meta",children:L.metaSolved||0}),A.jsx("td",{className:"col-score",children:L.totalScore||0})]},L.id)})})]}))]})]})}function jO(){const{signIn:a,isConfigured:e}=Qh(),[n,r]=z.useState(!1),[o,u]=z.useState(""),f=async()=>{r(!0),u(""),await a()||u("Accesso annullato o non riuscito. Riprova."),r(!1)};return A.jsx("div",{className:"name-input-overlay",children:A.jsxs("div",{className:"name-input-modal",children:[A.jsx("div",{className:"name-input-icon",children:""}),A.jsx("h2",{className:"name-input-title",children:"Identifica il Detective"}),A.jsx("p",{className:"name-input-desc",children:"Accedi con Google per entrare nel fascicolo e comparire nella classifica. La tua identit sar verificata."}),e?A.jsxs(A.Fragment,{children:[A.jsxs("button",{className:"btn-google",onClick:f,disabled:n,children:[A.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:[A.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),A.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),A.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),A.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n?"Accesso in corso...":"Accedi con Google"]}),o&&A.jsx("p",{className:"name-input-error",children:o})]}):A.jsx("div",{className:"signin-error-box",children:A.jsx("p",{children:" Autenticazione non configurata."})}),A.jsx("p",{className:"name-input-note",children:"Il tuo nome Google sar visibile nella classifica pubblica."})]})})}function qO(){const{isAuthenticated:a,loading:e}=Qh();return e?A.jsxs("div",{className:"app",children:[A.jsx("div",{className:"fog fog-1"}),A.jsx("div",{className:"fog fog-2"}),A.jsx("div",{className:"auth-loading",children:A.jsx("div",{className:"loading-spinner"})})]}):A.jsxs("div",{className:"app",children:[A.jsx("div",{className:"fog fog-1"}),A.jsx("div",{className:"fog fog-2"}),!a&&A.jsx(jO,{}),A.jsxs(DA,{children:[A.jsx(Gs,{path:"/",element:A.jsx(xO,{})}),A.jsx(Gs,{path:"/cases",element:A.jsx(LO,{})}),A.jsx(Gs,{path:"/case/:id",element:A.jsx(kO,{})}),A.jsx(Gs,{path:"/victory",element:A.jsx(zO,{})}),A.jsx(Gs,{path:"/leaderboard",element:A.jsx(PO,{})})]})]})}M1.createRoot(document.getElementById("root")).render(A.jsx(z.StrictMode,{children:A.jsx(ew,{children:A.jsx(qO,{})})}));
